ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"SDCard_FS.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	SDCard_MemoryStart
  20              		.bss
  21              		.align	2
  22              		.type	SDCard_MemoryStart, %object
  23              		.size	SDCard_MemoryStart, 4
  24              	SDCard_MemoryStart:
  25 0000 00000000 		.space	4
  26              		.comm	SDCard_FileError,2,4
  27              		.comm	SDCard_CurSize,12,4
  28              		.comm	SDCard_CurOffset,12,4
  29              		.comm	SDCard_CurDir,8,4
  30              		.comm	SDCard_CurStart,12,4
  31              		.comm	SDCard_CurFat,12,4
  32              		.comm	SDCard_CurSect,3,4
  33              		.comm	SDCard_CurAttr,2,4
  34              		.comm	SDCard_FileMode,2,4
  35              		.global	SDCard_DirSize
  36              		.data
  37              		.align	2
  38              		.type	SDCard_DirSize, %object
  39              		.size	SDCard_DirSize, 4
  40              	SDCard_DirSize:
  41 0000 00020000 		.word	512
  42              		.global	SDCard_EmptyFat
  43              		.align	2
  44              		.type	SDCard_EmptyFat, %object
  45              		.size	SDCard_EmptyFat, 4
  46              	SDCard_EmptyFat:
  47 0004 02000000 		.word	2
  48              		.comm	SDCard_ClusterSize,1,1
  49              		.global	SDCard_FatEntrySize
  50              		.type	SDCard_FatEntrySize, %object
  51              		.size	SDCard_FatEntrySize, 1
  52              	SDCard_FatEntrySize:
  53 0008 02       		.byte	2
  54              		.comm	SDCard_Fat1Start,4,4
  55              		.comm	SDCard_Fat2Start,4,4
  56              		.comm	SDCard_DirStart,4,4
  57              		.global	SDCard_BuffLoc
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 2


  58              		.bss
  59              		.align	2
  60              		.type	SDCard_BuffLoc, %object
  61              		.size	SDCard_BuffLoc, 4
  62              	SDCard_BuffLoc:
  63 0004 00000000 		.space	4
  64              		.global	SDCard_DirtyFlag
  65              		.type	SDCard_DirtyFlag, %object
  66              		.size	SDCard_DirtyFlag, 1
  67              	SDCard_DirtyFlag:
  68 0008 00       		.space	1
  69              		.global	SDCard_CardType
  70              		.type	SDCard_CardType, %object
  71              		.size	SDCard_CardType, 1
  72              	SDCard_CardType:
  73 0009 00       		.space	1
  74              		.comm	SDCard_DataStart,4,4
  75              		.comm	SDCard_DirFat,4,4
  76              		.global	SDCard_FatEnd
  77              		.data
  78 0009 000000   		.align	2
  79              		.type	SDCard_FatEnd, %object
  80              		.size	SDCard_FatEnd, 4
  81              	SDCard_FatEnd:
  82 000c FFFF0000 		.word	65535
  83              		.comm	SDCard_Address,4,4
  84              		.comm	SDCard_Buffer1,4,4
  85              		.comm	SDCard_Buffer2,4,4
  86              		.global	SDCard_Speed
  87              		.bss
  88              		.type	SDCard_Speed, %object
  89              		.size	SDCard_Speed, 1
  90              	SDCard_Speed:
  91 000a 00       		.space	1
  92              		.comm	SDCard_SectBuf1,256,4
  93              		.comm	SDCard_SectBuf2,256,4
  94              		.global	SDCard_CmdStr00
  95              		.section	.rodata
  96              		.align	2
  97              		.type	SDCard_CmdStr00, %object
  98              		.size	SDCard_CmdStr00, 6
  99              	SDCard_CmdStr00:
 100 0000 40       		.byte	64
 101 0001 00       		.byte	0
 102 0002 00       		.byte	0
 103 0003 00       		.byte	0
 104 0004 00       		.byte	0
 105 0005 95       		.byte	-107
 106              		.global	SDCard_BlankDir
 107 0006 0000     		.align	2
 108              		.type	SDCard_BlankDir, %object
 109              		.size	SDCard_BlankDir, 32
 110              	SDCard_BlankDir:
 111 0008 46       		.byte	70
 112 0009 49       		.byte	73
 113 000a 4C       		.byte	76
 114 000b 45       		.byte	69
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 3


 115 000c 4E       		.byte	78
 116 000d 41       		.byte	65
 117 000e 4D       		.byte	77
 118 000f 45       		.byte	69
 119 0010 45       		.byte	69
 120 0011 58       		.byte	88
 121 0012 54       		.byte	84
 122 0013 20       		.byte	32
 123 0014 18       		.byte	24
 124 0015 4F       		.byte	79
 125 0016 AC       		.byte	-84
 126 0017 4E       		.byte	78
 127 0018 36       		.byte	54
 128 0019 31       		.byte	49
 129 001a 36       		.byte	54
 130 001b 31       		.byte	49
 131 001c 00       		.byte	0
 132 001d 00       		.byte	0
 133 001e 86       		.byte	-122
 134 001f 7B       		.byte	123
 135 0020 30       		.byte	48
 136 0021 31       		.byte	49
 137 0022 00       		.byte	0
 138 0023 00       		.byte	0
 139 0024 00       		.byte	0
 140 0025 00       		.byte	0
 141 0026 00       		.byte	0
 142 0027 00       		.byte	0
 143              		.comm	rbuff,1,1
 144              		.section	.text.SDCard_Start,"ax",%progbits
 145              		.align	2
 146              		.global	SDCard_Start
 147              		.code	16
 148              		.thumb_func
 149              		.type	SDCard_Start, %function
 150              	SDCard_Start:
 151              	.LFB34:
 152              		.file 1 "Generated_Source\\PSoC4\\SDCard_FS.c"
   1:Generated_Source\PSoC4/SDCard_FS.c **** //*****************************************************************************
   2:Generated_Source\PSoC4/SDCard_FS.c **** //*****************************************************************************
   3:Generated_Source\PSoC4/SDCard_FS.c **** //  FILENAME: SDCard_FS.c
   4:Generated_Source\PSoC4/SDCard_FS.c **** //  Version 0.0
   5:Generated_Source\PSoC4/SDCard_FS.c **** //  
   6:Generated_Source\PSoC4/SDCard_FS.c **** //
   7:Generated_Source\PSoC4/SDCard_FS.c **** //  DESCRIPTION: SDCard User Module C Language source file
   8:Generated_Source\PSoC4/SDCard_FS.c **** //               for the PSoC family of devices
   9:Generated_Source\PSoC4/SDCard_FS.c **** //
  10:Generated_Source\PSoC4/SDCard_FS.c **** //-----------------------------------------------------------------------------
  11:Generated_Source\PSoC4/SDCard_FS.c **** //  The original source for this user module was purchased from
  12:Generated_Source\PSoC4/SDCard_FS.c **** //  Efficient Computer Systems, LLC.
  13:Generated_Source\PSoC4/SDCard_FS.c **** //-----------------------------------------------------------------------------
  14:Generated_Source\PSoC4/SDCard_FS.c **** //      
  15:Generated_Source\PSoC4/SDCard_FS.c **** //  Copyright 2003-2006   Efficient Computer Systems, LLC
  16:Generated_Source\PSoC4/SDCard_FS.c **** //  Licensed only for use on any Cypress PSOC Mixed-Signal Controllers.
  17:Generated_Source\PSoC4/SDCard_FS.c **** //  All rights reserved
  18:Generated_Source\PSoC4/SDCard_FS.c **** //      
  19:Generated_Source\PSoC4/SDCard_FS.c **** //-----------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 4


  20:Generated_Source\PSoC4/SDCard_FS.c **** //   
  21:Generated_Source\PSoC4/SDCard_FS.c **** //         Created 12-04-03   By: Lee W. Morin and Herb Winters
  22:Generated_Source\PSoC4/SDCard_FS.c **** //  1.00   Release 04-24-06   By: Lee Morin, Herb Winters, Eric Curtis   
  23:Generated_Source\PSoC4/SDCard_FS.c **** //   
  24:Generated_Source\PSoC4/SDCard_FS.c **** //-----------------------------------------------------------------------------
  25:Generated_Source\PSoC4/SDCard_FS.c **** //-----------------------------------------------------------------------------
  26:Generated_Source\PSoC4/SDCard_FS.c **** //  Copyright (c) Cypress Semiconductor 2013-14. All Rights Reserved.
  27:Generated_Source\PSoC4/SDCard_FS.c **** //*****************************************************************************
  28:Generated_Source\PSoC4/SDCard_FS.c **** //*****************************************************************************
  29:Generated_Source\PSoC4/SDCard_FS.c **** 
  30:Generated_Source\PSoC4/SDCard_FS.c **** #include "device.h"
  31:Generated_Source\PSoC4/SDCard_FS.c **** #include "SDCard_SPI.h" // Low level API
  32:Generated_Source\PSoC4/SDCard_FS.c **** #include "SDCard_FS.h"  // Low level file system
  33:Generated_Source\PSoC4/SDCard_FS.c **** #include "SDCard.h"     // User level API
  34:Generated_Source\PSoC4/SDCard_FS.c **** 
  35:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_MemoryStart=0;            // Start of actual memory area (boot sector)
  36:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_FileError[SDCard_MAXFILES];     // Current error flags for file
  37:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_CurSize[SDCard_MAXFILES+1];     // Current file size (in bytes) (+1 for FAT32 DIR)
  38:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_CurOffset[SDCard_MAXFILES+1];   // Current offset into file     (+1 for FAT32 DIR)
  39:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
  40:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_CurDir[SDCard_MAXFILES];        // Current directory entry address
  41:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
  42:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_CurStart[SDCard_MAXFILES+1];    // Starting Fat value for file  (+1 for FAT32 DIR)
  43:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_CurFat[SDCard_MAXFILES+1];      // Current Fat value of cluster (+1 for FAT32 DIR)
  44:Generated_Source\PSoC4/SDCard_FS.c **** #else
  45:Generated_Source\PSoC4/SDCard_FS.c **** uint    SDCard_CurStart[SDCard_MAXFILES+1];    // Starting Fat value for file  (+1 for FAT16 DIR)
  46:Generated_Source\PSoC4/SDCard_FS.c **** uint    SDCard_CurFat[SDCard_MAXFILES+1];      // Current Fat value of cluster (+1 for FAT16 DIR)
  47:Generated_Source\PSoC4/SDCard_FS.c **** #endif
  48:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_CurSect[SDCard_MAXFILES+1];     // Current sector of the current cluster (+1 for FAT
  49:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_CurAttr[SDCard_MAXFILES];       // Current file attributes - Bits 6 and seven are un
  50:Generated_Source\PSoC4/SDCard_FS.c ****                                  // 0=Read Only, 1=Hidden, 2=System, 3=Volume Label, 4=SubDir, 5=Ar
  51:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_FileMode[SDCard_MAXFILES];      // Current Mode bits = "r"=0, "w"=1, "a"=2, "+"=3, D
  52:Generated_Source\PSoC4/SDCard_FS.c **** uint    SDCard_DirSize = 512;           // Current directory size (defaults to 512)
  53:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_EmptyFat = 2;            // Location to start search for an empty FAT entry (Default
  54:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_ClusterSize;             // Cluster size in sectors
  55:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_FatEntrySize=2;          // Size of a FAT entry - defaults to FAT16
  56:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_Fat1Start;               // Start of 1st FAT Table (in bytes)
  57:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_Fat2Start;               // Start of 2nd FAT Table (in bytes)
  58:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_DirStart;                // Start of Root directory structure
  59:Generated_Source\PSoC4/SDCard_FS.c **** #endif
  60:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_BuffLoc = 0;             // Location of data stored in the read/write buffer (used i
  61:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_DirtyFlag=0;             // Dirty flag 0=Clean 1=Data Dirty 2=Directory Dirty
  62:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_CardType = 0;            // Card Type:    0=None,   1=MMC,    2=SD (lower nibble)
  63:Generated_Source\PSoC4/SDCard_FS.c ****                                                   // Fat Type:     0=None,   10=FAT12, 40=FAT16, 60
  64:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_DataStart;               // Start of Data area
  65:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
  66:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_DirFat;                  // Starting FAT entry of the root directory for FAT 32 file
  67:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_FatEnd=0xFFFF;           // Value of the end of a FAT chain - default FAT 16 
  68:Generated_Source\PSoC4/SDCard_FS.c **** #else
  69:Generated_Source\PSoC4/SDCard_FS.c **** uint    SDCard_DirFat;                  // Starting FAT of the root directory for FAT 16 file syste
  70:Generated_Source\PSoC4/SDCard_FS.c **** uint    SDCard_FatEnd=0xFFFF;           // Value of the end of a FAT chain - default FAT 16
  71:Generated_Source\PSoC4/SDCard_FS.c **** #endif
  72:Generated_Source\PSoC4/SDCard_FS.c **** 
  73:Generated_Source\PSoC4/SDCard_FS.c **** ulong   SDCard_Address;                 // Temporary address variable used so calls don't have to p
  74:Generated_Source\PSoC4/SDCard_FS.c **** uchar   *SDCard_Buffer1;                // Temporary 32 byte buffer pointer for data reads and writ
  75:Generated_Source\PSoC4/SDCard_FS.c **** uchar   *SDCard_Buffer2;                // second Temporary 32 byte buffer pointer for data reads a
  76:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 5


  77:Generated_Source\PSoC4/SDCard_FS.c **** uchar   SDCard_Speed = 0;               // Speed at which the card is running 0=400KHz, 1=2MHz, 2=1
  78:Generated_Source\PSoC4/SDCard_FS.c **** 
  79:Generated_Source\PSoC4/SDCard_FS.c **** uchar    SDCard_SectBuf1[256];
  80:Generated_Source\PSoC4/SDCard_FS.c **** uchar    SDCard_SectBuf2[256];
  81:Generated_Source\PSoC4/SDCard_FS.c **** // Constant Global variables
  82:Generated_Source\PSoC4/SDCard_FS.c **** const uchar SDCard_CmdStr00[6]  = {0x40, 0x00, 0x00, 0x00, 0x00, 0x95};      // Command 00 - Go Idl
  83:Generated_Source\PSoC4/SDCard_FS.c **** const uchar SDCard_BlankDir[32] = {'F','I','L','E','N','A','M','E','E','X','T',0x20,0x18,0x4F,0xAC,
  84:Generated_Source\PSoC4/SDCard_FS.c **** 
  85:Generated_Source\PSoC4/SDCard_FS.c **** uint8 rbuff;
  86:Generated_Source\PSoC4/SDCard_FS.c **** 
  87:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
  88:Generated_Source\PSoC4/SDCard_FS.c **** //      MMC/SD CARD COMMANDS - LIB Card command Functions
  89:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
  90:Generated_Source\PSoC4/SDCard_FS.c **** 
  91:Generated_Source\PSoC4/SDCard_FS.c **** 
  92:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
  93:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_Start( uchar *Buf1, uchar *Buf2)
  94:Generated_Source\PSoC4/SDCard_FS.c **** //
  95:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
  96:Generated_Source\PSoC4/SDCard_FS.c **** //   This function initializes the two 256 byte buffer pointers and initializes
  97:Generated_Source\PSoC4/SDCard_FS.c **** //   the SPI port for the correct mode of operation.
  98:Generated_Source\PSoC4/SDCard_FS.c **** //
  99:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 100:Generated_Source\PSoC4/SDCard_FS.c **** //
 101:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 102:Generated_Source\PSoC4/SDCard_FS.c **** //    Buf1:  Pointer for first 256 byte buffer.
 103:Generated_Source\PSoC4/SDCard_FS.c **** //    Buf2:  Pointer for second 256 byte buffer.
 104:Generated_Source\PSoC4/SDCard_FS.c **** //
 105:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 106:Generated_Source\PSoC4/SDCard_FS.c **** //    NA
 107:Generated_Source\PSoC4/SDCard_FS.c **** //
 108:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 109:Generated_Source\PSoC4/SDCard_FS.c **** //
 110:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 111:Generated_Source\PSoC4/SDCard_FS.c **** //
 112:Generated_Source\PSoC4/SDCard_FS.c **** //
 113:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 114:Generated_Source\PSoC4/SDCard_FS.c **** 
 115:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_Start( void )  
 116:Generated_Source\PSoC4/SDCard_FS.c **** {
 153              		.loc 1 116 0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 1, uses_anonymous_args = 0
 157 0000 80B5     		push	{r7, lr}
 158              		.cfi_def_cfa_offset 8
 159              		.cfi_offset 7, -8
 160              		.cfi_offset 14, -4
 161 0002 00AF     		add	r7, sp, #0
 162              		.cfi_def_cfa_register 7
 117:Generated_Source\PSoC4/SDCard_FS.c ****      SDCard_Buffer1 = SDCard_SectBuf1;
 163              		.loc 1 117 0
 164 0004 054B     		ldr	r3, .L2
 165 0006 064A     		ldr	r2, .L2+4
 166 0008 1A60     		str	r2, [r3]
 118:Generated_Source\PSoC4/SDCard_FS.c ****      SDCard_Buffer2 = SDCard_SectBuf2;
 167              		.loc 1 118 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 6


 168 000a 064B     		ldr	r3, .L2+8
 169 000c 064A     		ldr	r2, .L2+12
 170 000e 1A60     		str	r2, [r3]
 119:Generated_Source\PSoC4/SDCard_FS.c ****      // Initialize SPI module
 120:Generated_Source\PSoC4/SDCard_FS.c ****      SDCard_InitHdwr(0x00);   // Start SPI Master module
 171              		.loc 1 120 0
 172 0010 0020     		movs	r0, #0
 173 0012 FFF7FEFF 		bl	SDCard_InitHdwr
 121:Generated_Source\PSoC4/SDCard_FS.c **** }
 174              		.loc 1 121 0
 175 0016 C046     		nop
 176 0018 BD46     		mov	sp, r7
 177              		@ sp needed
 178 001a 80BD     		pop	{r7, pc}
 179              	.L3:
 180              		.align	2
 181              	.L2:
 182 001c 00000000 		.word	SDCard_Buffer1
 183 0020 00000000 		.word	SDCard_SectBuf1
 184 0024 00000000 		.word	SDCard_Buffer2
 185 0028 00000000 		.word	SDCard_SectBuf2
 186              		.cfi_endproc
 187              	.LFE34:
 188              		.size	SDCard_Start, .-SDCard_Start
 189              		.section	.text.SDCard_Stop,"ax",%progbits
 190              		.align	2
 191              		.global	SDCard_Stop
 192              		.code	16
 193              		.thumb_func
 194              		.type	SDCard_Stop, %function
 195              	SDCard_Stop:
 196              	.LFB35:
 122:Generated_Source\PSoC4/SDCard_FS.c **** 
 123:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 124:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_Stop(void)
 125:Generated_Source\PSoC4/SDCard_FS.c **** //
 126:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 127:Generated_Source\PSoC4/SDCard_FS.c **** //   This function disables the SPI hardware and initializes the buffer pointers to 0xFF.
 128:Generated_Source\PSoC4/SDCard_FS.c **** //
 129:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 130:Generated_Source\PSoC4/SDCard_FS.c **** //
 131:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
 132:Generated_Source\PSoC4/SDCard_FS.c **** //
 133:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:  NA
 134:Generated_Source\PSoC4/SDCard_FS.c **** //
 135:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 136:Generated_Source\PSoC4/SDCard_FS.c **** //
 137:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 138:Generated_Source\PSoC4/SDCard_FS.c **** //
 139:Generated_Source\PSoC4/SDCard_FS.c **** //
 140:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 141:Generated_Source\PSoC4/SDCard_FS.c **** 
 142:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_Stop(void)
 143:Generated_Source\PSoC4/SDCard_FS.c **** {
 197              		.loc 1 143 0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 7


 200              		@ frame_needed = 1, uses_anonymous_args = 0
 201 0000 80B5     		push	{r7, lr}
 202              		.cfi_def_cfa_offset 8
 203              		.cfi_offset 7, -8
 204              		.cfi_offset 14, -4
 205 0002 00AF     		add	r7, sp, #0
 206              		.cfi_def_cfa_register 7
 144:Generated_Source\PSoC4/SDCard_FS.c ****     SDCard_Buffer1 = (uchar *)0xFF;
 207              		.loc 1 144 0
 208 0004 054B     		ldr	r3, .L5
 209 0006 FF22     		movs	r2, #255
 210 0008 1A60     		str	r2, [r3]
 145:Generated_Source\PSoC4/SDCard_FS.c ****     SDCard_Buffer2 = (uchar *)0xFF;
 211              		.loc 1 145 0
 212 000a 054B     		ldr	r3, .L5+4
 213 000c FF22     		movs	r2, #255
 214 000e 1A60     		str	r2, [r3]
 146:Generated_Source\PSoC4/SDCard_FS.c ****     // Disable SPI modules
 147:Generated_Source\PSoC4/SDCard_FS.c ****     SDCard_UnInitHdwr();         // Stop SPI Master module
 215              		.loc 1 147 0
 216 0010 FFF7FEFF 		bl	SDCard_UnInitHdwr
 148:Generated_Source\PSoC4/SDCard_FS.c ****     // Former SPI lines should be forced high.
 149:Generated_Source\PSoC4/SDCard_FS.c **** }
 217              		.loc 1 149 0
 218 0014 C046     		nop
 219 0016 BD46     		mov	sp, r7
 220              		@ sp needed
 221 0018 80BD     		pop	{r7, pc}
 222              	.L6:
 223 001a C046     		.align	2
 224              	.L5:
 225 001c 00000000 		.word	SDCard_Buffer1
 226 0020 00000000 		.word	SDCard_Buffer2
 227              		.cfi_endproc
 228              	.LFE35:
 229              		.size	SDCard_Stop, .-SDCard_Stop
 230              		.section	.text.SDCard_fclose,"ax",%progbits
 231              		.align	2
 232              		.global	SDCard_fclose
 233              		.code	16
 234              		.thumb_func
 235              		.type	SDCard_fclose, %function
 236              	SDCard_fclose:
 237              	.LFB36:
 150:Generated_Source\PSoC4/SDCard_FS.c **** 
 151:Generated_Source\PSoC4/SDCard_FS.c **** 
 152:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 153:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fclose(uchar Fptr)
 154:Generated_Source\PSoC4/SDCard_FS.c **** //
 155:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 156:Generated_Source\PSoC4/SDCard_FS.c **** //   Closes the file, clears the file open data, and clears the FileError flags
 157:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns 0 if successful, EOF if it fails (also sets FPE if pointer error)
 158:Generated_Source\PSoC4/SDCard_FS.c **** //
 159:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 160:Generated_Source\PSoC4/SDCard_FS.c **** //
 161:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: 
 162:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr: File pointer index
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 8


 163:Generated_Source\PSoC4/SDCard_FS.c **** //
 164:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 165:Generated_Source\PSoC4/SDCard_FS.c **** //     0  => If command is successful
 166:Generated_Source\PSoC4/SDCard_FS.c **** //    EOF => If command fails
 167:Generated_Source\PSoC4/SDCard_FS.c **** //
 168:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 169:Generated_Source\PSoC4/SDCard_FS.c **** //
 170:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 171:Generated_Source\PSoC4/SDCard_FS.c **** //
 172:Generated_Source\PSoC4/SDCard_FS.c **** //
 173:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 174:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 175:Generated_Source\PSoC4/SDCard_FS.c **** 
 176:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fclose(uchar Fptr)
 177:Generated_Source\PSoC4/SDCard_FS.c **** {
 238              		.loc 1 177 0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 16
 241              		@ frame_needed = 1, uses_anonymous_args = 0
 242 0000 80B5     		push	{r7, lr}
 243              		.cfi_def_cfa_offset 8
 244              		.cfi_offset 7, -8
 245              		.cfi_offset 14, -4
 246 0002 84B0     		sub	sp, sp, #16
 247              		.cfi_def_cfa_offset 24
 248 0004 00AF     		add	r7, sp, #0
 249              		.cfi_def_cfa_register 7
 250 0006 0200     		movs	r2, r0
 251 0008 FB1D     		adds	r3, r7, #7
 252 000a 1A70     		strb	r2, [r3]
 178:Generated_Source\PSoC4/SDCard_FS.c ****    
 179:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   flag=SDCard_FPE|SDCard_EOF;         // Temp error flag (Set to failure)
 253              		.loc 1 179 0
 254 000c 0F23     		movs	r3, #15
 255 000e FB18     		adds	r3, r7, r3
 256 0010 A022     		movs	r2, #160
 257 0012 1A70     		strb	r2, [r3]
 180:Generated_Source\PSoC4/SDCard_FS.c ****    
 181:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)             // Is the file pointer valid?
 258              		.loc 1 181 0
 259 0014 FB1D     		adds	r3, r7, #7
 260 0016 1B78     		ldrb	r3, [r3]
 261 0018 012B     		cmp	r3, #1
 262 001a 46D8     		bhi	.L8
 182:Generated_Source\PSoC4/SDCard_FS.c ****    {
 183:Generated_Source\PSoC4/SDCard_FS.c ****       // Close file - pointer is valid
 184:Generated_Source\PSoC4/SDCard_FS.c ****       
 185:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 186:Generated_Source\PSoC4/SDCard_FS.c ****       if((SDCard_FileMode[Fptr]&0x0F) != 1)    // If file was writeable do a flush
 263              		.loc 1 186 0
 264 001c FB1D     		adds	r3, r7, #7
 265 001e 1B78     		ldrb	r3, [r3]
 266 0020 254A     		ldr	r2, .L11
 267 0022 D35C     		ldrb	r3, [r2, r3]
 268 0024 1A00     		movs	r2, r3
 269 0026 0F23     		movs	r3, #15
 270 0028 1340     		ands	r3, r2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 9


 271 002a 012B     		cmp	r3, #1
 272 002c 04D0     		beq	.L9
 187:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_fflush(Fptr);
 273              		.loc 1 187 0
 274 002e FB1D     		adds	r3, r7, #7
 275 0030 1B78     		ldrb	r3, [r3]
 276 0032 1800     		movs	r0, r3
 277 0034 FFF7FEFF 		bl	SDCard_fflush
 278              	.L9:
 188:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 189:Generated_Source\PSoC4/SDCard_FS.c ****       
 190:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurDir[Fptr] = 0;          // Clear file information
 279              		.loc 1 190 0
 280 0038 FB1D     		adds	r3, r7, #7
 281 003a 1A78     		ldrb	r2, [r3]
 282 003c 1F4B     		ldr	r3, .L11+4
 283 003e 9200     		lsls	r2, r2, #2
 284 0040 0021     		movs	r1, #0
 285 0042 D150     		str	r1, [r2, r3]
 191:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurStart[Fptr] = 0;
 286              		.loc 1 191 0
 287 0044 FB1D     		adds	r3, r7, #7
 288 0046 1A78     		ldrb	r2, [r3]
 289 0048 1D4B     		ldr	r3, .L11+8
 290 004a 9200     		lsls	r2, r2, #2
 291 004c 0021     		movs	r1, #0
 292 004e D150     		str	r1, [r2, r3]
 192:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurFat[Fptr] = 0;
 293              		.loc 1 192 0
 294 0050 FB1D     		adds	r3, r7, #7
 295 0052 1A78     		ldrb	r2, [r3]
 296 0054 1B4B     		ldr	r3, .L11+12
 297 0056 9200     		lsls	r2, r2, #2
 298 0058 0021     		movs	r1, #0
 299 005a D150     		str	r1, [r2, r3]
 193:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSize[Fptr] = 0;
 300              		.loc 1 193 0
 301 005c FB1D     		adds	r3, r7, #7
 302 005e 1A78     		ldrb	r2, [r3]
 303 0060 194B     		ldr	r3, .L11+16
 304 0062 9200     		lsls	r2, r2, #2
 305 0064 0021     		movs	r1, #0
 306 0066 D150     		str	r1, [r2, r3]
 194:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[Fptr]= 0;
 307              		.loc 1 194 0
 308 0068 FB1D     		adds	r3, r7, #7
 309 006a 1A78     		ldrb	r2, [r3]
 310 006c 174B     		ldr	r3, .L11+20
 311 006e 9200     		lsls	r2, r2, #2
 312 0070 0021     		movs	r1, #0
 313 0072 D150     		str	r1, [r2, r3]
 195:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSect[Fptr] = 0;
 314              		.loc 1 195 0
 315 0074 FB1D     		adds	r3, r7, #7
 316 0076 1B78     		ldrb	r3, [r3]
 317 0078 154A     		ldr	r2, .L11+24
 318 007a 0021     		movs	r1, #0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 10


 319 007c D154     		strb	r1, [r2, r3]
 196:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurAttr[Fptr] = 0;   
 320              		.loc 1 196 0
 321 007e FB1D     		adds	r3, r7, #7
 322 0080 1B78     		ldrb	r3, [r3]
 323 0082 144A     		ldr	r2, .L11+28
 324 0084 0021     		movs	r1, #0
 325 0086 D154     		strb	r1, [r2, r3]
 197:Generated_Source\PSoC4/SDCard_FS.c ****       
 198:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileMode[Fptr] = 0;        // Clear file mode
 326              		.loc 1 198 0
 327 0088 FB1D     		adds	r3, r7, #7
 328 008a 1B78     		ldrb	r3, [r3]
 329 008c 0A4A     		ldr	r2, .L11
 330 008e 0021     		movs	r1, #0
 331 0090 D154     		strb	r1, [r2, r3]
 199:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileError[Fptr] = 0;       // Clear any file errors
 332              		.loc 1 199 0
 333 0092 FB1D     		adds	r3, r7, #7
 334 0094 1B78     		ldrb	r3, [r3]
 335 0096 104A     		ldr	r2, .L11+32
 336 0098 0021     		movs	r1, #0
 337 009a D154     		strb	r1, [r2, r3]
 200:Generated_Source\PSoC4/SDCard_FS.c ****       flag=SDCard_FileError[Fptr];      // Copy file error flag for return
 338              		.loc 1 200 0
 339 009c FB1D     		adds	r3, r7, #7
 340 009e 1A78     		ldrb	r2, [r3]
 341 00a0 0F23     		movs	r3, #15
 342 00a2 FB18     		adds	r3, r7, r3
 343 00a4 0C49     		ldr	r1, .L11+32
 344 00a6 8A5C     		ldrb	r2, [r1, r2]
 345 00a8 1A70     		strb	r2, [r3]
 346              	.L8:
 201:Generated_Source\PSoC4/SDCard_FS.c ****    }
 202:Generated_Source\PSoC4/SDCard_FS.c **** 
 203:Generated_Source\PSoC4/SDCard_FS.c ****    return(flag);
 347              		.loc 1 203 0
 348 00aa 0F23     		movs	r3, #15
 349 00ac FB18     		adds	r3, r7, r3
 350 00ae 1B78     		ldrb	r3, [r3]
 204:Generated_Source\PSoC4/SDCard_FS.c **** }
 351              		.loc 1 204 0
 352 00b0 1800     		movs	r0, r3
 353 00b2 BD46     		mov	sp, r7
 354 00b4 04B0     		add	sp, sp, #16
 355              		@ sp needed
 356 00b6 80BD     		pop	{r7, pc}
 357              	.L12:
 358              		.align	2
 359              	.L11:
 360 00b8 00000000 		.word	SDCard_FileMode
 361 00bc 00000000 		.word	SDCard_CurDir
 362 00c0 00000000 		.word	SDCard_CurStart
 363 00c4 00000000 		.word	SDCard_CurFat
 364 00c8 00000000 		.word	SDCard_CurSize
 365 00cc 00000000 		.word	SDCard_CurOffset
 366 00d0 00000000 		.word	SDCard_CurSect
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 11


 367 00d4 00000000 		.word	SDCard_CurAttr
 368 00d8 00000000 		.word	SDCard_FileError
 369              		.cfi_endproc
 370              	.LFE36:
 371              		.size	SDCard_fclose, .-SDCard_fclose
 372              		.section	.text.SDCard_fopen,"ax",%progbits
 373              		.align	2
 374              		.global	SDCard_fopen
 375              		.code	16
 376              		.thumb_func
 377              		.type	SDCard_fopen, %function
 378              	SDCard_fopen:
 379              	.LFB37:
 205:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 206:Generated_Source\PSoC4/SDCard_FS.c **** 
 207:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 208:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fopen(uchar Filename[], const uchar Mode[])
 209:Generated_Source\PSoC4/SDCard_FS.c **** //
 210:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 211:Generated_Source\PSoC4/SDCard_FS.c **** //   Opens the file "Filename" and returns a file pointer to that file.
 212:Generated_Source\PSoC4/SDCard_FS.c **** //
 213:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 214:Generated_Source\PSoC4/SDCard_FS.c **** //
 215:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 216:Generated_Source\PSoC4/SDCard_FS.c **** //    Filename - The string containing the name of the file to open (standard short filename)
 217:Generated_Source\PSoC4/SDCard_FS.c **** //    Mode     - The string containing the attribute string to set the file mode
 218:Generated_Source\PSoC4/SDCard_FS.c **** //               Mode bits = "r"=0, "w"=1, "a"=2, "+"=3
 219:Generated_Source\PSoC4/SDCard_FS.c **** //
 220:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 221:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the pointer to the opened file (if Fptr >= MAXFILES FindFile failed or all pointers i
 222:Generated_Source\PSoC4/SDCard_FS.c **** //
 223:Generated_Source\PSoC4/SDCard_FS.c **** //
 224:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 225:Generated_Source\PSoC4/SDCard_FS.c **** //
 226:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 227:Generated_Source\PSoC4/SDCard_FS.c **** //
 228:Generated_Source\PSoC4/SDCard_FS.c **** //
 229:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 230:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 231:Generated_Source\PSoC4/SDCard_FS.c **** 
 232:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fopen(uchar Filename[], const uchar Mode[])
 233:Generated_Source\PSoC4/SDCard_FS.c **** {
 380              		.loc 1 233 0
 381              		.cfi_startproc
 382              		@ args = 0, pretend = 0, frame = 24
 383              		@ frame_needed = 1, uses_anonymous_args = 0
 384 0000 90B5     		push	{r4, r7, lr}
 385              		.cfi_def_cfa_offset 12
 386              		.cfi_offset 4, -12
 387              		.cfi_offset 7, -8
 388              		.cfi_offset 14, -4
 389 0002 87B0     		sub	sp, sp, #28
 390              		.cfi_def_cfa_offset 40
 391 0004 00AF     		add	r7, sp, #0
 392              		.cfi_def_cfa_register 7
 393 0006 7860     		str	r0, [r7, #4]
 394 0008 3960     		str	r1, [r7]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 12


 234:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Fptr;              // Pointer of file to use
 235:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x=0;               // Temp counter
 395              		.loc 1 235 0
 396 000a 1623     		movs	r3, #22
 397 000c FB18     		adds	r3, r7, r3
 398 000e 0022     		movs	r2, #0
 399 0010 1A70     		strb	r2, [r3]
 236:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status=0;          // Status indicator
 400              		.loc 1 236 0
 401 0012 1523     		movs	r3, #21
 402 0014 FB18     		adds	r3, r7, r3
 403 0016 0022     		movs	r2, #0
 404 0018 1A70     		strb	r2, [r3]
 237:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   xFilename[13];     // Temp filename so original is not corrupted
 238:Generated_Source\PSoC4/SDCard_FS.c ****       
 239:Generated_Source\PSoC4/SDCard_FS.c ****    for (Fptr=0; Fptr<SDCard_MAXFILES; Fptr++)
 405              		.loc 1 239 0
 406 001a 1723     		movs	r3, #23
 407 001c FB18     		adds	r3, r7, r3
 408 001e 0022     		movs	r2, #0
 409 0020 1A70     		strb	r2, [r3]
 410 0022 0EE0     		b	.L14
 411              	.L17:
 240:Generated_Source\PSoC4/SDCard_FS.c ****    {
 241:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CurStart[Fptr] == 0)
 412              		.loc 1 241 0
 413 0024 1723     		movs	r3, #23
 414 0026 FB18     		adds	r3, r7, r3
 415 0028 1A78     		ldrb	r2, [r3]
 416 002a C04B     		ldr	r3, .L40
 417 002c 9200     		lsls	r2, r2, #2
 418 002e D358     		ldr	r3, [r2, r3]
 419 0030 002B     		cmp	r3, #0
 420 0032 0CD0     		beq	.L39
 239:Generated_Source\PSoC4/SDCard_FS.c ****    {
 421              		.loc 1 239 0 discriminator 2
 422 0034 1723     		movs	r3, #23
 423 0036 FB18     		adds	r3, r7, r3
 424 0038 1A78     		ldrb	r2, [r3]
 425 003a 1723     		movs	r3, #23
 426 003c FB18     		adds	r3, r7, r3
 427 003e 0132     		adds	r2, r2, #1
 428 0040 1A70     		strb	r2, [r3]
 429              	.L14:
 239:Generated_Source\PSoC4/SDCard_FS.c ****    {
 430              		.loc 1 239 0 is_stmt 0 discriminator 1
 431 0042 1723     		movs	r3, #23
 432 0044 FB18     		adds	r3, r7, r3
 433 0046 1B78     		ldrb	r3, [r3]
 434 0048 012B     		cmp	r3, #1
 435 004a EBD9     		bls	.L17
 436 004c 00E0     		b	.L16
 437              	.L39:
 242:Generated_Source\PSoC4/SDCard_FS.c ****          break;
 438              		.loc 1 242 0 is_stmt 1
 439 004e C046     		nop
 440              	.L16:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 13


 243:Generated_Source\PSoC4/SDCard_FS.c ****    }
 244:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)
 441              		.loc 1 244 0
 442 0050 1723     		movs	r3, #23
 443 0052 FB18     		adds	r3, r7, r3
 444 0054 1B78     		ldrb	r3, [r3]
 445 0056 012B     		cmp	r3, #1
 446 0058 00D9     		bls	.LCB256
 447 005a 5FE1     		b	.L18	@long jump
 448              	.LCB256:
 245:Generated_Source\PSoC4/SDCard_FS.c ****    {
 246:Generated_Source\PSoC4/SDCard_FS.c ****       // === Start parsing Mode string ===
 247:Generated_Source\PSoC4/SDCard_FS.c ****       // Parse file mode bits and check validity
 248:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileMode[Fptr] = 0;            // Clear file mode bits
 449              		.loc 1 248 0
 450 005c 1723     		movs	r3, #23
 451 005e FB18     		adds	r3, r7, r3
 452 0060 1B78     		ldrb	r3, [r3]
 453 0062 B34A     		ldr	r2, .L40+4
 454 0064 0021     		movs	r1, #0
 455 0066 D154     		strb	r1, [r2, r3]
 249:Generated_Source\PSoC4/SDCard_FS.c ****       while(Mode[x] != 0)            // Loop until mode string is parsed
 456              		.loc 1 249 0
 457 0068 72E0     		b	.L19
 458              	.L24:
 250:Generated_Source\PSoC4/SDCard_FS.c ****       {
 251:Generated_Source\PSoC4/SDCard_FS.c ****          if(Mode[x] == 'r')
 459              		.loc 1 251 0
 460 006a 1623     		movs	r3, #22
 461 006c FB18     		adds	r3, r7, r3
 462 006e 1B78     		ldrb	r3, [r3]
 463 0070 3A68     		ldr	r2, [r7]
 464 0072 D318     		adds	r3, r2, r3
 465 0074 1B78     		ldrb	r3, [r3]
 466 0076 722B     		cmp	r3, #114
 467 0078 14D1     		bne	.L20
 252:Generated_Source\PSoC4/SDCard_FS.c ****          {
 253:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileMode[Fptr] |= 0x01;  // If 'r' set the read mode bit
 468              		.loc 1 253 0
 469 007a 1723     		movs	r3, #23
 470 007c FB18     		adds	r3, r7, r3
 471 007e 1B78     		ldrb	r3, [r3]
 472 0080 1722     		movs	r2, #23
 473 0082 BA18     		adds	r2, r7, r2
 474 0084 1278     		ldrb	r2, [r2]
 475 0086 AA49     		ldr	r1, .L40+4
 476 0088 8A5C     		ldrb	r2, [r1, r2]
 477 008a 0121     		movs	r1, #1
 478 008c 0A43     		orrs	r2, r1
 479 008e D1B2     		uxtb	r1, r2
 480 0090 A74A     		ldr	r2, .L40+4
 481 0092 D154     		strb	r1, [r2, r3]
 254:Generated_Source\PSoC4/SDCard_FS.c ****             status++;                // Add one to status count
 482              		.loc 1 254 0
 483 0094 1523     		movs	r3, #21
 484 0096 FB18     		adds	r3, r7, r3
 485 0098 1A78     		ldrb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 14


 486 009a 1523     		movs	r3, #21
 487 009c FB18     		adds	r3, r7, r3
 488 009e 0132     		adds	r2, r2, #1
 489 00a0 1A70     		strb	r2, [r3]
 490 00a2 4EE0     		b	.L21
 491              	.L20:
 255:Generated_Source\PSoC4/SDCard_FS.c ****          }
 256:Generated_Source\PSoC4/SDCard_FS.c ****          else if(Mode[x] == 'w')
 492              		.loc 1 256 0
 493 00a4 1623     		movs	r3, #22
 494 00a6 FB18     		adds	r3, r7, r3
 495 00a8 1B78     		ldrb	r3, [r3]
 496 00aa 3A68     		ldr	r2, [r7]
 497 00ac D318     		adds	r3, r2, r3
 498 00ae 1B78     		ldrb	r3, [r3]
 499 00b0 772B     		cmp	r3, #119
 500 00b2 14D1     		bne	.L22
 257:Generated_Source\PSoC4/SDCard_FS.c ****          {
 258:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileMode[Fptr] |= 0x02;  // If 'w' set the write mode bit
 501              		.loc 1 258 0
 502 00b4 1723     		movs	r3, #23
 503 00b6 FB18     		adds	r3, r7, r3
 504 00b8 1B78     		ldrb	r3, [r3]
 505 00ba 1722     		movs	r2, #23
 506 00bc BA18     		adds	r2, r7, r2
 507 00be 1278     		ldrb	r2, [r2]
 508 00c0 9B49     		ldr	r1, .L40+4
 509 00c2 8A5C     		ldrb	r2, [r1, r2]
 510 00c4 0221     		movs	r1, #2
 511 00c6 0A43     		orrs	r2, r1
 512 00c8 D1B2     		uxtb	r1, r2
 513 00ca 994A     		ldr	r2, .L40+4
 514 00cc D154     		strb	r1, [r2, r3]
 259:Generated_Source\PSoC4/SDCard_FS.c ****             status++;                // Add one to status count
 515              		.loc 1 259 0
 516 00ce 1523     		movs	r3, #21
 517 00d0 FB18     		adds	r3, r7, r3
 518 00d2 1A78     		ldrb	r2, [r3]
 519 00d4 1523     		movs	r3, #21
 520 00d6 FB18     		adds	r3, r7, r3
 521 00d8 0132     		adds	r2, r2, #1
 522 00da 1A70     		strb	r2, [r3]
 523 00dc 31E0     		b	.L21
 524              	.L22:
 260:Generated_Source\PSoC4/SDCard_FS.c ****          }
 261:Generated_Source\PSoC4/SDCard_FS.c ****          else if(Mode[x] == 'a')
 525              		.loc 1 261 0
 526 00de 1623     		movs	r3, #22
 527 00e0 FB18     		adds	r3, r7, r3
 528 00e2 1B78     		ldrb	r3, [r3]
 529 00e4 3A68     		ldr	r2, [r7]
 530 00e6 D318     		adds	r3, r2, r3
 531 00e8 1B78     		ldrb	r3, [r3]
 532 00ea 612B     		cmp	r3, #97
 533 00ec 14D1     		bne	.L23
 262:Generated_Source\PSoC4/SDCard_FS.c ****          {
 263:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileMode[Fptr] |= 0x04;  // If 'a' set the append mode bit
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 15


 534              		.loc 1 263 0
 535 00ee 1723     		movs	r3, #23
 536 00f0 FB18     		adds	r3, r7, r3
 537 00f2 1B78     		ldrb	r3, [r3]
 538 00f4 1722     		movs	r2, #23
 539 00f6 BA18     		adds	r2, r7, r2
 540 00f8 1278     		ldrb	r2, [r2]
 541 00fa 8D49     		ldr	r1, .L40+4
 542 00fc 8A5C     		ldrb	r2, [r1, r2]
 543 00fe 0421     		movs	r1, #4
 544 0100 0A43     		orrs	r2, r1
 545 0102 D1B2     		uxtb	r1, r2
 546 0104 8A4A     		ldr	r2, .L40+4
 547 0106 D154     		strb	r1, [r2, r3]
 264:Generated_Source\PSoC4/SDCard_FS.c ****             status++;                // Add one to status count
 548              		.loc 1 264 0
 549 0108 1523     		movs	r3, #21
 550 010a FB18     		adds	r3, r7, r3
 551 010c 1A78     		ldrb	r2, [r3]
 552 010e 1523     		movs	r3, #21
 553 0110 FB18     		adds	r3, r7, r3
 554 0112 0132     		adds	r2, r2, #1
 555 0114 1A70     		strb	r2, [r3]
 556 0116 14E0     		b	.L21
 557              	.L23:
 265:Generated_Source\PSoC4/SDCard_FS.c ****          }
 266:Generated_Source\PSoC4/SDCard_FS.c ****          else if(Mode[x] == '+')
 558              		.loc 1 266 0
 559 0118 1623     		movs	r3, #22
 560 011a FB18     		adds	r3, r7, r3
 561 011c 1B78     		ldrb	r3, [r3]
 562 011e 3A68     		ldr	r2, [r7]
 563 0120 D318     		adds	r3, r2, r3
 564 0122 1B78     		ldrb	r3, [r3]
 565 0124 2B2B     		cmp	r3, #43
 566 0126 0CD1     		bne	.L21
 267:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileMode[Fptr] |= 0x08;     // If '+' set the add mode bit
 567              		.loc 1 267 0
 568 0128 1723     		movs	r3, #23
 569 012a FB18     		adds	r3, r7, r3
 570 012c 1B78     		ldrb	r3, [r3]
 571 012e 1722     		movs	r2, #23
 572 0130 BA18     		adds	r2, r7, r2
 573 0132 1278     		ldrb	r2, [r2]
 574 0134 7E49     		ldr	r1, .L40+4
 575 0136 8A5C     		ldrb	r2, [r1, r2]
 576 0138 0821     		movs	r1, #8
 577 013a 0A43     		orrs	r2, r1
 578 013c D1B2     		uxtb	r1, r2
 579 013e 7C4A     		ldr	r2, .L40+4
 580 0140 D154     		strb	r1, [r2, r3]
 581              	.L21:
 268:Generated_Source\PSoC4/SDCard_FS.c ****          
 269:Generated_Source\PSoC4/SDCard_FS.c ****          x++;                        // Do next character
 582              		.loc 1 269 0
 583 0142 1623     		movs	r3, #22
 584 0144 FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 16


 585 0146 1A78     		ldrb	r2, [r3]
 586 0148 1623     		movs	r3, #22
 587 014a FB18     		adds	r3, r7, r3
 588 014c 0132     		adds	r2, r2, #1
 589 014e 1A70     		strb	r2, [r3]
 590              	.L19:
 249:Generated_Source\PSoC4/SDCard_FS.c ****       {
 591              		.loc 1 249 0
 592 0150 1623     		movs	r3, #22
 593 0152 FB18     		adds	r3, r7, r3
 594 0154 1B78     		ldrb	r3, [r3]
 595 0156 3A68     		ldr	r2, [r7]
 596 0158 D318     		adds	r3, r2, r3
 597 015a 1B78     		ldrb	r3, [r3]
 598 015c 002B     		cmp	r3, #0
 599 015e 84D1     		bne	.L24
 270:Generated_Source\PSoC4/SDCard_FS.c ****       }
 271:Generated_Source\PSoC4/SDCard_FS.c **** 
 272:Generated_Source\PSoC4/SDCard_FS.c ****       // Check that only one of the r, w, or a bits was set 
 273:Generated_Source\PSoC4/SDCard_FS.c ****       if(status != 1)
 600              		.loc 1 273 0
 601 0160 1523     		movs	r3, #21
 602 0162 FB18     		adds	r3, r7, r3
 603 0164 1B78     		ldrb	r3, [r3]
 604 0166 012B     		cmp	r3, #1
 605 0168 0AD0     		beq	.L25
 274:Generated_Source\PSoC4/SDCard_FS.c ****       {
 275:Generated_Source\PSoC4/SDCard_FS.c ****          // Set error bit - invalid value
 276:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_FileMode[Fptr] = 0;         // Error - Clear file mode bits
 606              		.loc 1 276 0
 607 016a 1723     		movs	r3, #23
 608 016c FB18     		adds	r3, r7, r3
 609 016e 1B78     		ldrb	r3, [r3]
 610 0170 6F4A     		ldr	r2, .L40+4
 611 0172 0021     		movs	r1, #0
 612 0174 D154     		strb	r1, [r2, r3]
 277:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;
 613              		.loc 1 277 0
 614 0176 1523     		movs	r3, #21
 615 0178 FB18     		adds	r3, r7, r3
 616 017a AA22     		movs	r2, #170
 617 017c 1A70     		strb	r2, [r3]
 618 017e 03E0     		b	.L26
 619              	.L25:
 278:Generated_Source\PSoC4/SDCard_FS.c ****       }
 279:Generated_Source\PSoC4/SDCard_FS.c ****       else
 280:Generated_Source\PSoC4/SDCard_FS.c ****            status = 0;               // No error - clear status
 620              		.loc 1 280 0
 621 0180 1523     		movs	r3, #21
 622 0182 FB18     		adds	r3, r7, r3
 623 0184 0022     		movs	r2, #0
 624 0186 1A70     		strb	r2, [r3]
 625              	.L26:
 281:Generated_Source\PSoC4/SDCard_FS.c ****       // === Done  parsing Mode string ===
 282:Generated_Source\PSoC4/SDCard_FS.c **** 
 283:Generated_Source\PSoC4/SDCard_FS.c ****       // Copy filename from Filename to xFilename (copy is modified to match DIR format)
 284:Generated_Source\PSoC4/SDCard_FS.c ****       x=0;
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 17


 626              		.loc 1 284 0
 627 0188 1623     		movs	r3, #22
 628 018a FB18     		adds	r3, r7, r3
 629 018c 0022     		movs	r2, #0
 630 018e 1A70     		strb	r2, [r3]
 285:Generated_Source\PSoC4/SDCard_FS.c ****       while(Filename[x]!=0)
 631              		.loc 1 285 0
 632 0190 12E0     		b	.L27
 633              	.L28:
 286:Generated_Source\PSoC4/SDCard_FS.c ****       {
 287:Generated_Source\PSoC4/SDCard_FS.c ****          xFilename[x] = Filename[x]; // Copy the filename string
 634              		.loc 1 287 0
 635 0192 1623     		movs	r3, #22
 636 0194 FB18     		adds	r3, r7, r3
 637 0196 1B78     		ldrb	r3, [r3]
 638 0198 1622     		movs	r2, #22
 639 019a BA18     		adds	r2, r7, r2
 640 019c 1278     		ldrb	r2, [r2]
 641 019e 7968     		ldr	r1, [r7, #4]
 642 01a0 8A18     		adds	r2, r1, r2
 643 01a2 1178     		ldrb	r1, [r2]
 644 01a4 0822     		movs	r2, #8
 645 01a6 BA18     		adds	r2, r7, r2
 646 01a8 D154     		strb	r1, [r2, r3]
 288:Generated_Source\PSoC4/SDCard_FS.c ****          x++;
 647              		.loc 1 288 0
 648 01aa 1623     		movs	r3, #22
 649 01ac FB18     		adds	r3, r7, r3
 650 01ae 1A78     		ldrb	r2, [r3]
 651 01b0 1623     		movs	r3, #22
 652 01b2 FB18     		adds	r3, r7, r3
 653 01b4 0132     		adds	r2, r2, #1
 654 01b6 1A70     		strb	r2, [r3]
 655              	.L27:
 285:Generated_Source\PSoC4/SDCard_FS.c ****       while(Filename[x]!=0)
 656              		.loc 1 285 0
 657 01b8 1623     		movs	r3, #22
 658 01ba FB18     		adds	r3, r7, r3
 659 01bc 1B78     		ldrb	r3, [r3]
 660 01be 7A68     		ldr	r2, [r7, #4]
 661 01c0 D318     		adds	r3, r2, r3
 662 01c2 1B78     		ldrb	r3, [r3]
 663 01c4 002B     		cmp	r3, #0
 664 01c6 E4D1     		bne	.L28
 289:Generated_Source\PSoC4/SDCard_FS.c ****       } 
 290:Generated_Source\PSoC4/SDCard_FS.c ****       xFilename[x] = 0;              // Terminate the string
 665              		.loc 1 290 0
 666 01c8 1623     		movs	r3, #22
 667 01ca FB18     		adds	r3, r7, r3
 668 01cc 1B78     		ldrb	r3, [r3]
 669 01ce 0822     		movs	r2, #8
 670 01d0 BA18     		adds	r2, r7, r2
 671 01d2 0021     		movs	r1, #0
 672 01d4 D154     		strb	r1, [r2, r3]
 291:Generated_Source\PSoC4/SDCard_FS.c **** 
 292:Generated_Source\PSoC4/SDCard_FS.c ****       // xFilename is now ready to be parsed and processed
 293:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_ParseFilename(xFilename);      // Parse the filename
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 18


 673              		.loc 1 293 0
 674 01d6 1523     		movs	r3, #21
 675 01d8 FC18     		adds	r4, r7, r3
 676 01da 0823     		movs	r3, #8
 677 01dc FB18     		adds	r3, r7, r3
 678 01de 1800     		movs	r0, r3
 679 01e0 FFF7FEFF 		bl	SDCard_ParseFilename
 680 01e4 0300     		movs	r3, r0
 681 01e6 2370     		strb	r3, [r4]
 294:Generated_Source\PSoC4/SDCard_FS.c ****       if(status==0)                  // If the filename is valid, copy it to the buffer
 682              		.loc 1 294 0
 683 01e8 1523     		movs	r3, #21
 684 01ea FB18     		adds	r3, r7, r3
 685 01ec 1B78     		ldrb	r3, [r3]
 686 01ee 002B     		cmp	r3, #0
 687 01f0 1DD1     		bne	.L29
 295:Generated_Source\PSoC4/SDCard_FS.c ****       {
 296:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=0; x<12; x++)
 688              		.loc 1 296 0
 689 01f2 1623     		movs	r3, #22
 690 01f4 FB18     		adds	r3, r7, r3
 691 01f6 0022     		movs	r2, #0
 692 01f8 1A70     		strb	r2, [r3]
 693 01fa 13E0     		b	.L30
 694              	.L31:
 297:Generated_Source\PSoC4/SDCard_FS.c ****          {
 298:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Buffer2[x] = xFilename[x];
 695              		.loc 1 298 0 discriminator 3
 696 01fc 4D4B     		ldr	r3, .L40+8
 697 01fe 1A68     		ldr	r2, [r3]
 698 0200 1623     		movs	r3, #22
 699 0202 FB18     		adds	r3, r7, r3
 700 0204 1B78     		ldrb	r3, [r3]
 701 0206 D318     		adds	r3, r2, r3
 702 0208 1622     		movs	r2, #22
 703 020a BA18     		adds	r2, r7, r2
 704 020c 1278     		ldrb	r2, [r2]
 705 020e 0821     		movs	r1, #8
 706 0210 7918     		adds	r1, r7, r1
 707 0212 8A5C     		ldrb	r2, [r1, r2]
 708 0214 1A70     		strb	r2, [r3]
 296:Generated_Source\PSoC4/SDCard_FS.c ****          {
 709              		.loc 1 296 0 discriminator 3
 710 0216 1623     		movs	r3, #22
 711 0218 FB18     		adds	r3, r7, r3
 712 021a 1A78     		ldrb	r2, [r3]
 713 021c 1623     		movs	r3, #22
 714 021e FB18     		adds	r3, r7, r3
 715 0220 0132     		adds	r2, r2, #1
 716 0222 1A70     		strb	r2, [r3]
 717              	.L30:
 296:Generated_Source\PSoC4/SDCard_FS.c ****          {
 718              		.loc 1 296 0 is_stmt 0 discriminator 1
 719 0224 1623     		movs	r3, #22
 720 0226 FB18     		adds	r3, r7, r3
 721 0228 1B78     		ldrb	r3, [r3]
 722 022a 0B2B     		cmp	r3, #11
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 19


 723 022c E6D9     		bls	.L31
 724              	.L29:
 299:Generated_Source\PSoC4/SDCard_FS.c ****          }
 300:Generated_Source\PSoC4/SDCard_FS.c ****       }
 301:Generated_Source\PSoC4/SDCard_FS.c **** 
 302:Generated_Source\PSoC4/SDCard_FS.c ****       // Filename parsed - if no errors (status OK) , attempt to open file
 303:Generated_Source\PSoC4/SDCard_FS.c ****       if(status==0)                           // If no errors proceed
 725              		.loc 1 303 0 is_stmt 1
 726 022e 1523     		movs	r3, #21
 727 0230 FB18     		adds	r3, r7, r3
 728 0232 1B78     		ldrb	r3, [r3]
 729 0234 002B     		cmp	r3, #0
 730 0236 6DD1     		bne	.L32
 304:Generated_Source\PSoC4/SDCard_FS.c ****       {
 305:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_FileError[Fptr] &= ~SDCard_FNF;             // Clear the File Not Found flag bit
 731              		.loc 1 305 0
 732 0238 1723     		movs	r3, #23
 733 023a FB18     		adds	r3, r7, r3
 734 023c 1B78     		ldrb	r3, [r3]
 735 023e 1722     		movs	r2, #23
 736 0240 BA18     		adds	r2, r7, r2
 737 0242 1278     		ldrb	r2, [r2]
 738 0244 3C49     		ldr	r1, .L40+12
 739 0246 8A5C     		ldrb	r2, [r1, r2]
 740 0248 0221     		movs	r1, #2
 741 024a 8A43     		bics	r2, r1
 742 024c D1B2     		uxtb	r1, r2
 743 024e 3A4A     		ldr	r2, .L40+12
 744 0250 D154     		strb	r1, [r2, r3]
 306:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_FindFile(Fptr, 0);                   // Get file info using filename
 745              		.loc 1 306 0
 746 0252 1723     		movs	r3, #23
 747 0254 FB18     		adds	r3, r7, r3
 748 0256 1B78     		ldrb	r3, [r3]
 749 0258 0021     		movs	r1, #0
 750 025a 1800     		movs	r0, r3
 751 025c FFF7FEFF 		bl	SDCard_FindFile
 307:Generated_Source\PSoC4/SDCard_FS.c ****          if((SDCard_FileError[Fptr] & SDCard_FNF)!= 0)      // If file was not found
 752              		.loc 1 307 0
 753 0260 1723     		movs	r3, #23
 754 0262 FB18     		adds	r3, r7, r3
 755 0264 1B78     		ldrb	r3, [r3]
 756 0266 344A     		ldr	r2, .L40+12
 757 0268 D35C     		ldrb	r3, [r2, r3]
 758 026a 1A00     		movs	r2, r3
 759 026c 0223     		movs	r3, #2
 760 026e 1340     		ands	r3, r2
 761 0270 28D0     		beq	.L33
 308:Generated_Source\PSoC4/SDCard_FS.c ****          {
 309:Generated_Source\PSoC4/SDCard_FS.c ****             if((SDCard_FileMode[Fptr] & 0x01) == 1)  // Is the mode set to read?
 762              		.loc 1 309 0
 763 0272 1723     		movs	r3, #23
 764 0274 FB18     		adds	r3, r7, r3
 765 0276 1B78     		ldrb	r3, [r3]
 766 0278 2D4A     		ldr	r2, .L40+4
 767 027a D35C     		ldrb	r3, [r2, r3]
 768 027c 1A00     		movs	r2, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 20


 769 027e 0123     		movs	r3, #1
 770 0280 1340     		ands	r3, r2
 771 0282 04D0     		beq	.L34
 310:Generated_Source\PSoC4/SDCard_FS.c ****             {
 311:Generated_Source\PSoC4/SDCard_FS.c ****                Fptr = SDCard_MAXFILES;               // Yes, no file pointers available - Set error
 772              		.loc 1 311 0
 773 0284 1723     		movs	r3, #23
 774 0286 FB18     		adds	r3, r7, r3
 775 0288 0222     		movs	r2, #2
 776 028a 1A70     		strb	r2, [r3]
 777 028c 46E0     		b	.L18
 778              	.L34:
 312:Generated_Source\PSoC4/SDCard_FS.c ****             }
 313:Generated_Source\PSoC4/SDCard_FS.c ****             else
 314:Generated_Source\PSoC4/SDCard_FS.c ****             {
 315:Generated_Source\PSoC4/SDCard_FS.c **** 
 316:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 317:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
 318:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_WriteProtect())          // Is the card switch in the protect mode?
 319:Generated_Source\PSoC4/SDCard_FS.c ****                {
 320:Generated_Source\PSoC4/SDCard_FS.c ****                   Fptr = SDCard_MAXFILES;            // Failure - write protected - Set error for o
 321:Generated_Source\PSoC4/SDCard_FS.c ****                }
 322:Generated_Source\PSoC4/SDCard_FS.c ****                else
 323:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 324:Generated_Source\PSoC4/SDCard_FS.c ****                {
 325:Generated_Source\PSoC4/SDCard_FS.c ****                   // Create new file (if write or append) and no file was found
 326:Generated_Source\PSoC4/SDCard_FS.c ****                   Fptr = SDCard_NewFile(Fptr, SDCard_Buffer2);    // Create new file using filename
 779              		.loc 1 326 0
 780 028e 294B     		ldr	r3, .L40+8
 781 0290 1A68     		ldr	r2, [r3]
 782 0292 1723     		movs	r3, #23
 783 0294 FC18     		adds	r4, r7, r3
 784 0296 1723     		movs	r3, #23
 785 0298 FB18     		adds	r3, r7, r3
 786 029a 1B78     		ldrb	r3, [r3]
 787 029c 1100     		movs	r1, r2
 788 029e 1800     		movs	r0, r3
 789 02a0 FFF7FEFF 		bl	SDCard_NewFile
 790 02a4 0300     		movs	r3, r0
 791 02a6 2370     		strb	r3, [r4]
 327:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_FileError[Fptr] &= ~SDCard_FNF;          // Clear the File Not Found flag 
 792              		.loc 1 327 0
 793 02a8 1723     		movs	r3, #23
 794 02aa FB18     		adds	r3, r7, r3
 795 02ac 1B78     		ldrb	r3, [r3]
 796 02ae 1722     		movs	r2, #23
 797 02b0 BA18     		adds	r2, r7, r2
 798 02b2 1278     		ldrb	r2, [r2]
 799 02b4 2049     		ldr	r1, .L40+12
 800 02b6 8A5C     		ldrb	r2, [r1, r2]
 801 02b8 0221     		movs	r1, #2
 802 02ba 8A43     		bics	r2, r1
 803 02bc D1B2     		uxtb	r1, r2
 804 02be 1E4A     		ldr	r2, .L40+12
 805 02c0 D154     		strb	r1, [r2, r3]
 806 02c2 2BE0     		b	.L18
 807              	.L33:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 21


 328:Generated_Source\PSoC4/SDCard_FS.c ****                }
 329:Generated_Source\PSoC4/SDCard_FS.c **** 
 330:Generated_Source\PSoC4/SDCard_FS.c ****                
 331:Generated_Source\PSoC4/SDCard_FS.c **** #else
 332:Generated_Source\PSoC4/SDCard_FS.c ****                Fptr = SDCard_MAXFILES;               // Failure - not a valid mode - Set error for 
 333:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 334:Generated_Source\PSoC4/SDCard_FS.c ****             }
 335:Generated_Source\PSoC4/SDCard_FS.c ****          }
 336:Generated_Source\PSoC4/SDCard_FS.c ****          else
 337:Generated_Source\PSoC4/SDCard_FS.c ****          {
 338:Generated_Source\PSoC4/SDCard_FS.c ****             // If file was found, and write mode is set - zero the file, if in append mode - don't 
 339:Generated_Source\PSoC4/SDCard_FS.c ****             if((SDCard_FileMode[Fptr] & 0x01) != 1)   // Is the mode set to write or append?
 808              		.loc 1 339 0
 809 02c4 1723     		movs	r3, #23
 810 02c6 FB18     		adds	r3, r7, r3
 811 02c8 1B78     		ldrb	r3, [r3]
 812 02ca 194A     		ldr	r2, .L40+4
 813 02cc D35C     		ldrb	r3, [r2, r3]
 814 02ce 1A00     		movs	r2, r3
 815 02d0 0123     		movs	r3, #1
 816 02d2 1340     		ands	r3, r2
 817 02d4 22D1     		bne	.L18
 340:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 341:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
 342:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_WriteProtect())           // Is the card switch in the protect mode?
 343:Generated_Source\PSoC4/SDCard_FS.c ****                   Fptr = SDCard_MAXFILES;             // Failure - write protected - Set error for 
 344:Generated_Source\PSoC4/SDCard_FS.c ****                else
 345:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 346:Generated_Source\PSoC4/SDCard_FS.c ****                {
 347:Generated_Source\PSoC4/SDCard_FS.c ****                    if((SDCard_FileMode[Fptr] & 0x02) == 2) // Is the mode set to write?
 818              		.loc 1 347 0
 819 02d6 1723     		movs	r3, #23
 820 02d8 FB18     		adds	r3, r7, r3
 821 02da 1B78     		ldrb	r3, [r3]
 822 02dc 144A     		ldr	r2, .L40+4
 823 02de D35C     		ldrb	r3, [r2, r3]
 824 02e0 1A00     		movs	r2, r3
 825 02e2 0223     		movs	r3, #2
 826 02e4 1340     		ands	r3, r2
 827 02e6 07D0     		beq	.L37
 348:Generated_Source\PSoC4/SDCard_FS.c ****                        SDCard_FileZero(Fptr, 0);           // Set file size to zero and delete FAT 
 828              		.loc 1 348 0
 829 02e8 1723     		movs	r3, #23
 830 02ea FB18     		adds	r3, r7, r3
 831 02ec 1B78     		ldrb	r3, [r3]
 832 02ee 0021     		movs	r1, #0
 833 02f0 1800     		movs	r0, r3
 834 02f2 FFF7FEFF 		bl	SDCard_FileZero
 835 02f6 11E0     		b	.L18
 836              	.L37:
 349:Generated_Source\PSoC4/SDCard_FS.c ****                    else
 350:Generated_Source\PSoC4/SDCard_FS.c ****                        SDCard_fseek(Fptr, SDCard_CurSize[Fptr]);   // Must be in append mode move o
 837              		.loc 1 350 0
 838 02f8 1723     		movs	r3, #23
 839 02fa FB18     		adds	r3, r7, r3
 840 02fc 1A78     		ldrb	r2, [r3]
 841 02fe 0F4B     		ldr	r3, .L40+16
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 22


 842 0300 9200     		lsls	r2, r2, #2
 843 0302 D258     		ldr	r2, [r2, r3]
 844 0304 1723     		movs	r3, #23
 845 0306 FB18     		adds	r3, r7, r3
 846 0308 1B78     		ldrb	r3, [r3]
 847 030a 1100     		movs	r1, r2
 848 030c 1800     		movs	r0, r3
 849 030e FFF7FEFF 		bl	SDCard_fseek
 850 0312 03E0     		b	.L18
 851              	.L32:
 351:Generated_Source\PSoC4/SDCard_FS.c ****                }
 352:Generated_Source\PSoC4/SDCard_FS.c **** #else
 353:Generated_Source\PSoC4/SDCard_FS.c ****                   Fptr = SDCard_MAXFILES;             // Failure - not a valid mode - Set error for
 354:Generated_Source\PSoC4/SDCard_FS.c **** 
 355:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 356:Generated_Source\PSoC4/SDCard_FS.c ****          }
 357:Generated_Source\PSoC4/SDCard_FS.c ****       }
 358:Generated_Source\PSoC4/SDCard_FS.c ****       else
 359:Generated_Source\PSoC4/SDCard_FS.c ****       {
 360:Generated_Source\PSoC4/SDCard_FS.c ****          Fptr = SDCard_MAXFILES;      // Failure - not a valid filename or mode - Set error for ope
 852              		.loc 1 360 0
 853 0314 1723     		movs	r3, #23
 854 0316 FB18     		adds	r3, r7, r3
 855 0318 0222     		movs	r2, #2
 856 031a 1A70     		strb	r2, [r3]
 857              	.L18:
 361:Generated_Source\PSoC4/SDCard_FS.c ****       }
 362:Generated_Source\PSoC4/SDCard_FS.c ****    }
 363:Generated_Source\PSoC4/SDCard_FS.c ****           
 364:Generated_Source\PSoC4/SDCard_FS.c ****    return(Fptr);               // Return pointer value to use to access file
 858              		.loc 1 364 0
 859 031c 1723     		movs	r3, #23
 860 031e FB18     		adds	r3, r7, r3
 861 0320 1B78     		ldrb	r3, [r3]
 365:Generated_Source\PSoC4/SDCard_FS.c **** }
 862              		.loc 1 365 0
 863 0322 1800     		movs	r0, r3
 864 0324 BD46     		mov	sp, r7
 865 0326 07B0     		add	sp, sp, #28
 866              		@ sp needed
 867 0328 90BD     		pop	{r4, r7, pc}
 868              	.L41:
 869 032a C046     		.align	2
 870              	.L40:
 871 032c 00000000 		.word	SDCard_CurStart
 872 0330 00000000 		.word	SDCard_FileMode
 873 0334 00000000 		.word	SDCard_Buffer2
 874 0338 00000000 		.word	SDCard_FileError
 875 033c 00000000 		.word	SDCard_CurSize
 876              		.cfi_endproc
 877              	.LFE37:
 878              		.size	SDCard_fopen, .-SDCard_fopen
 879              		.section	.text.SDCard_fgetc,"ax",%progbits
 880              		.align	2
 881              		.global	SDCard_fgetc
 882              		.code	16
 883              		.thumb_func
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 23


 884              		.type	SDCard_fgetc, %function
 885              	SDCard_fgetc:
 886              	.LFB38:
 366:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 367:Generated_Source\PSoC4/SDCard_FS.c **** 
 368:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 369:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:    uchar SDCard_fgetc(uchar Fptr)
 370:Generated_Source\PSoC4/SDCard_FS.c **** //
 371:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 372:Generated_Source\PSoC4/SDCard_FS.c **** //   Reads a single byte from a file indicated by [Fptr]and uses the CurOffset[Fptr] 
 373:Generated_Source\PSoC4/SDCard_FS.c **** //   for the actual byte position (CurOffset[Fptr] is incremented after the read.)
 374:Generated_Source\PSoC4/SDCard_FS.c **** //
 375:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set by the SDCard_FileOpen subroutine)
 376:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 377:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 378:Generated_Source\PSoC4/SDCard_FS.c **** //
 379:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 380:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer of file to get character
 381:Generated_Source\PSoC4/SDCard_FS.c **** //
 382:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 383:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the character read
 384:Generated_Source\PSoC4/SDCard_FS.c **** //
 385:Generated_Source\PSoC4/SDCard_FS.c **** //
 386:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 387:Generated_Source\PSoC4/SDCard_FS.c **** //
 388:Generated_Source\PSoC4/SDCard_FS.c **** //              ***   Global variables required   ***     
 389:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 390:Generated_Source\PSoC4/SDCard_FS.c **** //
 391:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting fat entry for the file
 392:Generated_Source\PSoC4/SDCard_FS.c **** //    SDCard_CurSize[Fptr]    - contains the size of the file
 393:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 394:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 395:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 396:Generated_Source\PSoC4/SDCard_FS.c **** //
 397:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 398:Generated_Source\PSoC4/SDCard_FS.c **** //
 399:Generated_Source\PSoC4/SDCard_FS.c **** //    Address equals ((cluster in FAT - 2)* cluster size + sector offset) * sector size)+ remainder
 400:Generated_Source\PSoC4/SDCard_FS.c **** //    Address = (DataStart + ((((CurFat[Fptr] - 2) * ClusterSize) + CurSect[Fptr] ) * 512 ) + (SDCa
 401:Generated_Source\PSoC4/SDCard_FS.c **** //
 402:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 403:Generated_Source\PSoC4/SDCard_FS.c **** 
 404:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fgetc(uchar Fptr)
 405:Generated_Source\PSoC4/SDCard_FS.c **** {
 887              		.loc 1 405 0
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 16
 890              		@ frame_needed = 1, uses_anonymous_args = 0
 891 0000 90B5     		push	{r4, r7, lr}
 892              		.cfi_def_cfa_offset 12
 893              		.cfi_offset 4, -12
 894              		.cfi_offset 7, -8
 895              		.cfi_offset 14, -4
 896 0002 85B0     		sub	sp, sp, #20
 897              		.cfi_def_cfa_offset 32
 898 0004 00AF     		add	r7, sp, #0
 899              		.cfi_def_cfa_register 7
 900 0006 0200     		movs	r2, r0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 24


 901 0008 FB1D     		adds	r3, r7, #7
 902 000a 1A70     		strb	r2, [r3]
 406:Generated_Source\PSoC4/SDCard_FS.c ****    uint   offset;               // Temp offset of buffer index
 407:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Data = 0;            // Temp holder for data to return
 903              		.loc 1 407 0
 904 000c 0F23     		movs	r3, #15
 905 000e FB18     		adds	r3, r7, r3
 906 0010 0022     		movs	r2, #0
 907 0012 1A70     		strb	r2, [r3]
 408:Generated_Source\PSoC4/SDCard_FS.c **** 
 409:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)            // Is the file pointer valid? If yes, continue. If no, do no
 908              		.loc 1 409 0
 909 0014 FB1D     		adds	r3, r7, #7
 910 0016 1B78     		ldrb	r3, [r3]
 911 0018 012B     		cmp	r3, #1
 912 001a 00D9     		bls	.LCB702
 913 001c A7E0     		b	.L43	@long jump
 914              	.LCB702:
 410:Generated_Source\PSoC4/SDCard_FS.c ****    {
 411:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 412:Generated_Source\PSoC4/SDCard_FS.c ****       if((SDCard_CurFat[Fptr] != SDCard_FatEnd) && (SDCard_CurOffset[Fptr] <= SDCard_CurSize[Fptr])
 915              		.loc 1 412 0
 916 001e FB1D     		adds	r3, r7, #7
 917 0020 1A78     		ldrb	r2, [r3]
 918 0022 564B     		ldr	r3, .L54
 919 0024 9200     		lsls	r2, r2, #2
 920 0026 D258     		ldr	r2, [r2, r3]
 921 0028 554B     		ldr	r3, .L54+4
 922 002a 1B68     		ldr	r3, [r3]
 923 002c 9A42     		cmp	r2, r3
 924 002e 00D1     		bne	.LCB711
 925 0030 9DE0     		b	.L43	@long jump
 926              	.LCB711:
 927              		.loc 1 412 0 is_stmt 0 discriminator 1
 928 0032 FB1D     		adds	r3, r7, #7
 929 0034 1A78     		ldrb	r2, [r3]
 930 0036 534B     		ldr	r3, .L54+8
 931 0038 9200     		lsls	r2, r2, #2
 932 003a D258     		ldr	r2, [r2, r3]
 933 003c FB1D     		adds	r3, r7, #7
 934 003e 1978     		ldrb	r1, [r3]
 935 0040 514B     		ldr	r3, .L54+12
 936 0042 8900     		lsls	r1, r1, #2
 937 0044 CB58     		ldr	r3, [r1, r3]
 938 0046 9A42     		cmp	r2, r3
 939 0048 00D9     		bls	.LCB723
 940 004a 90E0     		b	.L43	@long jump
 941              	.LCB723:
 413:Generated_Source\PSoC4/SDCard_FS.c ****       {
 414:Generated_Source\PSoC4/SDCard_FS.c ****          // Address equals ((cluster in FAT - 2)* cluster size + sector offset) * sector size)+ rem
 415:Generated_Source\PSoC4/SDCard_FS.c ****          // Address = (DataStart + ((((CurFat[Fptr] - 2) * ClusterSize) + CurSect[Fptr] ) * 512 ) +
 416:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_GetAddress(Fptr, 1);         // Calculate address
 942              		.loc 1 416 0 is_stmt 1
 943 004c FB1D     		adds	r3, r7, #7
 944 004e 1B78     		ldrb	r3, [r3]
 945 0050 0121     		movs	r1, #1
 946 0052 1800     		movs	r0, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 25


 947 0054 FFF7FEFF 		bl	SDCard_GetAddress
 417:Generated_Source\PSoC4/SDCard_FS.c **** #else
 418:Generated_Source\PSoC4/SDCard_FS.c ****       {
 419:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Address = SDCard_CurOffset[Fptr]+SDCard_MemoryStart;
 420:Generated_Source\PSoC4/SDCard_FS.c **** #endif      
 421:Generated_Source\PSoC4/SDCard_FS.c ****          // If the dirty flag is clear and the sector address match use the current buffer
 422:Generated_Source\PSoC4/SDCard_FS.c ****          // instead of reading the card. (Pending write data could contain a different value.)
 423:Generated_Source\PSoC4/SDCard_FS.c ****          if( ((SDCard_DirtyFlag&0x01)!=0x01)||((SDCard_Address & 0xFFFFFE00)!= SDCard_BuffLoc) )
 948              		.loc 1 423 0
 949 0058 4C4B     		ldr	r3, .L54+16
 950 005a 1B78     		ldrb	r3, [r3]
 951 005c 1A00     		movs	r2, r3
 952 005e 0123     		movs	r3, #1
 953 0060 1340     		ands	r3, r2
 954 0062 07D0     		beq	.L44
 955              		.loc 1 423 0 is_stmt 0 discriminator 1
 956 0064 4A4B     		ldr	r3, .L54+20
 957 0066 1B68     		ldr	r3, [r3]
 958 0068 5B0A     		lsrs	r3, r3, #9
 959 006a 5A02     		lsls	r2, r3, #9
 960 006c 494B     		ldr	r3, .L54+24
 961 006e 1B68     		ldr	r3, [r3]
 962 0070 9A42     		cmp	r2, r3
 963 0072 40D0     		beq	.L45
 964              	.L44:
 424:Generated_Source\PSoC4/SDCard_FS.c ****          {
 425:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_SetSize(1);                          // Set block length back to read a single b
 965              		.loc 1 425 0 is_stmt 1
 966 0074 0120     		movs	r0, #1
 967 0076 FFF7FEFF 		bl	SDCard_SetSize
 426:Generated_Source\PSoC4/SDCard_FS.c **** 
 427:Generated_Source\PSoC4/SDCard_FS.c ****             // CMD17 - Read single block command
 428:Generated_Source\PSoC4/SDCard_FS.c ****             // Byte String = 0x51 (ulong Address) 0xFF 
 429:Generated_Source\PSoC4/SDCard_FS.c **** 
 430:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Cmd(SDCard_CMD17, SDCard_Address);                 // Send CMD17 command string
 968              		.loc 1 430 0
 969 007a 454B     		ldr	r3, .L54+20
 970 007c 1B68     		ldr	r3, [r3]
 971 007e 1900     		movs	r1, r3
 972 0080 5120     		movs	r0, #81
 973 0082 FFF7FEFF 		bl	SDCard_Cmd
 431:Generated_Source\PSoC4/SDCard_FS.c ****    
 432:Generated_Source\PSoC4/SDCard_FS.c ****             // Check response
 433:Generated_Source\PSoC4/SDCard_FS.c ****             if(SDCard_CheckReply(0) != SDCard_FAIL)            // Check for status good
 974              		.loc 1 433 0
 975 0086 0020     		movs	r0, #0
 976 0088 FFF7FEFF 		bl	SDCard_CheckReply
 977 008c 0300     		movs	r3, r0
 978 008e AA2B     		cmp	r3, #170
 979 0090 23D0     		beq	.L46
 434:Generated_Source\PSoC4/SDCard_FS.c ****             {
 435:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_CheckReply(0xFE) != SDCard_FAIL)      // Set check to Single Block Read da
 980              		.loc 1 435 0
 981 0092 FE20     		movs	r0, #254
 982 0094 FFF7FEFF 		bl	SDCard_CheckReply
 983 0098 0300     		movs	r3, r0
 984 009a AA2B     		cmp	r3, #170
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 26


 985 009c 11D0     		beq	.L47
 436:Generated_Source\PSoC4/SDCard_FS.c ****                {
 437:Generated_Source\PSoC4/SDCard_FS.c ****                   // Get one byte
 438:Generated_Source\PSoC4/SDCard_FS.c **** 
 439:Generated_Source\PSoC4/SDCard_FS.c ****                   // Send a null byte to shift for btye read
 440:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_SendTxData( 0xFF );
 986              		.loc 1 440 0
 987 009e FF20     		movs	r0, #255
 988 00a0 FFF7FEFF 		bl	SDCard_SendTxData
 441:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_XferWait();                            // Wait for transfer to complete
 989              		.loc 1 441 0
 990 00a4 FFF7FEFF 		bl	SDCard_XferWait
 442:Generated_Source\PSoC4/SDCard_FS.c ****             
 443:Generated_Source\PSoC4/SDCard_FS.c ****                   // Send to standard output
 444:Generated_Source\PSoC4/SDCard_FS.c ****                   Data = SDCard_bReadRxData(); // Read the data byte and save it for the return
 991              		.loc 1 444 0
 992 00a8 0F23     		movs	r3, #15
 993 00aa FC18     		adds	r4, r7, r3
 994 00ac FFF7FEFF 		bl	SDCard_bReadRxData
 995 00b0 0300     		movs	r3, r0
 996 00b2 2370     		strb	r3, [r4]
 445:Generated_Source\PSoC4/SDCard_FS.c **** 
 446:Generated_Source\PSoC4/SDCard_FS.c ****                   // Increase byte count by one
 447:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_IncOffset(Fptr, 0);   // Position the next entry.
 997              		.loc 1 447 0
 998 00b4 FB1D     		adds	r3, r7, #7
 999 00b6 1B78     		ldrb	r3, [r3]
 1000 00b8 0021     		movs	r1, #0
 1001 00ba 1800     		movs	r0, r3
 1002 00bc FFF7FEFF 		bl	SDCard_IncOffset
 1003 00c0 16E0     		b	.L49
 1004              	.L47:
 448:Generated_Source\PSoC4/SDCard_FS.c ****                            
 449:Generated_Source\PSoC4/SDCard_FS.c ****                }
 450:Generated_Source\PSoC4/SDCard_FS.c ****                else
 451:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_FileError[Fptr] |= SDCard_CE;                 // Set status to Card Error 
 1005              		.loc 1 451 0
 1006 00c2 FB1D     		adds	r3, r7, #7
 1007 00c4 1B78     		ldrb	r3, [r3]
 1008 00c6 FA1D     		adds	r2, r7, #7
 1009 00c8 1278     		ldrb	r2, [r2]
 1010 00ca 3349     		ldr	r1, .L54+28
 1011 00cc 8A5C     		ldrb	r2, [r1, r2]
 1012 00ce 0821     		movs	r1, #8
 1013 00d0 0A43     		orrs	r2, r1
 1014 00d2 D1B2     		uxtb	r1, r2
 1015 00d4 304A     		ldr	r2, .L54+28
 1016 00d6 D154     		strb	r1, [r2, r3]
 1017 00d8 0AE0     		b	.L49
 1018              	.L46:
 452:Generated_Source\PSoC4/SDCard_FS.c ****             }
 453:Generated_Source\PSoC4/SDCard_FS.c ****             else
 454:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_FileError[Fptr] |= SDCard_CE;                    // Set status to Card Error 
 1019              		.loc 1 454 0
 1020 00da FB1D     		adds	r3, r7, #7
 1021 00dc 1B78     		ldrb	r3, [r3]
 1022 00de FA1D     		adds	r2, r7, #7
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 27


 1023 00e0 1278     		ldrb	r2, [r2]
 1024 00e2 2D49     		ldr	r1, .L54+28
 1025 00e4 8A5C     		ldrb	r2, [r1, r2]
 1026 00e6 0821     		movs	r1, #8
 1027 00e8 0A43     		orrs	r2, r1
 1028 00ea D1B2     		uxtb	r1, r2
 1029 00ec 2A4A     		ldr	r2, .L54+28
 1030 00ee D154     		strb	r1, [r2, r3]
 1031              	.L49:
 455:Generated_Source\PSoC4/SDCard_FS.c ****    
 456:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_EndCmd();                                    // Finish the command cycle
 1032              		.loc 1 456 0
 1033 00f0 FFF7FEFF 		bl	SDCard_EndCmd
 1034 00f4 23E0     		b	.L50
 1035              	.L45:
 457:Generated_Source\PSoC4/SDCard_FS.c **** 
 458:Generated_Source\PSoC4/SDCard_FS.c ****          }
 459:Generated_Source\PSoC4/SDCard_FS.c ****          else
 460:Generated_Source\PSoC4/SDCard_FS.c ****          {
 461:Generated_Source\PSoC4/SDCard_FS.c ****             offset = (uint)(SDCard_CurOffset[Fptr]) & 0x01FF;
 1036              		.loc 1 461 0
 1037 00f6 FB1D     		adds	r3, r7, #7
 1038 00f8 1A78     		ldrb	r2, [r3]
 1039 00fa 224B     		ldr	r3, .L54+8
 1040 00fc 9200     		lsls	r2, r2, #2
 1041 00fe D358     		ldr	r3, [r2, r3]
 1042 0100 DB05     		lsls	r3, r3, #23
 1043 0102 DB0D     		lsrs	r3, r3, #23
 1044 0104 BB60     		str	r3, [r7, #8]
 462:Generated_Source\PSoC4/SDCard_FS.c ****             if(offset < 256)      // Get the data in the correct buffer
 1045              		.loc 1 462 0
 1046 0106 BB68     		ldr	r3, [r7, #8]
 1047 0108 FF2B     		cmp	r3, #255
 1048 010a 08D8     		bhi	.L51
 463:Generated_Source\PSoC4/SDCard_FS.c ****                Data = SDCard_Buffer1[offset];
 1049              		.loc 1 463 0
 1050 010c 234B     		ldr	r3, .L54+32
 1051 010e 1A68     		ldr	r2, [r3]
 1052 0110 BB68     		ldr	r3, [r7, #8]
 1053 0112 D218     		adds	r2, r2, r3
 1054 0114 0F23     		movs	r3, #15
 1055 0116 FB18     		adds	r3, r7, r3
 1056 0118 1278     		ldrb	r2, [r2]
 1057 011a 1A70     		strb	r2, [r3]
 1058 011c 09E0     		b	.L52
 1059              	.L51:
 464:Generated_Source\PSoC4/SDCard_FS.c ****             else
 465:Generated_Source\PSoC4/SDCard_FS.c ****                Data = SDCard_Buffer2[offset-256];         
 1060              		.loc 1 465 0
 1061 011e 204B     		ldr	r3, .L54+36
 1062 0120 1A68     		ldr	r2, [r3]
 1063 0122 BB68     		ldr	r3, [r7, #8]
 1064 0124 013B     		subs	r3, r3, #1
 1065 0126 FF3B     		subs	r3, r3, #255
 1066 0128 D218     		adds	r2, r2, r3
 1067 012a 0F23     		movs	r3, #15
 1068 012c FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 28


 1069 012e 1278     		ldrb	r2, [r2]
 1070 0130 1A70     		strb	r2, [r3]
 1071              	.L52:
 466:Generated_Source\PSoC4/SDCard_FS.c **** 
 467:Generated_Source\PSoC4/SDCard_FS.c ****             // Increase byte count by one
 468:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_IncOffset(Fptr, 0);    // Position the next entry (do not add fat).
 1072              		.loc 1 468 0
 1073 0132 FB1D     		adds	r3, r7, #7
 1074 0134 1B78     		ldrb	r3, [r3]
 1075 0136 0021     		movs	r1, #0
 1076 0138 1800     		movs	r0, r3
 1077 013a FFF7FEFF 		bl	SDCard_IncOffset
 1078              	.L50:
 469:Generated_Source\PSoC4/SDCard_FS.c ****          }
 470:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 471:Generated_Source\PSoC4/SDCard_FS.c ****          // Check for the end of file
 472:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CurOffset[Fptr]==SDCard_CurSize[Fptr])
 1079              		.loc 1 472 0
 1080 013e FB1D     		adds	r3, r7, #7
 1081 0140 1A78     		ldrb	r2, [r3]
 1082 0142 104B     		ldr	r3, .L54+8
 1083 0144 9200     		lsls	r2, r2, #2
 1084 0146 D258     		ldr	r2, [r2, r3]
 1085 0148 FB1D     		adds	r3, r7, #7
 1086 014a 1978     		ldrb	r1, [r3]
 1087 014c 0E4B     		ldr	r3, .L54+12
 1088 014e 8900     		lsls	r1, r1, #2
 1089 0150 CB58     		ldr	r3, [r1, r3]
 1090 0152 9A42     		cmp	r2, r3
 1091 0154 0BD1     		bne	.L43
 473:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_FileError[Fptr] |= SDCard_EOF;             // Set end of file flag if last characte
 1092              		.loc 1 473 0
 1093 0156 FB1D     		adds	r3, r7, #7
 1094 0158 1B78     		ldrb	r3, [r3]
 1095 015a FA1D     		adds	r2, r7, #7
 1096 015c 1278     		ldrb	r2, [r2]
 1097 015e 0E49     		ldr	r1, .L54+28
 1098 0160 8A5C     		ldrb	r2, [r1, r2]
 1099 0162 8021     		movs	r1, #128
 1100 0164 4942     		rsbs	r1, r1, #0
 1101 0166 0A43     		orrs	r2, r1
 1102 0168 D1B2     		uxtb	r1, r2
 1103 016a 0B4A     		ldr	r2, .L54+28
 1104 016c D154     		strb	r1, [r2, r3]
 1105              	.L43:
 474:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 475:Generated_Source\PSoC4/SDCard_FS.c ****       }
 476:Generated_Source\PSoC4/SDCard_FS.c ****    }
 477:Generated_Source\PSoC4/SDCard_FS.c ****    return(Data);
 1106              		.loc 1 477 0
 1107 016e 0F23     		movs	r3, #15
 1108 0170 FB18     		adds	r3, r7, r3
 1109 0172 1B78     		ldrb	r3, [r3]
 478:Generated_Source\PSoC4/SDCard_FS.c **** }
 1110              		.loc 1 478 0
 1111 0174 1800     		movs	r0, r3
 1112 0176 BD46     		mov	sp, r7
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 29


 1113 0178 05B0     		add	sp, sp, #20
 1114              		@ sp needed
 1115 017a 90BD     		pop	{r4, r7, pc}
 1116              	.L55:
 1117              		.align	2
 1118              	.L54:
 1119 017c 00000000 		.word	SDCard_CurFat
 1120 0180 00000000 		.word	SDCard_FatEnd
 1121 0184 00000000 		.word	SDCard_CurOffset
 1122 0188 00000000 		.word	SDCard_CurSize
 1123 018c 00000000 		.word	SDCard_DirtyFlag
 1124 0190 00000000 		.word	SDCard_Address
 1125 0194 00000000 		.word	SDCard_BuffLoc
 1126 0198 00000000 		.word	SDCard_FileError
 1127 019c 00000000 		.word	SDCard_Buffer1
 1128 01a0 00000000 		.word	SDCard_Buffer2
 1129              		.cfi_endproc
 1130              	.LFE38:
 1131              		.size	SDCard_fgetc, .-SDCard_fgetc
 1132              		.section	.text.SDCard_fbgetc,"ax",%progbits
 1133              		.align	2
 1134              		.global	SDCard_fbgetc
 1135              		.code	16
 1136              		.thumb_func
 1137              		.type	SDCard_fbgetc, %function
 1138              	SDCard_fbgetc:
 1139              	.LFB39:
 479:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 480:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:    uchar SDCard_fbgetc(uchar Fptr)
 481:Generated_Source\PSoC4/SDCard_FS.c **** //
 482:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 483:Generated_Source\PSoC4/SDCard_FS.c **** //   This faster buffered version of fgetc reads in an entire 512 byte buffer for faster 
 484:Generated_Source\PSoC4/SDCard_FS.c **** //   access, but care must be used to do sequenced continuous reads, any read/write or  
 485:Generated_Source\PSoC4/SDCard_FS.c **** //   random access reads will cause severe slowdowns in data throughput.
 486:Generated_Source\PSoC4/SDCard_FS.c **** //
 487:Generated_Source\PSoC4/SDCard_FS.c **** //   Reads a single buffered byte from a file indicated by [Fptr]and uses the CurOffset[Fptr] 
 488:Generated_Source\PSoC4/SDCard_FS.c **** //   for the actual byte position (CurOffset[Fptr] is incremented after the read.)
 489:Generated_Source\PSoC4/SDCard_FS.c **** //
 490:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set by the SDCard_FileOpen subroutine)
 491:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 492:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 493:Generated_Source\PSoC4/SDCard_FS.c **** //
 494:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 495:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer of file to get character
 496:Generated_Source\PSoC4/SDCard_FS.c **** //
 497:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 498:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the character read
 499:Generated_Source\PSoC4/SDCard_FS.c **** //
 500:Generated_Source\PSoC4/SDCard_FS.c **** //
 501:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 502:Generated_Source\PSoC4/SDCard_FS.c **** //
 503:Generated_Source\PSoC4/SDCard_FS.c **** //              ***   Global variables required   ***     
 504:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 505:Generated_Source\PSoC4/SDCard_FS.c **** //
 506:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting fat entry for the file
 507:Generated_Source\PSoC4/SDCard_FS.c **** //    SDCard_CurSize[Fptr]    - contains the size of the file
 508:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 30


 509:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 510:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 511:Generated_Source\PSoC4/SDCard_FS.c **** //
 512:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 513:Generated_Source\PSoC4/SDCard_FS.c **** //
 514:Generated_Source\PSoC4/SDCard_FS.c **** //    Address equals ((cluster in FAT - 2)* cluster size + sector offset) * sector size)+ remainder
 515:Generated_Source\PSoC4/SDCard_FS.c **** //    Address = (DataStart + ((((CurFat[Fptr] - 2) * ClusterSize) + CurSect[Fptr] ) * 512 ) + (SDCa
 516:Generated_Source\PSoC4/SDCard_FS.c **** //
 517:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 518:Generated_Source\PSoC4/SDCard_FS.c **** 
 519:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fbgetc(uchar Fptr)
 520:Generated_Source\PSoC4/SDCard_FS.c **** {
 1140              		.loc 1 520 0
 1141              		.cfi_startproc
 1142              		@ args = 0, pretend = 0, frame = 16
 1143              		@ frame_needed = 1, uses_anonymous_args = 0
 1144 0000 80B5     		push	{r7, lr}
 1145              		.cfi_def_cfa_offset 8
 1146              		.cfi_offset 7, -8
 1147              		.cfi_offset 14, -4
 1148 0002 84B0     		sub	sp, sp, #16
 1149              		.cfi_def_cfa_offset 24
 1150 0004 00AF     		add	r7, sp, #0
 1151              		.cfi_def_cfa_register 7
 1152 0006 0200     		movs	r2, r0
 1153 0008 FB1D     		adds	r3, r7, #7
 1154 000a 1A70     		strb	r2, [r3]
 521:Generated_Source\PSoC4/SDCard_FS.c ****    uint   offset;               // Temp offset of buffer index
 522:Generated_Source\PSoC4/SDCard_FS.c ****    uchar  Data = 0;             // Temp holder for data to return
 1155              		.loc 1 522 0
 1156 000c 0F23     		movs	r3, #15
 1157 000e FB18     		adds	r3, r7, r3
 1158 0010 0022     		movs	r2, #0
 1159 0012 1A70     		strb	r2, [r3]
 523:Generated_Source\PSoC4/SDCard_FS.c **** 
 524:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)            // Is the file pointer valid? If yes, continue. If no, do no
 1160              		.loc 1 524 0
 1161 0014 FB1D     		adds	r3, r7, #7
 1162 0016 1B78     		ldrb	r3, [r3]
 1163 0018 012B     		cmp	r3, #1
 1164 001a 00D9     		bls	.LCB932
 1165 001c 75E0     		b	.L57	@long jump
 1166              	.LCB932:
 525:Generated_Source\PSoC4/SDCard_FS.c ****    {
 526:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 527:Generated_Source\PSoC4/SDCard_FS.c ****       if((SDCard_CurFat[Fptr] != SDCard_FatEnd) && (SDCard_CurOffset[Fptr] <= SDCard_CurSize[Fptr])
 1167              		.loc 1 527 0
 1168 001e FB1D     		adds	r3, r7, #7
 1169 0020 1A78     		ldrb	r2, [r3]
 1170 0022 3D4B     		ldr	r3, .L63
 1171 0024 9200     		lsls	r2, r2, #2
 1172 0026 D258     		ldr	r2, [r2, r3]
 1173 0028 3C4B     		ldr	r3, .L63+4
 1174 002a 1B68     		ldr	r3, [r3]
 1175 002c 9A42     		cmp	r2, r3
 1176 002e 6CD0     		beq	.L57
 1177              		.loc 1 527 0 is_stmt 0 discriminator 1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 31


 1178 0030 FB1D     		adds	r3, r7, #7
 1179 0032 1A78     		ldrb	r2, [r3]
 1180 0034 3A4B     		ldr	r3, .L63+8
 1181 0036 9200     		lsls	r2, r2, #2
 1182 0038 D258     		ldr	r2, [r2, r3]
 1183 003a FB1D     		adds	r3, r7, #7
 1184 003c 1978     		ldrb	r1, [r3]
 1185 003e 394B     		ldr	r3, .L63+12
 1186 0040 8900     		lsls	r1, r1, #2
 1187 0042 CB58     		ldr	r3, [r1, r3]
 1188 0044 9A42     		cmp	r2, r3
 1189 0046 60D8     		bhi	.L57
 528:Generated_Source\PSoC4/SDCard_FS.c ****       {
 529:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_GetAddress(Fptr, 1);         // Calculate address
 1190              		.loc 1 529 0 is_stmt 1
 1191 0048 FB1D     		adds	r3, r7, #7
 1192 004a 1B78     		ldrb	r3, [r3]
 1193 004c 0121     		movs	r1, #1
 1194 004e 1800     		movs	r0, r3
 1195 0050 FFF7FEFF 		bl	SDCard_GetAddress
 530:Generated_Source\PSoC4/SDCard_FS.c **** #else
 531:Generated_Source\PSoC4/SDCard_FS.c ****       {
 532:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Address = SDCard_CurOffset[Fptr]+SDCard_MemoryStart;
 533:Generated_Source\PSoC4/SDCard_FS.c **** #endif      
 534:Generated_Source\PSoC4/SDCard_FS.c ****          // Is the buffer location different from the read location?
 535:Generated_Source\PSoC4/SDCard_FS.c ****          if( (SDCard_Address & 0xFFFFFE00)!= SDCard_BuffLoc )
 1196              		.loc 1 535 0
 1197 0054 344B     		ldr	r3, .L63+16
 1198 0056 1B68     		ldr	r3, [r3]
 1199 0058 5B0A     		lsrs	r3, r3, #9
 1200 005a 5A02     		lsls	r2, r3, #9
 1201 005c 334B     		ldr	r3, .L63+20
 1202 005e 1B68     		ldr	r3, [r3]
 1203 0060 9A42     		cmp	r2, r3
 1204 0062 16D0     		beq	.L58
 536:Generated_Source\PSoC4/SDCard_FS.c ****          {
 537:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 538:Generated_Source\PSoC4/SDCard_FS.c ****              // Yes, buffer needs to be changed
 539:Generated_Source\PSoC4/SDCard_FS.c ****              if((SDCard_DirtyFlag&0x01)==0x01)     // Is the data buffer dirty?
 1205              		.loc 1 539 0
 1206 0064 324B     		ldr	r3, .L63+24
 1207 0066 1B78     		ldrb	r3, [r3]
 1208 0068 1A00     		movs	r2, r3
 1209 006a 0123     		movs	r3, #1
 1210 006c 1340     		ands	r3, r2
 1211 006e 0BD0     		beq	.L59
 540:Generated_Source\PSoC4/SDCard_FS.c ****                  {
 541:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_WriteSect(SDCard_BuffLoc);    // Write the dirty data buffer back out
 1212              		.loc 1 541 0
 1213 0070 2E4B     		ldr	r3, .L63+20
 1214 0072 1B68     		ldr	r3, [r3]
 1215 0074 1800     		movs	r0, r3
 1216 0076 FFF7FEFF 		bl	SDCard_WriteSect
 542:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_DirtyFlag &= 0xEF;     // Clear dirty bit
 1217              		.loc 1 542 0
 1218 007a 2D4B     		ldr	r3, .L63+24
 1219 007c 1B78     		ldrb	r3, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 32


 1220 007e 1022     		movs	r2, #16
 1221 0080 9343     		bics	r3, r2
 1222 0082 DAB2     		uxtb	r2, r3
 1223 0084 2A4B     		ldr	r3, .L63+24
 1224 0086 1A70     		strb	r2, [r3]
 1225              	.L59:
 543:Generated_Source\PSoC4/SDCard_FS.c ****                  }
 544:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 545:Generated_Source\PSoC4/SDCard_FS.c ****               // Get the new read buffer to use
 546:Generated_Source\PSoC4/SDCard_FS.c ****               SDCard_ReadSect(SDCard_Address);	// Read new sector into the buffer
 1226              		.loc 1 546 0
 1227 0088 274B     		ldr	r3, .L63+16
 1228 008a 1B68     		ldr	r3, [r3]
 1229 008c 1800     		movs	r0, r3
 1230 008e FFF7FEFF 		bl	SDCard_ReadSect
 1231              	.L58:
 547:Generated_Source\PSoC4/SDCard_FS.c ****          }
 548:Generated_Source\PSoC4/SDCard_FS.c **** 
 549:Generated_Source\PSoC4/SDCard_FS.c ****          offset = (uint)(SDCard_CurOffset[Fptr]) & 0x01FF;
 1232              		.loc 1 549 0
 1233 0092 FB1D     		adds	r3, r7, #7
 1234 0094 1A78     		ldrb	r2, [r3]
 1235 0096 224B     		ldr	r3, .L63+8
 1236 0098 9200     		lsls	r2, r2, #2
 1237 009a D358     		ldr	r3, [r2, r3]
 1238 009c DB05     		lsls	r3, r3, #23
 1239 009e DB0D     		lsrs	r3, r3, #23
 1240 00a0 BB60     		str	r3, [r7, #8]
 550:Generated_Source\PSoC4/SDCard_FS.c ****          if(offset < 256)               // Get the data in the correct buffer
 1241              		.loc 1 550 0
 1242 00a2 BB68     		ldr	r3, [r7, #8]
 1243 00a4 FF2B     		cmp	r3, #255
 1244 00a6 08D8     		bhi	.L60
 551:Generated_Source\PSoC4/SDCard_FS.c ****              Data = SDCard_Buffer1[offset];
 1245              		.loc 1 551 0
 1246 00a8 224B     		ldr	r3, .L63+28
 1247 00aa 1A68     		ldr	r2, [r3]
 1248 00ac BB68     		ldr	r3, [r7, #8]
 1249 00ae D218     		adds	r2, r2, r3
 1250 00b0 0F23     		movs	r3, #15
 1251 00b2 FB18     		adds	r3, r7, r3
 1252 00b4 1278     		ldrb	r2, [r2]
 1253 00b6 1A70     		strb	r2, [r3]
 1254 00b8 09E0     		b	.L61
 1255              	.L60:
 552:Generated_Source\PSoC4/SDCard_FS.c ****          else
 553:Generated_Source\PSoC4/SDCard_FS.c ****              Data = SDCard_Buffer2[offset-256];			
 1256              		.loc 1 553 0
 1257 00ba 1F4B     		ldr	r3, .L63+32
 1258 00bc 1A68     		ldr	r2, [r3]
 1259 00be BB68     		ldr	r3, [r7, #8]
 1260 00c0 013B     		subs	r3, r3, #1
 1261 00c2 FF3B     		subs	r3, r3, #255
 1262 00c4 D218     		adds	r2, r2, r3
 1263 00c6 0F23     		movs	r3, #15
 1264 00c8 FB18     		adds	r3, r7, r3
 1265 00ca 1278     		ldrb	r2, [r2]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 33


 1266 00cc 1A70     		strb	r2, [r3]
 1267              	.L61:
 554:Generated_Source\PSoC4/SDCard_FS.c **** 
 555:Generated_Source\PSoC4/SDCard_FS.c ****          // Increase byte count by one
 556:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_IncOffset(Fptr, 0);            // Position the next entry (do not add FAT).
 1268              		.loc 1 556 0
 1269 00ce FB1D     		adds	r3, r7, #7
 1270 00d0 1B78     		ldrb	r3, [r3]
 1271 00d2 0021     		movs	r1, #0
 1272 00d4 1800     		movs	r0, r3
 1273 00d6 FFF7FEFF 		bl	SDCard_IncOffset
 557:Generated_Source\PSoC4/SDCard_FS.c **** 
 558:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 559:Generated_Source\PSoC4/SDCard_FS.c ****          // Check for the end of file
 560:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CurOffset[Fptr]==SDCard_CurSize[Fptr])
 1274              		.loc 1 560 0
 1275 00da FB1D     		adds	r3, r7, #7
 1276 00dc 1A78     		ldrb	r2, [r3]
 1277 00de 104B     		ldr	r3, .L63+8
 1278 00e0 9200     		lsls	r2, r2, #2
 1279 00e2 D258     		ldr	r2, [r2, r3]
 1280 00e4 FB1D     		adds	r3, r7, #7
 1281 00e6 1978     		ldrb	r1, [r3]
 1282 00e8 0E4B     		ldr	r3, .L63+12
 1283 00ea 8900     		lsls	r1, r1, #2
 1284 00ec CB58     		ldr	r3, [r1, r3]
 1285 00ee 9A42     		cmp	r2, r3
 1286 00f0 0BD1     		bne	.L57
 561:Generated_Source\PSoC4/SDCard_FS.c **** 	         SDCard_FileError[Fptr] |= SDCard_EOF;             // Set end of file flag if last charact
 1287              		.loc 1 561 0
 1288 00f2 FB1D     		adds	r3, r7, #7
 1289 00f4 1B78     		ldrb	r3, [r3]
 1290 00f6 FA1D     		adds	r2, r7, #7
 1291 00f8 1278     		ldrb	r2, [r2]
 1292 00fa 1049     		ldr	r1, .L63+36
 1293 00fc 8A5C     		ldrb	r2, [r1, r2]
 1294 00fe 8021     		movs	r1, #128
 1295 0100 4942     		rsbs	r1, r1, #0
 1296 0102 0A43     		orrs	r2, r1
 1297 0104 D1B2     		uxtb	r1, r2
 1298 0106 0D4A     		ldr	r2, .L63+36
 1299 0108 D154     		strb	r1, [r2, r3]
 1300              	.L57:
 562:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 563:Generated_Source\PSoC4/SDCard_FS.c ****       }
 564:Generated_Source\PSoC4/SDCard_FS.c ****    }
 565:Generated_Source\PSoC4/SDCard_FS.c ****    return(Data);
 1301              		.loc 1 565 0
 1302 010a 0F23     		movs	r3, #15
 1303 010c FB18     		adds	r3, r7, r3
 1304 010e 1B78     		ldrb	r3, [r3]
 566:Generated_Source\PSoC4/SDCard_FS.c **** }
 1305              		.loc 1 566 0
 1306 0110 1800     		movs	r0, r3
 1307 0112 BD46     		mov	sp, r7
 1308 0114 04B0     		add	sp, sp, #16
 1309              		@ sp needed
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 34


 1310 0116 80BD     		pop	{r7, pc}
 1311              	.L64:
 1312              		.align	2
 1313              	.L63:
 1314 0118 00000000 		.word	SDCard_CurFat
 1315 011c 00000000 		.word	SDCard_FatEnd
 1316 0120 00000000 		.word	SDCard_CurOffset
 1317 0124 00000000 		.word	SDCard_CurSize
 1318 0128 00000000 		.word	SDCard_Address
 1319 012c 00000000 		.word	SDCard_BuffLoc
 1320 0130 00000000 		.word	SDCard_DirtyFlag
 1321 0134 00000000 		.word	SDCard_Buffer1
 1322 0138 00000000 		.word	SDCard_Buffer2
 1323 013c 00000000 		.word	SDCard_FileError
 1324              		.cfi_endproc
 1325              	.LFE39:
 1326              		.size	SDCard_fbgetc, .-SDCard_fbgetc
 1327              		.section	.text.SDCard_fputc,"ax",%progbits
 1328              		.align	2
 1329              		.global	SDCard_fputc
 1330              		.code	16
 1331              		.thumb_func
 1332              		.type	SDCard_fputc, %function
 1333              	SDCard_fputc:
 1334              	.LFB40:
 567:Generated_Source\PSoC4/SDCard_FS.c **** 
 568:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 569:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fputc(uchar Data, uchar Fptr)
 570:Generated_Source\PSoC4/SDCard_FS.c **** //
 571:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 572:Generated_Source\PSoC4/SDCard_FS.c **** //   Writes a single byte to the file indicated by [Fptr]and uses the SDCard_CurOffset[Fptr] 
 573:Generated_Source\PSoC4/SDCard_FS.c **** //   for the actual byte position (SDCard_CurOffset[Fptr] is incremented after the write.)
 574:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set to write by the SDCard_FileOpen subroutine)
 575:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 576:Generated_Source\PSoC4/SDCard_FS.c **** //
 577:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 578:Generated_Source\PSoC4/SDCard_FS.c **** //
 579:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 580:Generated_Source\PSoC4/SDCard_FS.c **** //
 581:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 582:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the write status
 583:Generated_Source\PSoC4/SDCard_FS.c **** //
 584:Generated_Source\PSoC4/SDCard_FS.c **** //
 585:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 586:Generated_Source\PSoC4/SDCard_FS.c **** //
 587:Generated_Source\PSoC4/SDCard_FS.c **** //                 ***   Global variables required   ***     
 588:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 589:Generated_Source\PSoC4/SDCard_FS.c **** //   
 590:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting FAT entry for the file
 591:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Fptr]    - contains the size of the file
 592:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 593:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 594:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 595:Generated_Source\PSoC4/SDCard_FS.c **** //
 596:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 597:Generated_Source\PSoC4/SDCard_FS.c **** //
 598:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 35


 599:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 600:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 601:Generated_Source\PSoC4/SDCard_FS.c **** 
 602:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fputc(uchar Data, uchar Fptr)
 603:Generated_Source\PSoC4/SDCard_FS.c **** {
 1335              		.loc 1 603 0
 1336              		.cfi_startproc
 1337              		@ args = 0, pretend = 0, frame = 16
 1338              		@ frame_needed = 1, uses_anonymous_args = 0
 1339 0000 80B5     		push	{r7, lr}
 1340              		.cfi_def_cfa_offset 8
 1341              		.cfi_offset 7, -8
 1342              		.cfi_offset 14, -4
 1343 0002 84B0     		sub	sp, sp, #16
 1344              		.cfi_def_cfa_offset 24
 1345 0004 00AF     		add	r7, sp, #0
 1346              		.cfi_def_cfa_register 7
 1347 0006 0200     		movs	r2, r0
 1348 0008 FB1D     		adds	r3, r7, #7
 1349 000a 1A70     		strb	r2, [r3]
 1350 000c BB1D     		adds	r3, r7, #6
 1351 000e 0A1C     		adds	r2, r1, #0
 1352 0010 1A70     		strb	r2, [r3]
 604:Generated_Source\PSoC4/SDCard_FS.c ****    uint   offset;                  // Temp offset value
 605:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = SDCard_FAIL;          // Set status to fail (until cleared by sucess)
 1353              		.loc 1 605 0
 1354 0012 0F23     		movs	r3, #15
 1355 0014 FB18     		adds	r3, r7, r3
 1356 0016 AA22     		movs	r2, #170
 1357 0018 1A70     		strb	r2, [r3]
 606:Generated_Source\PSoC4/SDCard_FS.c **** 
 607:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
 608:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_WriteProtect()==0)        // If write protect is on skip writes, flag error   
 609:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 610:Generated_Source\PSoC4/SDCard_FS.c ****    {
 611:Generated_Source\PSoC4/SDCard_FS.c ****       if(Fptr == SDCard_MAXFILES)         // Is the file pointer valid? If yes, continue. If no, do
 1358              		.loc 1 611 0
 1359 001a BB1D     		adds	r3, r7, #6
 1360 001c 1B78     		ldrb	r3, [r3]
 1361 001e 022B     		cmp	r3, #2
 1362 0020 00D1     		bne	.LCB1113
 1363 0022 B5E0     		b	.L66	@long jump
 1364              	.LCB1113:
 612:Generated_Source\PSoC4/SDCard_FS.c ****       {
 613:Generated_Source\PSoC4/SDCard_FS.c ****          // Pointer invalid - Drop through and fail
 614:Generated_Source\PSoC4/SDCard_FS.c ****       }
 615:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 616:Generated_Source\PSoC4/SDCard_FS.c ****       else if((SDCard_FileMode[Fptr]&0x0F) == 1)   // Can the file be written to?
 1365              		.loc 1 616 0
 1366 0024 BB1D     		adds	r3, r7, #6
 1367 0026 1B78     		ldrb	r3, [r3]
 1368 0028 5D4A     		ldr	r2, .L76
 1369 002a D35C     		ldrb	r3, [r2, r3]
 1370 002c 1A00     		movs	r2, r3
 1371 002e 0F23     		movs	r3, #15
 1372 0030 1340     		ands	r3, r2
 1373 0032 012B     		cmp	r3, #1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 36


 1374 0034 00D1     		bne	.LCB1122
 1375 0036 ABE0     		b	.L66	@long jump
 1376              	.LCB1122:
 617:Generated_Source\PSoC4/SDCard_FS.c ****       {
 618:Generated_Source\PSoC4/SDCard_FS.c ****          // Read only file - Drop through and fail
 619:Generated_Source\PSoC4/SDCard_FS.c ****       }
 620:Generated_Source\PSoC4/SDCard_FS.c ****       else if( ((SDCard_CurFat[Fptr] == SDCard_FatEnd) || (SDCard_CurOffset[Fptr] > SDCard_CurSize[
 1377              		.loc 1 620 0
 1378 0038 BB1D     		adds	r3, r7, #6
 1379 003a 1A78     		ldrb	r2, [r3]
 1380 003c 594B     		ldr	r3, .L76+4
 1381 003e 9200     		lsls	r2, r2, #2
 1382 0040 D258     		ldr	r2, [r2, r3]
 1383 0042 594B     		ldr	r3, .L76+8
 1384 0044 1B68     		ldr	r3, [r3]
 1385 0046 9A42     		cmp	r2, r3
 1386 0048 0BD0     		beq	.L67
 1387              		.loc 1 620 0 is_stmt 0 discriminator 2
 1388 004a BB1D     		adds	r3, r7, #6
 1389 004c 1A78     		ldrb	r2, [r3]
 1390 004e 574B     		ldr	r3, .L76+12
 1391 0050 9200     		lsls	r2, r2, #2
 1392 0052 D258     		ldr	r2, [r2, r3]
 1393 0054 BB1D     		adds	r3, r7, #6
 1394 0056 1978     		ldrb	r1, [r3]
 1395 0058 554B     		ldr	r3, .L76+16
 1396 005a 8900     		lsls	r1, r1, #2
 1397 005c CB58     		ldr	r3, [r1, r3]
 1398 005e 9A42     		cmp	r2, r3
 1399 0060 08D9     		bls	.L68
 1400              	.L67:
 1401              		.loc 1 620 0 discriminator 3
 1402 0062 BB1D     		adds	r3, r7, #6
 1403 0064 1B78     		ldrb	r3, [r3]
 1404 0066 4E4A     		ldr	r2, .L76
 1405 0068 D35C     		ldrb	r3, [r2, r3]
 1406 006a 1A00     		movs	r2, r3
 1407 006c 0223     		movs	r3, #2
 1408 006e 1340     		ands	r3, r2
 1409 0070 00D1     		bne	.LCB1153
 1410 0072 8DE0     		b	.L66	@long jump
 1411              	.LCB1153:
 1412              	.L68:
 621:Generated_Source\PSoC4/SDCard_FS.c ****       {
 622:Generated_Source\PSoC4/SDCard_FS.c ****          // EOF and not in append mode - Drop through and fail
 623:Generated_Source\PSoC4/SDCard_FS.c ****       }
 624:Generated_Source\PSoC4/SDCard_FS.c ****       else if(SDCard_CurOffset[Fptr] > (SDCard_CurSize[Fptr] +1))    // Is offset beyond adding a s
 1413              		.loc 1 624 0 is_stmt 1
 1414 0074 BB1D     		adds	r3, r7, #6
 1415 0076 1A78     		ldrb	r2, [r3]
 1416 0078 4C4B     		ldr	r3, .L76+12
 1417 007a 9200     		lsls	r2, r2, #2
 1418 007c D258     		ldr	r2, [r2, r3]
 1419 007e BB1D     		adds	r3, r7, #6
 1420 0080 1978     		ldrb	r1, [r3]
 1421 0082 4B4B     		ldr	r3, .L76+16
 1422 0084 8900     		lsls	r1, r1, #2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 37


 1423 0086 CB58     		ldr	r3, [r1, r3]
 1424 0088 0133     		adds	r3, r3, #1
 1425 008a 9A42     		cmp	r2, r3
 1426 008c 00D9     		bls	.LCB1167
 1427 008e 7FE0     		b	.L66	@long jump
 1428              	.LCB1167:
 625:Generated_Source\PSoC4/SDCard_FS.c ****       {
 626:Generated_Source\PSoC4/SDCard_FS.c ****          // Offset invalid, even in append mode - Drop through and fail
 627:Generated_Source\PSoC4/SDCard_FS.c ****       }
 628:Generated_Source\PSoC4/SDCard_FS.c ****       else
 629:Generated_Source\PSoC4/SDCard_FS.c ****       {
 630:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CurStart[Fptr]==0)  // No assigned FAT entries for this file?
 1429              		.loc 1 630 0
 1430 0090 BB1D     		adds	r3, r7, #6
 1431 0092 1A78     		ldrb	r2, [r3]
 1432 0094 474B     		ldr	r3, .L76+20
 1433 0096 9200     		lsls	r2, r2, #2
 1434 0098 D358     		ldr	r3, [r2, r3]
 1435 009a 002B     		cmp	r3, #0
 1436 009c 04D1     		bne	.L69
 631:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_AddFat(Fptr);       // Yes, Add a FAT entry to the file
 1437              		.loc 1 631 0
 1438 009e BB1D     		adds	r3, r7, #6
 1439 00a0 1B78     		ldrb	r3, [r3]
 1440 00a2 1800     		movs	r0, r3
 1441 00a4 FFF7FEFF 		bl	SDCard_AddFat
 1442              	.L69:
 632:Generated_Source\PSoC4/SDCard_FS.c **** 
 633:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CurOffset[Fptr] == (SDCard_CurSize[Fptr]))    // Adding to the current file size
 1443              		.loc 1 633 0
 1444 00a8 BB1D     		adds	r3, r7, #6
 1445 00aa 1A78     		ldrb	r2, [r3]
 1446 00ac 3F4B     		ldr	r3, .L76+12
 1447 00ae 9200     		lsls	r2, r2, #2
 1448 00b0 D258     		ldr	r2, [r2, r3]
 1449 00b2 BB1D     		adds	r3, r7, #6
 1450 00b4 1978     		ldrb	r1, [r3]
 1451 00b6 3E4B     		ldr	r3, .L76+16
 1452 00b8 8900     		lsls	r1, r1, #2
 1453 00ba CB58     		ldr	r3, [r1, r3]
 1454 00bc 9A42     		cmp	r2, r3
 1455 00be 13D1     		bne	.L70
 634:Generated_Source\PSoC4/SDCard_FS.c ****          {
 635:Generated_Source\PSoC4/SDCard_FS.c ****             // Yes, increment file size and set dirty bit for directory
 636:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSize[Fptr]++;
 1456              		.loc 1 636 0
 1457 00c0 BB1D     		adds	r3, r7, #6
 1458 00c2 1B78     		ldrb	r3, [r3]
 1459 00c4 3A4A     		ldr	r2, .L76+16
 1460 00c6 9900     		lsls	r1, r3, #2
 1461 00c8 8A58     		ldr	r2, [r1, r2]
 1462 00ca 511C     		adds	r1, r2, #1
 1463 00cc 384A     		ldr	r2, .L76+16
 1464 00ce 9B00     		lsls	r3, r3, #2
 1465 00d0 9950     		str	r1, [r3, r2]
 637:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileMode[Fptr] |= 0x10;      // Set the dirty directory flag - Data modified
 1466              		.loc 1 637 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 38


 1467 00d2 BB1D     		adds	r3, r7, #6
 1468 00d4 1B78     		ldrb	r3, [r3]
 1469 00d6 BA1D     		adds	r2, r7, #6
 1470 00d8 1278     		ldrb	r2, [r2]
 1471 00da 3149     		ldr	r1, .L76
 1472 00dc 8A5C     		ldrb	r2, [r1, r2]
 1473 00de 1021     		movs	r1, #16
 1474 00e0 0A43     		orrs	r2, r1
 1475 00e2 D1B2     		uxtb	r1, r2
 1476 00e4 2E4A     		ldr	r2, .L76
 1477 00e6 D154     		strb	r1, [r2, r3]
 1478              	.L70:
 638:Generated_Source\PSoC4/SDCard_FS.c ****          }
 639:Generated_Source\PSoC4/SDCard_FS.c ****          // Address equals ((cluster in FAT - 2)* cluster size + sector offset) * sector size)+ rem
 640:Generated_Source\PSoC4/SDCard_FS.c ****          // Address = (DataStart + ((((CurFat[Fptr] - 2) * ClusterSize) + CurSect[Fptr] ) * 512 ));
 641:Generated_Source\PSoC4/SDCard_FS.c **** 
 642:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_GetAddress(Fptr, 0);         // Calculate sector address
 1479              		.loc 1 642 0
 1480 00e8 BB1D     		adds	r3, r7, #6
 1481 00ea 1B78     		ldrb	r3, [r3]
 1482 00ec 0021     		movs	r1, #0
 1483 00ee 1800     		movs	r0, r3
 1484 00f0 FFF7FEFF 		bl	SDCard_GetAddress
 643:Generated_Source\PSoC4/SDCard_FS.c ****       
 644:Generated_Source\PSoC4/SDCard_FS.c **** #else
 645:Generated_Source\PSoC4/SDCard_FS.c ****       else
 646:Generated_Source\PSoC4/SDCard_FS.c ****       {
 647:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Address = (SDCard_CurOffset[Fptr] & 0xFFFFFE00)+SDCard_MemoryStart;
 648:Generated_Source\PSoC4/SDCard_FS.c **** #endif      
 649:Generated_Source\PSoC4/SDCard_FS.c ****          // If the sector changes - update it, if it's dirty - flush it then update it.
 650:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_Address != SDCard_BuffLoc)
 1485              		.loc 1 650 0
 1486 00f4 304B     		ldr	r3, .L76+24
 1487 00f6 1A68     		ldr	r2, [r3]
 1488 00f8 304B     		ldr	r3, .L76+28
 1489 00fa 1B68     		ldr	r3, [r3]
 1490 00fc 9A42     		cmp	r2, r3
 1491 00fe 1AD0     		beq	.L71
 651:Generated_Source\PSoC4/SDCard_FS.c ****          { 
 652:Generated_Source\PSoC4/SDCard_FS.c ****             if((SDCard_DirtyFlag&0x01)==0x01)
 1492              		.loc 1 652 0
 1493 0100 2F4B     		ldr	r3, .L76+32
 1494 0102 1B78     		ldrb	r3, [r3]
 1495 0104 1A00     		movs	r2, r3
 1496 0106 0123     		movs	r3, #1
 1497 0108 1340     		ands	r3, r2
 1498 010a 0BD0     		beq	.L72
 653:Generated_Source\PSoC4/SDCard_FS.c ****             {
 654:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_WriteSect(SDCard_BuffLoc);      // Flush buffer if data is dirty
 1499              		.loc 1 654 0
 1500 010c 2B4B     		ldr	r3, .L76+28
 1501 010e 1B68     		ldr	r3, [r3]
 1502 0110 1800     		movs	r0, r3
 1503 0112 FFF7FEFF 		bl	SDCard_WriteSect
 655:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DirtyFlag &= 0xFE;       // Clear dirty flag for buffer
 1504              		.loc 1 655 0
 1505 0116 2A4B     		ldr	r3, .L76+32
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 39


 1506 0118 1B78     		ldrb	r3, [r3]
 1507 011a 0122     		movs	r2, #1
 1508 011c 9343     		bics	r3, r2
 1509 011e DAB2     		uxtb	r2, r3
 1510 0120 274B     		ldr	r3, .L76+32
 1511 0122 1A70     		strb	r2, [r3]
 1512              	.L72:
 656:Generated_Source\PSoC4/SDCard_FS.c ****             }
 657:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadSect(SDCard_Address);          // Read the new sector in
 1513              		.loc 1 657 0
 1514 0124 244B     		ldr	r3, .L76+24
 1515 0126 1B68     		ldr	r3, [r3]
 1516 0128 1800     		movs	r0, r3
 1517 012a FFF7FEFF 		bl	SDCard_ReadSect
 658:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_BuffLoc = SDCard_Address;          // Update the write location
 1518              		.loc 1 658 0
 1519 012e 224B     		ldr	r3, .L76+24
 1520 0130 1A68     		ldr	r2, [r3]
 1521 0132 224B     		ldr	r3, .L76+28
 1522 0134 1A60     		str	r2, [r3]
 1523              	.L71:
 659:Generated_Source\PSoC4/SDCard_FS.c ****          }
 660:Generated_Source\PSoC4/SDCard_FS.c **** 
 661:Generated_Source\PSoC4/SDCard_FS.c ****          offset = (uint)(SDCard_CurOffset[Fptr]) & 0x01FF;
 1524              		.loc 1 661 0
 1525 0136 BB1D     		adds	r3, r7, #6
 1526 0138 1A78     		ldrb	r2, [r3]
 1527 013a 1C4B     		ldr	r3, .L76+12
 1528 013c 9200     		lsls	r2, r2, #2
 1529 013e D358     		ldr	r3, [r2, r3]
 1530 0140 DB05     		lsls	r3, r3, #23
 1531 0142 DB0D     		lsrs	r3, r3, #23
 1532 0144 BB60     		str	r3, [r7, #8]
 662:Generated_Source\PSoC4/SDCard_FS.c ****          if(offset < 256)               // Save the data in the correct buffer
 1533              		.loc 1 662 0
 1534 0146 BB68     		ldr	r3, [r7, #8]
 1535 0148 FF2B     		cmp	r3, #255
 1536 014a 07D8     		bhi	.L73
 663:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Buffer1[offset] = Data;
 1537              		.loc 1 663 0
 1538 014c 1D4B     		ldr	r3, .L76+36
 1539 014e 1A68     		ldr	r2, [r3]
 1540 0150 BB68     		ldr	r3, [r7, #8]
 1541 0152 D318     		adds	r3, r2, r3
 1542 0154 FA1D     		adds	r2, r7, #7
 1543 0156 1278     		ldrb	r2, [r2]
 1544 0158 1A70     		strb	r2, [r3]
 1545 015a 08E0     		b	.L74
 1546              	.L73:
 664:Generated_Source\PSoC4/SDCard_FS.c ****          else
 665:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Buffer2[offset-256] = Data;         
 1547              		.loc 1 665 0
 1548 015c 1A4B     		ldr	r3, .L76+40
 1549 015e 1A68     		ldr	r2, [r3]
 1550 0160 BB68     		ldr	r3, [r7, #8]
 1551 0162 013B     		subs	r3, r3, #1
 1552 0164 FF3B     		subs	r3, r3, #255
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 40


 1553 0166 D318     		adds	r3, r2, r3
 1554 0168 FA1D     		adds	r2, r7, #7
 1555 016a 1278     		ldrb	r2, [r2]
 1556 016c 1A70     		strb	r2, [r3]
 1557              	.L74:
 666:Generated_Source\PSoC4/SDCard_FS.c ****          
 667:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_DirtyFlag |= 0x01;             // Set the dirty data flag - Data modified
 1558              		.loc 1 667 0
 1559 016e 144B     		ldr	r3, .L76+32
 1560 0170 1B78     		ldrb	r3, [r3]
 1561 0172 0122     		movs	r2, #1
 1562 0174 1343     		orrs	r3, r2
 1563 0176 DAB2     		uxtb	r2, r3
 1564 0178 114B     		ldr	r3, .L76+32
 1565 017a 1A70     		strb	r2, [r3]
 668:Generated_Source\PSoC4/SDCard_FS.c **** 
 669:Generated_Source\PSoC4/SDCard_FS.c ****          // Increase byte count by one
 670:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_IncOffset(Fptr, 1);            // Position the next entry and add fat if needed
 1566              		.loc 1 670 0
 1567 017c BB1D     		adds	r3, r7, #6
 1568 017e 1B78     		ldrb	r3, [r3]
 1569 0180 0121     		movs	r1, #1
 1570 0182 1800     		movs	r0, r3
 1571 0184 FFF7FEFF 		bl	SDCard_IncOffset
 671:Generated_Source\PSoC4/SDCard_FS.c **** 
 672:Generated_Source\PSoC4/SDCard_FS.c ****          // Set the status bit for success
 673:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_PASS;
 1572              		.loc 1 673 0
 1573 0188 0F23     		movs	r3, #15
 1574 018a FB18     		adds	r3, r7, r3
 1575 018c 0022     		movs	r2, #0
 1576 018e 1A70     		strb	r2, [r3]
 1577              	.L66:
 674:Generated_Source\PSoC4/SDCard_FS.c ****       }
 675:Generated_Source\PSoC4/SDCard_FS.c **** 
 676:Generated_Source\PSoC4/SDCard_FS.c ****    }
 677:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
 678:Generated_Source\PSoC4/SDCard_FS.c ****    else
 679:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                     // Write protect on - set fail
 680:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 681:Generated_Source\PSoC4/SDCard_FS.c ****    
 682:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 1578              		.loc 1 682 0
 1579 0190 0F23     		movs	r3, #15
 1580 0192 FB18     		adds	r3, r7, r3
 1581 0194 1B78     		ldrb	r3, [r3]
 683:Generated_Source\PSoC4/SDCard_FS.c **** }
 1582              		.loc 1 683 0
 1583 0196 1800     		movs	r0, r3
 1584 0198 BD46     		mov	sp, r7
 1585 019a 04B0     		add	sp, sp, #16
 1586              		@ sp needed
 1587 019c 80BD     		pop	{r7, pc}
 1588              	.L77:
 1589 019e C046     		.align	2
 1590              	.L76:
 1591 01a0 00000000 		.word	SDCard_FileMode
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 41


 1592 01a4 00000000 		.word	SDCard_CurFat
 1593 01a8 00000000 		.word	SDCard_FatEnd
 1594 01ac 00000000 		.word	SDCard_CurOffset
 1595 01b0 00000000 		.word	SDCard_CurSize
 1596 01b4 00000000 		.word	SDCard_CurStart
 1597 01b8 00000000 		.word	SDCard_Address
 1598 01bc 00000000 		.word	SDCard_BuffLoc
 1599 01c0 00000000 		.word	SDCard_DirtyFlag
 1600 01c4 00000000 		.word	SDCard_Buffer1
 1601 01c8 00000000 		.word	SDCard_Buffer2
 1602              		.cfi_endproc
 1603              	.LFE40:
 1604              		.size	SDCard_fputc, .-SDCard_fputc
 1605              		.section	.text.SDCard_fputs,"ax",%progbits
 1606              		.align	2
 1607              		.global	SDCard_fputs
 1608              		.code	16
 1609              		.thumb_func
 1610              		.type	SDCard_fputs, %function
 1611              	SDCard_fputs:
 1612              	.LFB41:
 684:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 685:Generated_Source\PSoC4/SDCard_FS.c **** 
 686:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 687:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fputs(char *str, uchar Fptr)
 688:Generated_Source\PSoC4/SDCard_FS.c **** //
 689:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 690:Generated_Source\PSoC4/SDCard_FS.c **** //   Writes a null terminated string to the file pointed to by Fptr.
 691:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set to write by the SDCard_FileOpen subroutine)
 692:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 693:Generated_Source\PSoC4/SDCard_FS.c **** //
 694:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 695:Generated_Source\PSoC4/SDCard_FS.c **** //
 696:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 697:Generated_Source\PSoC4/SDCard_FS.c **** //
 698:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 699:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the write status
 700:Generated_Source\PSoC4/SDCard_FS.c **** //
 701:Generated_Source\PSoC4/SDCard_FS.c **** //
 702:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 703:Generated_Source\PSoC4/SDCard_FS.c **** //
 704:Generated_Source\PSoC4/SDCard_FS.c **** //                 ***   Global variables required   ***     
 705:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 706:Generated_Source\PSoC4/SDCard_FS.c **** //   
 707:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting FAT entry for the file
 708:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Fptr]    - contains the size of the file
 709:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 710:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 711:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 712:Generated_Source\PSoC4/SDCard_FS.c **** //
 713:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 714:Generated_Source\PSoC4/SDCard_FS.c **** //
 715:Generated_Source\PSoC4/SDCard_FS.c **** //
 716:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 717:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 718:Generated_Source\PSoC4/SDCard_FS.c **** 
 719:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fputs(char *str, uchar Fptr)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 42


 720:Generated_Source\PSoC4/SDCard_FS.c **** {
 1613              		.loc 1 720 0
 1614              		.cfi_startproc
 1615              		@ args = 0, pretend = 0, frame = 16
 1616              		@ frame_needed = 1, uses_anonymous_args = 0
 1617 0000 90B5     		push	{r4, r7, lr}
 1618              		.cfi_def_cfa_offset 12
 1619              		.cfi_offset 4, -12
 1620              		.cfi_offset 7, -8
 1621              		.cfi_offset 14, -4
 1622 0002 85B0     		sub	sp, sp, #20
 1623              		.cfi_def_cfa_offset 32
 1624 0004 00AF     		add	r7, sp, #0
 1625              		.cfi_def_cfa_register 7
 1626 0006 7860     		str	r0, [r7, #4]
 1627 0008 0A00     		movs	r2, r1
 1628 000a FB1C     		adds	r3, r7, #3
 1629 000c 1A70     		strb	r2, [r3]
 721:Generated_Source\PSoC4/SDCard_FS.c **** 
 722:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = SDCard_FAIL;                 // Set status to fail (until cleared by success)
 1630              		.loc 1 722 0
 1631 000e 0F23     		movs	r3, #15
 1632 0010 FB18     		adds	r3, r7, r3
 1633 0012 AA22     		movs	r2, #170
 1634 0014 1A70     		strb	r2, [r3]
 723:Generated_Source\PSoC4/SDCard_FS.c **** 
 724:Generated_Source\PSoC4/SDCard_FS.c ****    while(*str != 0) {
 1635              		.loc 1 724 0
 1636 0016 13E0     		b	.L79
 1637              	.L81:
 725:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*str, Fptr);
 1638              		.loc 1 725 0
 1639 0018 7B68     		ldr	r3, [r7, #4]
 1640 001a 1A78     		ldrb	r2, [r3]
 1641 001c 0F23     		movs	r3, #15
 1642 001e FC18     		adds	r4, r7, r3
 1643 0020 FB1C     		adds	r3, r7, #3
 1644 0022 1B78     		ldrb	r3, [r3]
 1645 0024 1900     		movs	r1, r3
 1646 0026 1000     		movs	r0, r2
 1647 0028 FFF7FEFF 		bl	SDCard_fputc
 1648 002c 0300     		movs	r3, r0
 1649 002e 2370     		strb	r3, [r4]
 726:Generated_Source\PSoC4/SDCard_FS.c ****       str++;
 1650              		.loc 1 726 0
 1651 0030 7B68     		ldr	r3, [r7, #4]
 1652 0032 0133     		adds	r3, r3, #1
 1653 0034 7B60     		str	r3, [r7, #4]
 727:Generated_Source\PSoC4/SDCard_FS.c ****       if(status == SDCard_FAIL)
 1654              		.loc 1 727 0
 1655 0036 0F23     		movs	r3, #15
 1656 0038 FB18     		adds	r3, r7, r3
 1657 003a 1B78     		ldrb	r3, [r3]
 1658 003c AA2B     		cmp	r3, #170
 1659 003e 04D0     		beq	.L83
 1660              	.L79:
 724:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*str, Fptr);
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 43


 1661              		.loc 1 724 0
 1662 0040 7B68     		ldr	r3, [r7, #4]
 1663 0042 1B78     		ldrb	r3, [r3]
 1664 0044 002B     		cmp	r3, #0
 1665 0046 E7D1     		bne	.L81
 1666 0048 00E0     		b	.L80
 1667              	.L83:
 728:Generated_Source\PSoC4/SDCard_FS.c ****          break;
 1668              		.loc 1 728 0
 1669 004a C046     		nop
 1670              	.L80:
 729:Generated_Source\PSoC4/SDCard_FS.c ****    }
 730:Generated_Source\PSoC4/SDCard_FS.c ****    
 731:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 1671              		.loc 1 731 0
 1672 004c 0F23     		movs	r3, #15
 1673 004e FB18     		adds	r3, r7, r3
 1674 0050 1B78     		ldrb	r3, [r3]
 732:Generated_Source\PSoC4/SDCard_FS.c **** }
 1675              		.loc 1 732 0
 1676 0052 1800     		movs	r0, r3
 1677 0054 BD46     		mov	sp, r7
 1678 0056 05B0     		add	sp, sp, #20
 1679              		@ sp needed
 1680 0058 90BD     		pop	{r4, r7, pc}
 1681              		.cfi_endproc
 1682              	.LFE41:
 1683              		.size	SDCard_fputs, .-SDCard_fputs
 1684 005a C046     		.section	.text.SDCard_fputcs,"ax",%progbits
 1685              		.align	2
 1686              		.global	SDCard_fputcs
 1687              		.code	16
 1688              		.thumb_func
 1689              		.type	SDCard_fputcs, %function
 1690              	SDCard_fputcs:
 1691              	.LFB42:
 733:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 734:Generated_Source\PSoC4/SDCard_FS.c **** 
 735:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 736:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fputcs(const char *str, uchar Fptr)
 737:Generated_Source\PSoC4/SDCard_FS.c **** //
 738:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 739:Generated_Source\PSoC4/SDCard_FS.c **** //   Writes a null terminated const string to the file pointed to by Fptr.
 740:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set to write by the SDCard_FileOpen subroutine)
 741:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 742:Generated_Source\PSoC4/SDCard_FS.c **** //
 743:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 744:Generated_Source\PSoC4/SDCard_FS.c **** //
 745:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 746:Generated_Source\PSoC4/SDCard_FS.c **** //
 747:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 748:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the write status
 749:Generated_Source\PSoC4/SDCard_FS.c **** //
 750:Generated_Source\PSoC4/SDCard_FS.c **** //
 751:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 752:Generated_Source\PSoC4/SDCard_FS.c **** //
 753:Generated_Source\PSoC4/SDCard_FS.c **** //                 ***   Global variables required   ***     
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 44


 754:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 755:Generated_Source\PSoC4/SDCard_FS.c **** //   
 756:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting FAT entry for the file
 757:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Fptr]    - contains the size of the file
 758:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 759:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 760:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 761:Generated_Source\PSoC4/SDCard_FS.c **** //
 762:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 763:Generated_Source\PSoC4/SDCard_FS.c **** //
 764:Generated_Source\PSoC4/SDCard_FS.c **** //
 765:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 766:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 767:Generated_Source\PSoC4/SDCard_FS.c **** 
 768:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fputcs(const char *str, uchar Fptr)
 769:Generated_Source\PSoC4/SDCard_FS.c **** {
 1692              		.loc 1 769 0
 1693              		.cfi_startproc
 1694              		@ args = 0, pretend = 0, frame = 16
 1695              		@ frame_needed = 1, uses_anonymous_args = 0
 1696 0000 90B5     		push	{r4, r7, lr}
 1697              		.cfi_def_cfa_offset 12
 1698              		.cfi_offset 4, -12
 1699              		.cfi_offset 7, -8
 1700              		.cfi_offset 14, -4
 1701 0002 85B0     		sub	sp, sp, #20
 1702              		.cfi_def_cfa_offset 32
 1703 0004 00AF     		add	r7, sp, #0
 1704              		.cfi_def_cfa_register 7
 1705 0006 7860     		str	r0, [r7, #4]
 1706 0008 0A00     		movs	r2, r1
 1707 000a FB1C     		adds	r3, r7, #3
 1708 000c 1A70     		strb	r2, [r3]
 770:Generated_Source\PSoC4/SDCard_FS.c **** 
 771:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = SDCard_FAIL;                  // Set status to fail (until cleared by sucess)
 1709              		.loc 1 771 0
 1710 000e 0F23     		movs	r3, #15
 1711 0010 FB18     		adds	r3, r7, r3
 1712 0012 AA22     		movs	r2, #170
 1713 0014 1A70     		strb	r2, [r3]
 772:Generated_Source\PSoC4/SDCard_FS.c **** 
 773:Generated_Source\PSoC4/SDCard_FS.c ****    while(*str != 0) {
 1714              		.loc 1 773 0
 1715 0016 13E0     		b	.L85
 1716              	.L87:
 774:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*str, Fptr);
 1717              		.loc 1 774 0
 1718 0018 7B68     		ldr	r3, [r7, #4]
 1719 001a 1A78     		ldrb	r2, [r3]
 1720 001c 0F23     		movs	r3, #15
 1721 001e FC18     		adds	r4, r7, r3
 1722 0020 FB1C     		adds	r3, r7, #3
 1723 0022 1B78     		ldrb	r3, [r3]
 1724 0024 1900     		movs	r1, r3
 1725 0026 1000     		movs	r0, r2
 1726 0028 FFF7FEFF 		bl	SDCard_fputc
 1727 002c 0300     		movs	r3, r0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 45


 1728 002e 2370     		strb	r3, [r4]
 775:Generated_Source\PSoC4/SDCard_FS.c ****       str++;
 1729              		.loc 1 775 0
 1730 0030 7B68     		ldr	r3, [r7, #4]
 1731 0032 0133     		adds	r3, r3, #1
 1732 0034 7B60     		str	r3, [r7, #4]
 776:Generated_Source\PSoC4/SDCard_FS.c ****       if(status == SDCard_FAIL)
 1733              		.loc 1 776 0
 1734 0036 0F23     		movs	r3, #15
 1735 0038 FB18     		adds	r3, r7, r3
 1736 003a 1B78     		ldrb	r3, [r3]
 1737 003c AA2B     		cmp	r3, #170
 1738 003e 04D0     		beq	.L89
 1739              	.L85:
 773:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*str, Fptr);
 1740              		.loc 1 773 0
 1741 0040 7B68     		ldr	r3, [r7, #4]
 1742 0042 1B78     		ldrb	r3, [r3]
 1743 0044 002B     		cmp	r3, #0
 1744 0046 E7D1     		bne	.L87
 1745 0048 00E0     		b	.L86
 1746              	.L89:
 777:Generated_Source\PSoC4/SDCard_FS.c ****          break;
 1747              		.loc 1 777 0
 1748 004a C046     		nop
 1749              	.L86:
 778:Generated_Source\PSoC4/SDCard_FS.c ****    }
 779:Generated_Source\PSoC4/SDCard_FS.c ****    
 780:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 1750              		.loc 1 780 0
 1751 004c 0F23     		movs	r3, #15
 1752 004e FB18     		adds	r3, r7, r3
 1753 0050 1B78     		ldrb	r3, [r3]
 781:Generated_Source\PSoC4/SDCard_FS.c **** }
 1754              		.loc 1 781 0
 1755 0052 1800     		movs	r0, r3
 1756 0054 BD46     		mov	sp, r7
 1757 0056 05B0     		add	sp, sp, #20
 1758              		@ sp needed
 1759 0058 90BD     		pop	{r4, r7, pc}
 1760              		.cfi_endproc
 1761              	.LFE42:
 1762              		.size	SDCard_fputcs, .-SDCard_fputcs
 1763 005a C046     		.section	.text.SDCard_fputBuff,"ax",%progbits
 1764              		.align	2
 1765              		.global	SDCard_fputBuff
 1766              		.code	16
 1767              		.thumb_func
 1768              		.type	SDCard_fputBuff, %function
 1769              	SDCard_fputBuff:
 1770              	.LFB43:
 782:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 783:Generated_Source\PSoC4/SDCard_FS.c **** 
 784:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 785:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fputBuff(uchar *buff, uint count, uchar Fptr)
 786:Generated_Source\PSoC4/SDCard_FS.c **** //
 787:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 46


 788:Generated_Source\PSoC4/SDCard_FS.c **** //   Writes a null terminated string to the file pointed to by Fptr.
 789:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set to write by the SDCard_FileOpen subroutine)
 790:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 791:Generated_Source\PSoC4/SDCard_FS.c **** //
 792:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 793:Generated_Source\PSoC4/SDCard_FS.c **** //
 794:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 795:Generated_Source\PSoC4/SDCard_FS.c **** //
 796:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 797:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the write status
 798:Generated_Source\PSoC4/SDCard_FS.c **** //
 799:Generated_Source\PSoC4/SDCard_FS.c **** //
 800:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 801:Generated_Source\PSoC4/SDCard_FS.c **** //
 802:Generated_Source\PSoC4/SDCard_FS.c **** //                 ***   Global variables required   ***     
 803:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 804:Generated_Source\PSoC4/SDCard_FS.c **** //   
 805:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting FAT entry for the file
 806:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Fptr]    - contains the size of the file
 807:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 808:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 809:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 810:Generated_Source\PSoC4/SDCard_FS.c **** //
 811:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 812:Generated_Source\PSoC4/SDCard_FS.c **** //
 813:Generated_Source\PSoC4/SDCard_FS.c **** //
 814:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 815:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 816:Generated_Source\PSoC4/SDCard_FS.c **** 
 817:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fputBuff(uchar *buff, uint count, uchar Fptr)
 818:Generated_Source\PSoC4/SDCard_FS.c **** {
 1771              		.loc 1 818 0
 1772              		.cfi_startproc
 1773              		@ args = 0, pretend = 0, frame = 24
 1774              		@ frame_needed = 1, uses_anonymous_args = 0
 1775 0000 90B5     		push	{r4, r7, lr}
 1776              		.cfi_def_cfa_offset 12
 1777              		.cfi_offset 4, -12
 1778              		.cfi_offset 7, -8
 1779              		.cfi_offset 14, -4
 1780 0002 87B0     		sub	sp, sp, #28
 1781              		.cfi_def_cfa_offset 40
 1782 0004 00AF     		add	r7, sp, #0
 1783              		.cfi_def_cfa_register 7
 1784 0006 F860     		str	r0, [r7, #12]
 1785 0008 B960     		str	r1, [r7, #8]
 1786 000a FB1D     		adds	r3, r7, #7
 1787 000c 1A70     		strb	r2, [r3]
 819:Generated_Source\PSoC4/SDCard_FS.c **** 
 820:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status  = SDCard_FAIL;                      // Set status to fail (until cleared by suce
 1788              		.loc 1 820 0
 1789 000e 1723     		movs	r3, #23
 1790 0010 FB18     		adds	r3, r7, r3
 1791 0012 AA22     		movs	r2, #170
 1792 0014 1A70     		strb	r2, [r3]
 821:Generated_Source\PSoC4/SDCard_FS.c **** 
 822:Generated_Source\PSoC4/SDCard_FS.c ****    for( ;count > 0; count--) {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 47


 1793              		.loc 1 822 0
 1794 0016 16E0     		b	.L91
 1795              	.L94:
 823:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1796              		.loc 1 823 0
 1797 0018 FB68     		ldr	r3, [r7, #12]
 1798 001a 1A78     		ldrb	r2, [r3]
 1799 001c 1723     		movs	r3, #23
 1800 001e FC18     		adds	r4, r7, r3
 1801 0020 FB1D     		adds	r3, r7, #7
 1802 0022 1B78     		ldrb	r3, [r3]
 1803 0024 1900     		movs	r1, r3
 1804 0026 1000     		movs	r0, r2
 1805 0028 FFF7FEFF 		bl	SDCard_fputc
 1806 002c 0300     		movs	r3, r0
 1807 002e 2370     		strb	r3, [r4]
 824:Generated_Source\PSoC4/SDCard_FS.c ****       buff++;
 1808              		.loc 1 824 0
 1809 0030 FB68     		ldr	r3, [r7, #12]
 1810 0032 0133     		adds	r3, r3, #1
 1811 0034 FB60     		str	r3, [r7, #12]
 825:Generated_Source\PSoC4/SDCard_FS.c ****       if(status == SDCard_FAIL)
 1812              		.loc 1 825 0
 1813 0036 1723     		movs	r3, #23
 1814 0038 FB18     		adds	r3, r7, r3
 1815 003a 1B78     		ldrb	r3, [r3]
 1816 003c AA2B     		cmp	r3, #170
 1817 003e 06D0     		beq	.L96
 822:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1818              		.loc 1 822 0
 1819 0040 BB68     		ldr	r3, [r7, #8]
 1820 0042 013B     		subs	r3, r3, #1
 1821 0044 BB60     		str	r3, [r7, #8]
 1822              	.L91:
 822:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1823              		.loc 1 822 0 is_stmt 0 discriminator 1
 1824 0046 BB68     		ldr	r3, [r7, #8]
 1825 0048 002B     		cmp	r3, #0
 1826 004a E5D1     		bne	.L94
 1827 004c 00E0     		b	.L93
 1828              	.L96:
 826:Generated_Source\PSoC4/SDCard_FS.c ****          break;
 1829              		.loc 1 826 0 is_stmt 1
 1830 004e C046     		nop
 1831              	.L93:
 827:Generated_Source\PSoC4/SDCard_FS.c ****    }
 828:Generated_Source\PSoC4/SDCard_FS.c ****    
 829:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 1832              		.loc 1 829 0
 1833 0050 1723     		movs	r3, #23
 1834 0052 FB18     		adds	r3, r7, r3
 1835 0054 1B78     		ldrb	r3, [r3]
 830:Generated_Source\PSoC4/SDCard_FS.c **** }
 1836              		.loc 1 830 0
 1837 0056 1800     		movs	r0, r3
 1838 0058 BD46     		mov	sp, r7
 1839 005a 07B0     		add	sp, sp, #28
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 48


 1840              		@ sp needed
 1841 005c 90BD     		pop	{r4, r7, pc}
 1842              		.cfi_endproc
 1843              	.LFE43:
 1844              		.size	SDCard_fputBuff, .-SDCard_fputBuff
 1845 005e C046     		.section	.text.SDCard_fputcBuff,"ax",%progbits
 1846              		.align	2
 1847              		.global	SDCard_fputcBuff
 1848              		.code	16
 1849              		.thumb_func
 1850              		.type	SDCard_fputcBuff, %function
 1851              	SDCard_fputcBuff:
 1852              	.LFB44:
 831:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 832:Generated_Source\PSoC4/SDCard_FS.c **** 
 833:Generated_Source\PSoC4/SDCard_FS.c **** 
 834:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 835:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fputcBuff(const uchar *buff, uint count, uchar Fptr)
 836:Generated_Source\PSoC4/SDCard_FS.c **** //
 837:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 838:Generated_Source\PSoC4/SDCard_FS.c **** //   Writes a null terminated string to the file pointed to by Fptr.
 839:Generated_Source\PSoC4/SDCard_FS.c **** //   (Must have an file pointer previously set to write by the SDCard_FileOpen subroutine)
 840:Generated_Source\PSoC4/SDCard_FS.c **** //   (If ENABLE_FILESYSTEM is undefined only the Fptr and CurOffset are used.)
 841:Generated_Source\PSoC4/SDCard_FS.c **** //
 842:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 843:Generated_Source\PSoC4/SDCard_FS.c **** //
 844:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 845:Generated_Source\PSoC4/SDCard_FS.c **** //
 846:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 847:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the write status
 848:Generated_Source\PSoC4/SDCard_FS.c **** //
 849:Generated_Source\PSoC4/SDCard_FS.c **** //
 850:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 851:Generated_Source\PSoC4/SDCard_FS.c **** //
 852:Generated_Source\PSoC4/SDCard_FS.c **** //                 ***   Global variables required   ***     
 853:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
 854:Generated_Source\PSoC4/SDCard_FS.c **** //   
 855:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Fptr]     - contains the starting FAT entry for the file
 856:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Fptr]    - contains the size of the file
 857:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Fptr]  - contains the current offset
 858:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Fptr]    - contains the current sector in use of a cluster
 859:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr             - pointer for which file to use, or index if no file system
 860:Generated_Source\PSoC4/SDCard_FS.c **** //
 861:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 862:Generated_Source\PSoC4/SDCard_FS.c **** //
 863:Generated_Source\PSoC4/SDCard_FS.c **** //
 864:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 865:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 866:Generated_Source\PSoC4/SDCard_FS.c **** 
 867:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fputcBuff(const uchar *buff, uint count, uchar Fptr)
 868:Generated_Source\PSoC4/SDCard_FS.c **** {
 1853              		.loc 1 868 0
 1854              		.cfi_startproc
 1855              		@ args = 0, pretend = 0, frame = 24
 1856              		@ frame_needed = 1, uses_anonymous_args = 0
 1857 0000 90B5     		push	{r4, r7, lr}
 1858              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 49


 1859              		.cfi_offset 4, -12
 1860              		.cfi_offset 7, -8
 1861              		.cfi_offset 14, -4
 1862 0002 87B0     		sub	sp, sp, #28
 1863              		.cfi_def_cfa_offset 40
 1864 0004 00AF     		add	r7, sp, #0
 1865              		.cfi_def_cfa_register 7
 1866 0006 F860     		str	r0, [r7, #12]
 1867 0008 B960     		str	r1, [r7, #8]
 1868 000a FB1D     		adds	r3, r7, #7
 1869 000c 1A70     		strb	r2, [r3]
 869:Generated_Source\PSoC4/SDCard_FS.c **** 
 870:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status  = SDCard_FAIL;                   // Set status to fail (until cleared by sucess)
 1870              		.loc 1 870 0
 1871 000e 1723     		movs	r3, #23
 1872 0010 FB18     		adds	r3, r7, r3
 1873 0012 AA22     		movs	r2, #170
 1874 0014 1A70     		strb	r2, [r3]
 871:Generated_Source\PSoC4/SDCard_FS.c **** 
 872:Generated_Source\PSoC4/SDCard_FS.c ****    for( ;count > 0; count--) {
 1875              		.loc 1 872 0
 1876 0016 16E0     		b	.L98
 1877              	.L101:
 873:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1878              		.loc 1 873 0
 1879 0018 FB68     		ldr	r3, [r7, #12]
 1880 001a 1A78     		ldrb	r2, [r3]
 1881 001c 1723     		movs	r3, #23
 1882 001e FC18     		adds	r4, r7, r3
 1883 0020 FB1D     		adds	r3, r7, #7
 1884 0022 1B78     		ldrb	r3, [r3]
 1885 0024 1900     		movs	r1, r3
 1886 0026 1000     		movs	r0, r2
 1887 0028 FFF7FEFF 		bl	SDCard_fputc
 1888 002c 0300     		movs	r3, r0
 1889 002e 2370     		strb	r3, [r4]
 874:Generated_Source\PSoC4/SDCard_FS.c ****       buff++;
 1890              		.loc 1 874 0
 1891 0030 FB68     		ldr	r3, [r7, #12]
 1892 0032 0133     		adds	r3, r3, #1
 1893 0034 FB60     		str	r3, [r7, #12]
 875:Generated_Source\PSoC4/SDCard_FS.c ****       if(status == SDCard_FAIL)
 1894              		.loc 1 875 0
 1895 0036 1723     		movs	r3, #23
 1896 0038 FB18     		adds	r3, r7, r3
 1897 003a 1B78     		ldrb	r3, [r3]
 1898 003c AA2B     		cmp	r3, #170
 1899 003e 06D0     		beq	.L103
 872:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1900              		.loc 1 872 0
 1901 0040 BB68     		ldr	r3, [r7, #8]
 1902 0042 013B     		subs	r3, r3, #1
 1903 0044 BB60     		str	r3, [r7, #8]
 1904              	.L98:
 872:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fputc(*buff, Fptr);
 1905              		.loc 1 872 0 is_stmt 0 discriminator 1
 1906 0046 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 50


 1907 0048 002B     		cmp	r3, #0
 1908 004a E5D1     		bne	.L101
 1909 004c 00E0     		b	.L100
 1910              	.L103:
 876:Generated_Source\PSoC4/SDCard_FS.c ****          break;
 1911              		.loc 1 876 0 is_stmt 1
 1912 004e C046     		nop
 1913              	.L100:
 877:Generated_Source\PSoC4/SDCard_FS.c ****    }
 878:Generated_Source\PSoC4/SDCard_FS.c ****    
 879:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 1914              		.loc 1 879 0
 1915 0050 1723     		movs	r3, #23
 1916 0052 FB18     		adds	r3, r7, r3
 1917 0054 1B78     		ldrb	r3, [r3]
 880:Generated_Source\PSoC4/SDCard_FS.c **** }
 1918              		.loc 1 880 0
 1919 0056 1800     		movs	r0, r3
 1920 0058 BD46     		mov	sp, r7
 1921 005a 07B0     		add	sp, sp, #28
 1922              		@ sp needed
 1923 005c 90BD     		pop	{r4, r7, pc}
 1924              		.cfi_endproc
 1925              	.LFE44:
 1926              		.size	SDCard_fputcBuff, .-SDCard_fputcBuff
 1927 005e C046     		.section	.text.SDCard_fflush,"ax",%progbits
 1928              		.align	2
 1929              		.global	SDCard_fflush
 1930              		.code	16
 1931              		.thumb_func
 1932              		.type	SDCard_fflush, %function
 1933              	SDCard_fflush:
 1934              	.LFB45:
 881:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 882:Generated_Source\PSoC4/SDCard_FS.c **** 
 883:Generated_Source\PSoC4/SDCard_FS.c **** 
 884:Generated_Source\PSoC4/SDCard_FS.c **** 
 885:Generated_Source\PSoC4/SDCard_FS.c **** 
 886:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 887:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_fflush(uchar Fptr)
 888:Generated_Source\PSoC4/SDCard_FS.c **** //
 889:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 890:Generated_Source\PSoC4/SDCard_FS.c **** //    Writes buffers to a file and updates directory info if needed
 891:Generated_Source\PSoC4/SDCard_FS.c **** //
 892:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 893:Generated_Source\PSoC4/SDCard_FS.c **** //
 894:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 895:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => Pointer to the file.
 896:Generated_Source\PSoC4/SDCard_FS.c **** //
 897:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:  NA
 898:Generated_Source\PSoC4/SDCard_FS.c **** //
 899:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 900:Generated_Source\PSoC4/SDCard_FS.c **** //
 901:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 902:Generated_Source\PSoC4/SDCard_FS.c **** //
 903:Generated_Source\PSoC4/SDCard_FS.c **** //
 904:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 51


 905:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
 906:Generated_Source\PSoC4/SDCard_FS.c **** 
 907:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_fflush(uchar Fptr)
 908:Generated_Source\PSoC4/SDCard_FS.c **** {
 1935              		.loc 1 908 0
 1936              		.cfi_startproc
 1937              		@ args = 0, pretend = 0, frame = 8
 1938              		@ frame_needed = 1, uses_anonymous_args = 0
 1939 0000 80B5     		push	{r7, lr}
 1940              		.cfi_def_cfa_offset 8
 1941              		.cfi_offset 7, -8
 1942              		.cfi_offset 14, -4
 1943 0002 82B0     		sub	sp, sp, #8
 1944              		.cfi_def_cfa_offset 16
 1945 0004 00AF     		add	r7, sp, #0
 1946              		.cfi_def_cfa_register 7
 1947 0006 0200     		movs	r2, r0
 1948 0008 FB1D     		adds	r3, r7, #7
 1949 000a 1A70     		strb	r2, [r3]
 909:Generated_Source\PSoC4/SDCard_FS.c ****    
 910:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_DirtyFlag & 0x01) == 0x01 ) // If dirty data bit is set, write buffer back
 1950              		.loc 1 910 0
 1951 000c 0F4B     		ldr	r3, .L108
 1952 000e 1B78     		ldrb	r3, [r3]
 1953 0010 1A00     		movs	r2, r3
 1954 0012 0123     		movs	r3, #1
 1955 0014 1340     		ands	r3, r2
 1956 0016 07D0     		beq	.L105
 911:Generated_Source\PSoC4/SDCard_FS.c ****    {
 912:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_WriteSect(SDCard_BuffLoc);   
 1957              		.loc 1 912 0
 1958 0018 0D4B     		ldr	r3, .L108+4
 1959 001a 1B68     		ldr	r3, [r3]
 1960 001c 1800     		movs	r0, r3
 1961 001e FFF7FEFF 		bl	SDCard_WriteSect
 913:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_DirtyFlag = 0;               // Clear dirty flag
 1962              		.loc 1 913 0
 1963 0022 0A4B     		ldr	r3, .L108
 1964 0024 0022     		movs	r2, #0
 1965 0026 1A70     		strb	r2, [r3]
 1966              	.L105:
 914:Generated_Source\PSoC4/SDCard_FS.c ****    }    
 915:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 916:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_FileMode[Fptr] & 0x10) == 0x10 ) // If dirty directory bit is set, update directory
 1967              		.loc 1 916 0
 1968 0028 FB1D     		adds	r3, r7, #7
 1969 002a 1B78     		ldrb	r3, [r3]
 1970 002c 094A     		ldr	r2, .L108+8
 1971 002e D35C     		ldrb	r3, [r2, r3]
 1972 0030 1A00     		movs	r2, r3
 1973 0032 1023     		movs	r3, #16
 1974 0034 1340     		ands	r3, r2
 1975 0036 04D0     		beq	.L107
 917:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_UpdateDir(Fptr);   
 1976              		.loc 1 917 0
 1977 0038 FB1D     		adds	r3, r7, #7
 1978 003a 1B78     		ldrb	r3, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 52


 1979 003c 1800     		movs	r0, r3
 1980 003e FFF7FEFF 		bl	SDCard_UpdateDir
 1981              	.L107:
 918:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 919:Generated_Source\PSoC4/SDCard_FS.c **** 
 920:Generated_Source\PSoC4/SDCard_FS.c **** }
 1982              		.loc 1 920 0
 1983 0042 C046     		nop
 1984 0044 BD46     		mov	sp, r7
 1985 0046 02B0     		add	sp, sp, #8
 1986              		@ sp needed
 1987 0048 80BD     		pop	{r7, pc}
 1988              	.L109:
 1989 004a C046     		.align	2
 1990              	.L108:
 1991 004c 00000000 		.word	SDCard_DirtyFlag
 1992 0050 00000000 		.word	SDCard_BuffLoc
 1993 0054 00000000 		.word	SDCard_FileMode
 1994              		.cfi_endproc
 1995              	.LFE45:
 1996              		.size	SDCard_fflush, .-SDCard_fflush
 1997              		.section	.text.SDCard_GetFilename,"ax",%progbits
 1998              		.align	2
 1999              		.global	SDCard_GetFilename
 2000              		.code	16
 2001              		.thumb_func
 2002              		.type	SDCard_GetFilename, %function
 2003              	SDCard_GetFilename:
 2004              	.LFB46:
 921:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 922:Generated_Source\PSoC4/SDCard_FS.c **** 
 923:Generated_Source\PSoC4/SDCard_FS.c **** 
 924:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 925:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar *  SDCard_GetFilename(uint Entry)
 926:Generated_Source\PSoC4/SDCard_FS.c **** //
 927:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 928:Generated_Source\PSoC4/SDCard_FS.c **** //   Gets the 'Entry' number valid filename from the root directory and returns a pointer to it.
 929:Generated_Source\PSoC4/SDCard_FS.c **** //
 930:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 931:Generated_Source\PSoC4/SDCard_FS.c **** //
 932:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
 933:Generated_Source\PSoC4/SDCard_FS.c **** //
 934:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 935:Generated_Source\PSoC4/SDCard_FS.c **** //    Pointer to the file name of the 'Entry' file.
 936:Generated_Source\PSoC4/SDCard_FS.c **** //    If returned pointer[0] = 0 then the file was not found 
 937:Generated_Source\PSoC4/SDCard_FS.c **** //
 938:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 939:Generated_Source\PSoC4/SDCard_FS.c **** //    Note: it uses both Buffer1 (all) and Buffer2 (16-28)
 940:Generated_Source\PSoC4/SDCard_FS.c **** //
 941:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 942:Generated_Source\PSoC4/SDCard_FS.c **** //
 943:Generated_Source\PSoC4/SDCard_FS.c **** //
 944:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 945:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
 946:Generated_Source\PSoC4/SDCard_FS.c **** 
 947:Generated_Source\PSoC4/SDCard_FS.c **** uchar *  SDCard_GetFilename(uint Entry)
 948:Generated_Source\PSoC4/SDCard_FS.c **** {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 53


 2005              		.loc 1 948 0
 2006              		.cfi_startproc
 2007              		@ args = 0, pretend = 0, frame = 16
 2008              		@ frame_needed = 1, uses_anonymous_args = 0
 2009 0000 80B5     		push	{r7, lr}
 2010              		.cfi_def_cfa_offset 8
 2011              		.cfi_offset 7, -8
 2012              		.cfi_offset 14, -4
 2013 0002 84B0     		sub	sp, sp, #16
 2014              		.cfi_def_cfa_offset 24
 2015 0004 00AF     		add	r7, sp, #0
 2016              		.cfi_def_cfa_register 7
 2017 0006 7860     		str	r0, [r7, #4]
 949:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x;                         // Temp loop variable
 950:Generated_Source\PSoC4/SDCard_FS.c ****    
 951:Generated_Source\PSoC4/SDCard_FS.c ****    if((Entry>=1)&&(Entry<=SDCard_DirSize))   // Is the entry number valid?
 2018              		.loc 1 951 0
 2019 0008 7B68     		ldr	r3, [r7, #4]
 2020 000a 002B     		cmp	r3, #0
 2021 000c 5FD0     		beq	.L111
 2022              		.loc 1 951 0 is_stmt 0 discriminator 1
 2023 000e 364B     		ldr	r3, .L120
 2024 0010 1B68     		ldr	r3, [r3]
 2025 0012 7A68     		ldr	r2, [r7, #4]
 2026 0014 9A42     		cmp	r2, r3
 2027 0016 5AD8     		bhi	.L111
 952:Generated_Source\PSoC4/SDCard_FS.c ****    {
 953:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FindFile(SDCard_MAXFILES, Entry);      // Yes, Get just the filename, not file info
 2028              		.loc 1 953 0 is_stmt 1
 2029 0018 7B68     		ldr	r3, [r7, #4]
 2030 001a 1900     		movs	r1, r3
 2031 001c 0220     		movs	r0, #2
 2032 001e FFF7FEFF 		bl	SDCard_FindFile
 954:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_Buffer1[0]!=0)               // File name found?
 2033              		.loc 1 954 0
 2034 0022 324B     		ldr	r3, .L120+4
 2035 0024 1B68     		ldr	r3, [r3]
 2036 0026 1B78     		ldrb	r3, [r3]
 2037 0028 002B     		cmp	r3, #0
 2038 002a 4AD0     		beq	.L112
 955:Generated_Source\PSoC4/SDCard_FS.c ****       {   
 956:Generated_Source\PSoC4/SDCard_FS.c ****          // If the file was found - copy the filename, '.', extension, and add null to the end and
 957:Generated_Source\PSoC4/SDCard_FS.c ****          // put it at Buffer2[16], then copy the raw filename to Buffer2[0] for the quick open feat
 958:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=0; x<8; x++)           // Copy the filename
 2039              		.loc 1 958 0
 2040 002c 0F23     		movs	r3, #15
 2041 002e FB18     		adds	r3, r7, r3
 2042 0030 0022     		movs	r2, #0
 2043 0032 1A70     		strb	r2, [r3]
 2044 0034 15E0     		b	.L113
 2045              	.L114:
 959:Generated_Source\PSoC4/SDCard_FS.c ****          {
 960:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Buffer2[x+16] = SDCard_Buffer1[x];               
 2046              		.loc 1 960 0 discriminator 3
 2047 0036 2E4B     		ldr	r3, .L120+8
 2048 0038 1A68     		ldr	r2, [r3]
 2049 003a 0F23     		movs	r3, #15
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 54


 2050 003c FB18     		adds	r3, r7, r3
 2051 003e 1B78     		ldrb	r3, [r3]
 2052 0040 1033     		adds	r3, r3, #16
 2053 0042 D218     		adds	r2, r2, r3
 2054 0044 294B     		ldr	r3, .L120+4
 2055 0046 1968     		ldr	r1, [r3]
 2056 0048 0F23     		movs	r3, #15
 2057 004a FB18     		adds	r3, r7, r3
 2058 004c 1B78     		ldrb	r3, [r3]
 2059 004e CB18     		adds	r3, r1, r3
 2060 0050 1B78     		ldrb	r3, [r3]
 2061 0052 1370     		strb	r3, [r2]
 958:Generated_Source\PSoC4/SDCard_FS.c ****          {
 2062              		.loc 1 958 0 discriminator 3
 2063 0054 0F23     		movs	r3, #15
 2064 0056 FB18     		adds	r3, r7, r3
 2065 0058 1A78     		ldrb	r2, [r3]
 2066 005a 0F23     		movs	r3, #15
 2067 005c FB18     		adds	r3, r7, r3
 2068 005e 0132     		adds	r2, r2, #1
 2069 0060 1A70     		strb	r2, [r3]
 2070              	.L113:
 958:Generated_Source\PSoC4/SDCard_FS.c ****          {
 2071              		.loc 1 958 0 is_stmt 0 discriminator 1
 2072 0062 0F23     		movs	r3, #15
 2073 0064 FB18     		adds	r3, r7, r3
 2074 0066 1B78     		ldrb	r3, [r3]
 2075 0068 072B     		cmp	r3, #7
 2076 006a E4D9     		bls	.L114
 961:Generated_Source\PSoC4/SDCard_FS.c ****          }
 962:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Buffer2[24] = '.';           // Add the dot
 2077              		.loc 1 962 0 is_stmt 1
 2078 006c 204B     		ldr	r3, .L120+8
 2079 006e 1B68     		ldr	r3, [r3]
 2080 0070 1833     		adds	r3, r3, #24
 2081 0072 2E22     		movs	r2, #46
 2082 0074 1A70     		strb	r2, [r3]
 963:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=8; x<11; x++)          // Copy the extension
 2083              		.loc 1 963 0
 2084 0076 0F23     		movs	r3, #15
 2085 0078 FB18     		adds	r3, r7, r3
 2086 007a 0822     		movs	r2, #8
 2087 007c 1A70     		strb	r2, [r3]
 2088 007e 15E0     		b	.L115
 2089              	.L116:
 964:Generated_Source\PSoC4/SDCard_FS.c ****          {
 965:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Buffer2[x+17] = SDCard_Buffer1[x];               
 2090              		.loc 1 965 0 discriminator 3
 2091 0080 1B4B     		ldr	r3, .L120+8
 2092 0082 1A68     		ldr	r2, [r3]
 2093 0084 0F23     		movs	r3, #15
 2094 0086 FB18     		adds	r3, r7, r3
 2095 0088 1B78     		ldrb	r3, [r3]
 2096 008a 1133     		adds	r3, r3, #17
 2097 008c D218     		adds	r2, r2, r3
 2098 008e 174B     		ldr	r3, .L120+4
 2099 0090 1968     		ldr	r1, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 55


 2100 0092 0F23     		movs	r3, #15
 2101 0094 FB18     		adds	r3, r7, r3
 2102 0096 1B78     		ldrb	r3, [r3]
 2103 0098 CB18     		adds	r3, r1, r3
 2104 009a 1B78     		ldrb	r3, [r3]
 2105 009c 1370     		strb	r3, [r2]
 963:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=8; x<11; x++)          // Copy the extension
 2106              		.loc 1 963 0 discriminator 3
 2107 009e 0F23     		movs	r3, #15
 2108 00a0 FB18     		adds	r3, r7, r3
 2109 00a2 1A78     		ldrb	r2, [r3]
 2110 00a4 0F23     		movs	r3, #15
 2111 00a6 FB18     		adds	r3, r7, r3
 2112 00a8 0132     		adds	r2, r2, #1
 2113 00aa 1A70     		strb	r2, [r3]
 2114              	.L115:
 963:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=8; x<11; x++)          // Copy the extension
 2115              		.loc 1 963 0 is_stmt 0 discriminator 1
 2116 00ac 0F23     		movs	r3, #15
 2117 00ae FB18     		adds	r3, r7, r3
 2118 00b0 1B78     		ldrb	r3, [r3]
 2119 00b2 0A2B     		cmp	r3, #10
 2120 00b4 E4D9     		bls	.L116
 966:Generated_Source\PSoC4/SDCard_FS.c ****          }
 967:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Buffer2[28] = 0;             // Add the terminating null
 2121              		.loc 1 967 0 is_stmt 1
 2122 00b6 0E4B     		ldr	r3, .L120+8
 2123 00b8 1B68     		ldr	r3, [r3]
 2124 00ba 1C33     		adds	r3, r3, #28
 2125 00bc 0022     		movs	r2, #0
 2126 00be 1A70     		strb	r2, [r3]
 954:Generated_Source\PSoC4/SDCard_FS.c ****       {   
 2127              		.loc 1 954 0
 2128 00c0 0AE0     		b	.L118
 2129              	.L112:
 968:Generated_Source\PSoC4/SDCard_FS.c ****       }
 969:Generated_Source\PSoC4/SDCard_FS.c ****       else
 970:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Buffer2[16]=0;               // File was not found - put null at start of filename 
 2130              		.loc 1 970 0
 2131 00c2 0B4B     		ldr	r3, .L120+8
 2132 00c4 1B68     		ldr	r3, [r3]
 2133 00c6 1033     		adds	r3, r3, #16
 2134 00c8 0022     		movs	r2, #0
 2135 00ca 1A70     		strb	r2, [r3]
 954:Generated_Source\PSoC4/SDCard_FS.c ****       {   
 2136              		.loc 1 954 0
 2137 00cc 04E0     		b	.L118
 2138              	.L111:
 971:Generated_Source\PSoC4/SDCard_FS.c ****    }
 972:Generated_Source\PSoC4/SDCard_FS.c ****    else
 973:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Buffer2[16]=0;                  // File number not valid - put null at start of filena
 2139              		.loc 1 973 0
 2140 00ce 084B     		ldr	r3, .L120+8
 2141 00d0 1B68     		ldr	r3, [r3]
 2142 00d2 1033     		adds	r3, r3, #16
 2143 00d4 0022     		movs	r2, #0
 2144 00d6 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 56


 2145              	.L118:
 974:Generated_Source\PSoC4/SDCard_FS.c ****    
 975:Generated_Source\PSoC4/SDCard_FS.c ****    return(&SDCard_Buffer2[16]);      
 2146              		.loc 1 975 0
 2147 00d8 054B     		ldr	r3, .L120+8
 2148 00da 1B68     		ldr	r3, [r3]
 2149 00dc 1033     		adds	r3, r3, #16
 976:Generated_Source\PSoC4/SDCard_FS.c **** }
 2150              		.loc 1 976 0
 2151 00de 1800     		movs	r0, r3
 2152 00e0 BD46     		mov	sp, r7
 2153 00e2 04B0     		add	sp, sp, #16
 2154              		@ sp needed
 2155 00e4 80BD     		pop	{r7, pc}
 2156              	.L121:
 2157 00e6 C046     		.align	2
 2158              	.L120:
 2159 00e8 00000000 		.word	SDCard_DirSize
 2160 00ec 00000000 		.word	SDCard_Buffer1
 2161 00f0 00000000 		.word	SDCard_Buffer2
 2162              		.cfi_endproc
 2163              	.LFE46:
 2164              		.size	SDCard_GetFilename, .-SDCard_GetFilename
 2165              		.section	.text.SDCard_InitCard,"ax",%progbits
 2166              		.align	2
 2167              		.global	SDCard_InitCard
 2168              		.code	16
 2169              		.thumb_func
 2170              		.type	SDCard_InitCard, %function
 2171              	SDCard_InitCard:
 2172              	.LFB47:
 977:Generated_Source\PSoC4/SDCard_FS.c **** #endif
 978:Generated_Source\PSoC4/SDCard_FS.c **** 
 979:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 980:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_InitCard(void)
 981:Generated_Source\PSoC4/SDCard_FS.c **** //
 982:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
 983:Generated_Source\PSoC4/SDCard_FS.c **** //   Initialize MMC/SD card and get card information (must be done any time a new card is inserted)
 984:Generated_Source\PSoC4/SDCard_FS.c **** //
 985:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
 986:Generated_Source\PSoC4/SDCard_FS.c **** //
 987:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
 988:Generated_Source\PSoC4/SDCard_FS.c **** //
 989:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
 990:Generated_Source\PSoC4/SDCard_FS.c **** //    0 => No card available
 991:Generated_Source\PSoC4/SDCard_FS.c **** //    1 => MMC type card
 992:Generated_Source\PSoC4/SDCard_FS.c **** //    2 => SD Card type
 993:Generated_Source\PSoC4/SDCard_FS.c **** //
 994:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
 995:Generated_Source\PSoC4/SDCard_FS.c **** //
 996:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
 997:Generated_Source\PSoC4/SDCard_FS.c **** //
 998:Generated_Source\PSoC4/SDCard_FS.c **** //
 999:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1000:Generated_Source\PSoC4/SDCard_FS.c **** 
1001:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_InitCard(void)
1002:Generated_Source\PSoC4/SDCard_FS.c **** {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 57


 2173              		.loc 1 1002 0
 2174              		.cfi_startproc
 2175              		@ args = 0, pretend = 0, frame = 8
 2176              		@ frame_needed = 1, uses_anonymous_args = 0
 2177 0000 90B5     		push	{r4, r7, lr}
 2178              		.cfi_def_cfa_offset 12
 2179              		.cfi_offset 4, -12
 2180              		.cfi_offset 7, -8
 2181              		.cfi_offset 14, -4
 2182 0002 83B0     		sub	sp, sp, #12
 2183              		.cfi_def_cfa_offset 24
 2184 0004 00AF     		add	r7, sp, #0
 2185              		.cfi_def_cfa_register 7
1003:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   loop;														// Temp counter/loop variable
1004:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status;														// Temp status value
1005:Generated_Source\PSoC4/SDCard_FS.c ****    uint32   TmpClkIn;													// Temp storage for default project settings.
1006:Generated_Source\PSoC4/SDCard_FS.c **** 
1007:Generated_Source\PSoC4/SDCard_FS.c ****    // Backup the initial register setting for use in future
1008:Generated_Source\PSoC4/SDCard_FS.c ****    TmpClkIn = SDCard_SD_Clock_GetDividerRegister();
 2186              		.loc 1 1008 0
 2187 0006 FFF7FEFF 		bl	SDCard_SD_Clock_GetDividerRegister
 2188 000a 0300     		movs	r3, r0
 2189 000c 3B60     		str	r3, [r7]
1009:Generated_Source\PSoC4/SDCard_FS.c ****    
1010:Generated_Source\PSoC4/SDCard_FS.c ****    // Set clock in to 32Khz oscillator for use under 400Khz (Must run slowly until card initialized
1011:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Speed = 0;											// Indicate Slow Speed Clock
 2190              		.loc 1 1011 0
 2191 000e 5C4B     		ldr	r3, .L139
 2192 0010 0022     		movs	r2, #0
 2193 0012 1A70     		strb	r2, [r3]
1012:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SD_Clock_SetDividerRegister(1499, 1);					// Set divider to 48Mhz/1500 = 32Khz
 2194              		.loc 1 1012 0
 2195 0014 5B4B     		ldr	r3, .L139+4
 2196 0016 0021     		movs	r1, #0
 2197 0018 1800     		movs	r0, r3
 2198 001a FFF7FEFF 		bl	SDCard_SD_Clock_SetFractionalDividerRegister
1013:Generated_Source\PSoC4/SDCard_FS.c ****    
1014:Generated_Source\PSoC4/SDCard_FS.c ****    // Wait at least 1 ms after power up before attempting to do anything with the card
1015:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait2();                       						// Wait at least 1 ms
 2199              		.loc 1 1015 0
 2200 001e FFF7FEFF 		bl	SDCard_Wait2
1016:Generated_Source\PSoC4/SDCard_FS.c **** 
1017:Generated_Source\PSoC4/SDCard_FS.c ****    // Send out a string of at least 74 clocked highs (10 or more 0xFF characters) previous to sendi
1018:Generated_Source\PSoC4/SDCard_FS.c ****    for(loop=0; loop<10; loop++)   										// Loop through the a series of 0xFF's to set data line
 2201              		.loc 1 1018 0
 2202 0022 FB1D     		adds	r3, r7, #7
 2203 0024 0022     		movs	r2, #0
 2204 0026 1A70     		strb	r2, [r3]
 2205 0028 0FE0     		b	.L123
 2206              	.L124:
1019:Generated_Source\PSoC4/SDCard_FS.c ****    {
1020:Generated_Source\PSoC4/SDCard_FS.c ****       // Send a null byte to shift for btye read
1021:Generated_Source\PSoC4/SDCard_FS.c **** 	  SDCard_SendTxData( 0xFF );  
 2207              		.loc 1 1021 0 discriminator 3
 2208 002a FF20     		movs	r0, #255
 2209 002c FFF7FEFF 		bl	SDCard_SendTxData
1022:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_XferWait();                 						// Wait for transfer to complete
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 58


 2210              		.loc 1 1022 0 discriminator 3
 2211 0030 FFF7FEFF 		bl	SDCard_XferWait
1023:Generated_Source\PSoC4/SDCard_FS.c **** 	  rbuff = SDCard_bReadRxData();
 2212              		.loc 1 1023 0 discriminator 3
 2213 0034 FFF7FEFF 		bl	SDCard_bReadRxData
 2214 0038 0300     		movs	r3, r0
 2215 003a 1A00     		movs	r2, r3
 2216 003c 524B     		ldr	r3, .L139+8
 2217 003e 1A70     		strb	r2, [r3]
1018:Generated_Source\PSoC4/SDCard_FS.c ****    {
 2218              		.loc 1 1018 0 discriminator 3
 2219 0040 FB1D     		adds	r3, r7, #7
 2220 0042 1A78     		ldrb	r2, [r3]
 2221 0044 FB1D     		adds	r3, r7, #7
 2222 0046 0132     		adds	r2, r2, #1
 2223 0048 1A70     		strb	r2, [r3]
 2224              	.L123:
1018:Generated_Source\PSoC4/SDCard_FS.c ****    {
 2225              		.loc 1 1018 0 is_stmt 0 discriminator 1
 2226 004a FB1D     		adds	r3, r7, #7
 2227 004c 1B78     		ldrb	r3, [r3]
 2228 004e 092B     		cmp	r3, #9
 2229 0050 EBD9     		bls	.L124
1024:Generated_Source\PSoC4/SDCard_FS.c ****    }
1025:Generated_Source\PSoC4/SDCard_FS.c **** 
1026:Generated_Source\PSoC4/SDCard_FS.c ****    // Set card to SPI mode - Set SDCard_SELECT  (SD Card pin 1) low and then send CMD(0) Reset
1027:Generated_Source\PSoC4/SDCard_FS.c ****    // If the CS line is low then a mode R1 SPI response is generated.
1028:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address E
1029:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_Cmd_00();             						// Issue card reset commannd and return status
 2230              		.loc 1 1029 0 is_stmt 1
 2231 0052 BC1D     		adds	r4, r7, #6
 2232 0054 FFF7FEFF 		bl	SDCard_Cmd_00
 2233 0058 0300     		movs	r3, r0
 2234 005a 2370     		strb	r3, [r4]
1030:Generated_Source\PSoC4/SDCard_FS.c **** 
1031:Generated_Source\PSoC4/SDCard_FS.c ****    // Test for SD card comptibility
1032:Generated_Source\PSoC4/SDCard_FS.c ****    // The SD Card must be polled with a ACMD(41) until it's init is finished
1033:Generated_Source\PSoC4/SDCard_FS.c ****    loop = 255;                      									// Set number of tries until you timeout
 2235              		.loc 1 1033 0
 2236 005c FB1D     		adds	r3, r7, #7
 2237 005e FF22     		movs	r2, #255
 2238 0060 1A70     		strb	r2, [r3]
1034:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_FAIL;                   					// Initialize status to non zero value   
 2239              		.loc 1 1034 0
 2240 0062 BB1D     		adds	r3, r7, #6
 2241 0064 AA22     		movs	r2, #170
 2242 0066 1A70     		strb	r2, [r3]
1035:Generated_Source\PSoC4/SDCard_FS.c ****    while((status != 0) && (loop>0)) 									// Loop until status is good, or a timeout occurs
 2243              		.loc 1 1035 0
 2244 0068 12E0     		b	.L125
 2245              	.L127:
1036:Generated_Source\PSoC4/SDCard_FS.c ****    {
1037:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_Cmd_55()==0);              					// Issue the App command and do SD OP COND command 
 2246              		.loc 1 1037 0
 2247 006a FFF7FEFF 		bl	SDCard_Cmd_55
1038:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_ACmd_41();        					// See if SD OP COND passed, if so then it is an SD
 2248              		.loc 1 1038 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 59


 2249 006e BC1D     		adds	r4, r7, #6
 2250 0070 FFF7FEFF 		bl	SDCard_ACmd_41
 2251 0074 0300     		movs	r3, r0
 2252 0076 2370     		strb	r3, [r4]
1039:Generated_Source\PSoC4/SDCard_FS.c ****       loop--;                       									// Decrement loop until 0, then timeout
 2253              		.loc 1 1039 0
 2254 0078 FB1D     		adds	r3, r7, #7
 2255 007a 1A78     		ldrb	r2, [r3]
 2256 007c FB1D     		adds	r3, r7, #7
 2257 007e 013A     		subs	r2, r2, #1
 2258 0080 1A70     		strb	r2, [r3]
1040:Generated_Source\PSoC4/SDCard_FS.c ****       if(loop == 0)                 									// If loop is zero, then set status to failed
 2259              		.loc 1 1040 0
 2260 0082 FB1D     		adds	r3, r7, #7
 2261 0084 1B78     		ldrb	r3, [r3]
 2262 0086 002B     		cmp	r3, #0
 2263 0088 02D1     		bne	.L125
1041:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;
 2264              		.loc 1 1041 0
 2265 008a BB1D     		adds	r3, r7, #6
 2266 008c AA22     		movs	r2, #170
 2267 008e 1A70     		strb	r2, [r3]
 2268              	.L125:
1035:Generated_Source\PSoC4/SDCard_FS.c ****    {
 2269              		.loc 1 1035 0
 2270 0090 BB1D     		adds	r3, r7, #6
 2271 0092 1B78     		ldrb	r3, [r3]
 2272 0094 002B     		cmp	r3, #0
 2273 0096 03D0     		beq	.L126
1035:Generated_Source\PSoC4/SDCard_FS.c ****    {
 2274              		.loc 1 1035 0 is_stmt 0 discriminator 1
 2275 0098 FB1D     		adds	r3, r7, #7
 2276 009a 1B78     		ldrb	r3, [r3]
 2277 009c 002B     		cmp	r3, #0
 2278 009e E4D1     		bne	.L127
 2279              	.L126:
1042:Generated_Source\PSoC4/SDCard_FS.c ****    }
1043:Generated_Source\PSoC4/SDCard_FS.c **** 
1044:Generated_Source\PSoC4/SDCard_FS.c ****    if(status==SDCard_FAIL)   									// If the SD init failed, try the MMC init
 2280              		.loc 1 1044 0 is_stmt 1
 2281 00a0 BB1D     		adds	r3, r7, #6
 2282 00a2 1B78     		ldrb	r3, [r3]
 2283 00a4 AA2B     		cmp	r3, #170
 2284 00a6 2AD1     		bne	.L128
1045:Generated_Source\PSoC4/SDCard_FS.c ****    {
1046:Generated_Source\PSoC4/SDCard_FS.c ****       // The MMC Card must be polled with a CMD(1) until it's init is finished
1047:Generated_Source\PSoC4/SDCard_FS.c ****       loop = 255;                   									// Set number of tries until you timeout
 2285              		.loc 1 1047 0
 2286 00a8 FB1D     		adds	r3, r7, #7
 2287 00aa FF22     		movs	r2, #255
 2288 00ac 1A70     		strb	r2, [r3]
1048:Generated_Source\PSoC4/SDCard_FS.c ****       status = 0;                   									// Reset Status   
 2289              		.loc 1 1048 0
 2290 00ae BB1D     		adds	r3, r7, #6
 2291 00b0 0022     		movs	r2, #0
 2292 00b2 1A70     		strb	r2, [r3]
1049:Generated_Source\PSoC4/SDCard_FS.c ****       while((SDCard_Cmd_01() != 0) && (loop>0))   			// Loop until status is good, or a timeout occ
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 60


 2293              		.loc 1 1049 0
 2294 00b4 0FE0     		b	.L129
 2295              	.L131:
1050:Generated_Source\PSoC4/SDCard_FS.c ****       {
1051:Generated_Source\PSoC4/SDCard_FS.c ****          loop--;                    									// Decrement loop until 0, then timeout
 2296              		.loc 1 1051 0
 2297 00b6 FB1D     		adds	r3, r7, #7
 2298 00b8 1A78     		ldrb	r2, [r3]
 2299 00ba FB1D     		adds	r3, r7, #7
 2300 00bc 013A     		subs	r2, r2, #1
 2301 00be 1A70     		strb	r2, [r3]
 2302 00c0 BB1D     		adds	r3, r7, #6
 2303 00c2 BA1D     		adds	r2, r7, #6
 2304 00c4 1278     		ldrb	r2, [r2]
 2305 00c6 1A70     		strb	r2, [r3]
1052:Generated_Source\PSoC4/SDCard_FS.c ****          if(loop == 0)              									// If loop is zero, then set status to zero for failed
 2306              		.loc 1 1052 0
 2307 00c8 FB1D     		adds	r3, r7, #7
 2308 00ca 1B78     		ldrb	r3, [r3]
 2309 00cc 002B     		cmp	r3, #0
 2310 00ce 02D1     		bne	.L129
1053:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;
 2311              		.loc 1 1053 0
 2312 00d0 BB1D     		adds	r3, r7, #6
 2313 00d2 AA22     		movs	r2, #170
 2314 00d4 1A70     		strb	r2, [r3]
 2315              	.L129:
1049:Generated_Source\PSoC4/SDCard_FS.c ****       {
 2316              		.loc 1 1049 0
 2317 00d6 FFF7FEFF 		bl	SDCard_Cmd_01
 2318 00da 031E     		subs	r3, r0, #0
 2319 00dc 03D0     		beq	.L130
1049:Generated_Source\PSoC4/SDCard_FS.c ****       {
 2320              		.loc 1 1049 0 is_stmt 0 discriminator 1
 2321 00de FB1D     		adds	r3, r7, #7
 2322 00e0 1B78     		ldrb	r3, [r3]
 2323 00e2 002B     		cmp	r3, #0
 2324 00e4 E7D1     		bne	.L131
 2325              	.L130:
1054:Generated_Source\PSoC4/SDCard_FS.c ****       }
1055:Generated_Source\PSoC4/SDCard_FS.c **** 
1056:Generated_Source\PSoC4/SDCard_FS.c ****       if(status != SDCard_FAIL)
 2326              		.loc 1 1056 0 is_stmt 1
 2327 00e6 BB1D     		adds	r3, r7, #6
 2328 00e8 1B78     		ldrb	r3, [r3]
 2329 00ea AA2B     		cmp	r3, #170
 2330 00ec 03D0     		beq	.L132
1057:Generated_Source\PSoC4/SDCard_FS.c ****       {
1058:Generated_Source\PSoC4/SDCard_FS.c ****          // MMC init passed - set card type to MMC (1)
1059:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CardType = 1;
 2331              		.loc 1 1059 0
 2332 00ee 274B     		ldr	r3, .L139+12
 2333 00f0 0122     		movs	r2, #1
 2334 00f2 1A70     		strb	r2, [r3]
 2335 00f4 06E0     		b	.L134
 2336              	.L132:
1060:Generated_Source\PSoC4/SDCard_FS.c ****       }
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 61


1061:Generated_Source\PSoC4/SDCard_FS.c ****       else
1062:Generated_Source\PSoC4/SDCard_FS.c ****       {
1063:Generated_Source\PSoC4/SDCard_FS.c ****          // Both inits failed - card not inserted properly or it's bad
1064:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CardType = 0;
 2337              		.loc 1 1064 0
 2338 00f6 254B     		ldr	r3, .L139+12
 2339 00f8 0022     		movs	r2, #0
 2340 00fa 1A70     		strb	r2, [r3]
 2341 00fc 02E0     		b	.L134
 2342              	.L128:
1065:Generated_Source\PSoC4/SDCard_FS.c ****       }
1066:Generated_Source\PSoC4/SDCard_FS.c ****    }
1067:Generated_Source\PSoC4/SDCard_FS.c ****    else
1068:Generated_Source\PSoC4/SDCard_FS.c ****    {
1069:Generated_Source\PSoC4/SDCard_FS.c ****       // SD init passed - set card type to SD (2)
1070:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CardType = 2;
 2343              		.loc 1 1070 0
 2344 00fe 234B     		ldr	r3, .L139+12
 2345 0100 0222     		movs	r2, #2
 2346 0102 1A70     		strb	r2, [r3]
 2347              	.L134:
1071:Generated_Source\PSoC4/SDCard_FS.c ****    }
1072:Generated_Source\PSoC4/SDCard_FS.c **** 
1073:Generated_Source\PSoC4/SDCard_FS.c ****    // Set clock back to original settings used in project
1074:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SD_Clock_SetDividerRegister(TmpClkIn, 1);
 2348              		.loc 1 1074 0
 2349 0104 3B68     		ldr	r3, [r7]
 2350 0106 9BB2     		uxth	r3, r3
 2351 0108 0021     		movs	r1, #0
 2352 010a 1800     		movs	r0, r3
 2353 010c FFF7FEFF 		bl	SDCard_SD_Clock_SetFractionalDividerRegister
1075:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Speed = 1;                       					// set clock back to fast setting
 2354              		.loc 1 1075 0
 2355 0110 1B4B     		ldr	r3, .L139
 2356 0112 0122     		movs	r2, #1
 2357 0114 1A70     		strb	r2, [r3]
1076:Generated_Source\PSoC4/SDCard_FS.c **** 
1077:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_MemoryStart = SDCard_GetTable();        	// Get starting location of memory area
 2358              		.loc 1 1077 0
 2359 0116 FFF7FEFF 		bl	SDCard_GetTable
 2360 011a 0200     		movs	r2, r0
 2361 011c 1C4B     		ldr	r3, .L139+16
 2362 011e 1A60     		str	r2, [r3]
1078:Generated_Source\PSoC4/SDCard_FS.c **** 
1079:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1080:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_CardType&SDCard_XCARD) != 0)        	// If card passed operational testing, then fini
 2363              		.loc 1 1080 0
 2364 0120 1A4B     		ldr	r3, .L139+12
 2365 0122 1B78     		ldrb	r3, [r3]
 2366 0124 1A00     		movs	r2, r3
 2367 0126 0F23     		movs	r3, #15
 2368 0128 1340     		ands	r3, r2
 2369 012a 04D0     		beq	.L135
1081:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_GetBoot(SDCard_MemoryStart);         	// Get boot sector information and load it into 
 2370              		.loc 1 1081 0
 2371 012c 184B     		ldr	r3, .L139+16
 2372 012e 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 62


 2373 0130 1800     		movs	r0, r3
 2374 0132 FFF7FEFF 		bl	SDCard_GetBoot
 2375              	.L135:
1082:Generated_Source\PSoC4/SDCard_FS.c ****       
1083:Generated_Source\PSoC4/SDCard_FS.c ****     // If card failed, or FAT type is missing, clear card structure information
1084:Generated_Source\PSoC4/SDCard_FS.c ****     if( ((SDCard_CardType & SDCard_XCARD) == 0)|| ((SDCard_CardType & SDCard_XFAT) == 0) )
 2376              		.loc 1 1084 0
 2377 0136 154B     		ldr	r3, .L139+12
 2378 0138 1B78     		ldrb	r3, [r3]
 2379 013a 1A00     		movs	r2, r3
 2380 013c 0F23     		movs	r3, #15
 2381 013e 1340     		ands	r3, r2
 2382 0140 05D0     		beq	.L136
 2383              		.loc 1 1084 0 is_stmt 0 discriminator 1
 2384 0142 124B     		ldr	r3, .L139+12
 2385 0144 1B78     		ldrb	r3, [r3]
 2386 0146 1A00     		movs	r2, r3
 2387 0148 F023     		movs	r3, #240
 2388 014a 1340     		ands	r3, r2
 2389 014c 11D1     		bne	.L137
 2390              	.L136:
1085:Generated_Source\PSoC4/SDCard_FS.c ****    {
1086:Generated_Source\PSoC4/SDCard_FS.c ****       // Failed - clear the card variables - they may have been previously set
1087:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_ClusterSize=0;
 2391              		.loc 1 1087 0 is_stmt 1
 2392 014e 114B     		ldr	r3, .L139+20
 2393 0150 0022     		movs	r2, #0
 2394 0152 1A70     		strb	r2, [r3]
1088:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Fat1Start=0;
 2395              		.loc 1 1088 0
 2396 0154 104B     		ldr	r3, .L139+24
 2397 0156 0022     		movs	r2, #0
 2398 0158 1A60     		str	r2, [r3]
1089:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Fat2Start=0;
 2399              		.loc 1 1089 0
 2400 015a 104B     		ldr	r3, .L139+28
 2401 015c 0022     		movs	r2, #0
 2402 015e 1A60     		str	r2, [r3]
1090:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_DirStart=0;
 2403              		.loc 1 1090 0
 2404 0160 0F4B     		ldr	r3, .L139+32
 2405 0162 0022     		movs	r2, #0
 2406 0164 1A60     		str	r2, [r3]
1091:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_DataStart=0;
 2407              		.loc 1 1091 0
 2408 0166 0F4B     		ldr	r3, .L139+36
 2409 0168 0022     		movs	r2, #0
 2410 016a 1A60     		str	r2, [r3]
1092:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_EmptyFat=2;                   					// Location to start search for an empty FAT entry 
 2411              		.loc 1 1092 0
 2412 016c 0E4B     		ldr	r3, .L139+40
 2413 016e 0222     		movs	r2, #2
 2414 0170 1A60     		str	r2, [r3]
 2415              	.L137:
1093:Generated_Source\PSoC4/SDCard_FS.c ****    }
1094:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1095:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 63


1096:Generated_Source\PSoC4/SDCard_FS.c ****    return(SDCard_CardType);
 2416              		.loc 1 1096 0
 2417 0172 064B     		ldr	r3, .L139+12
 2418 0174 1B78     		ldrb	r3, [r3]
1097:Generated_Source\PSoC4/SDCard_FS.c **** }
 2419              		.loc 1 1097 0
 2420 0176 1800     		movs	r0, r3
 2421 0178 BD46     		mov	sp, r7
 2422 017a 03B0     		add	sp, sp, #12
 2423              		@ sp needed
 2424 017c 90BD     		pop	{r4, r7, pc}
 2425              	.L140:
 2426 017e C046     		.align	2
 2427              	.L139:
 2428 0180 00000000 		.word	SDCard_Speed
 2429 0184 DB050000 		.word	1499
 2430 0188 00000000 		.word	rbuff
 2431 018c 00000000 		.word	SDCard_CardType
 2432 0190 00000000 		.word	SDCard_MemoryStart
 2433 0194 00000000 		.word	SDCard_ClusterSize
 2434 0198 00000000 		.word	SDCard_Fat1Start
 2435 019c 00000000 		.word	SDCard_Fat2Start
 2436 01a0 00000000 		.word	SDCard_DirStart
 2437 01a4 00000000 		.word	SDCard_DataStart
 2438 01a8 00000000 		.word	SDCard_EmptyFat
 2439              		.cfi_endproc
 2440              	.LFE47:
 2441              		.size	SDCard_InitCard, .-SDCard_InitCard
 2442              		.global	__aeabi_uidiv
 2443              		.section	.text.SDCard_fseek,"ax",%progbits
 2444              		.align	2
 2445              		.global	SDCard_fseek
 2446              		.code	16
 2447              		.thumb_func
 2448              		.type	SDCard_fseek, %function
 2449              	SDCard_fseek:
 2450              	.LFB48:
1098:Generated_Source\PSoC4/SDCard_FS.c **** 
1099:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1100:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_fseek(uchar Fptr, ulong Offset)
1101:Generated_Source\PSoC4/SDCard_FS.c **** //
1102:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1103:Generated_Source\PSoC4/SDCard_FS.c **** //   Sets the file position offset for the next character read and updates the file info to match
1104:Generated_Source\PSoC4/SDCard_FS.c **** //
1105:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1106:Generated_Source\PSoC4/SDCard_FS.c **** //
1107:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1108:Generated_Source\PSoC4/SDCard_FS.c **** //    Fprt => File Pointer
1109:Generated_Source\PSoC4/SDCard_FS.c **** //    Offset => Offset of character
1110:Generated_Source\PSoC4/SDCard_FS.c **** //
1111:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1112:Generated_Source\PSoC4/SDCard_FS.c **** //
1113:Generated_Source\PSoC4/SDCard_FS.c **** //
1114:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1115:Generated_Source\PSoC4/SDCard_FS.c **** //
1116:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1117:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 64


1118:Generated_Source\PSoC4/SDCard_FS.c **** //
1119:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1120:Generated_Source\PSoC4/SDCard_FS.c **** 
1121:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_fseek(uchar Fptr, ulong Offset)
1122:Generated_Source\PSoC4/SDCard_FS.c **** {
 2451              		.loc 1 1122 0
 2452              		.cfi_startproc
 2453              		@ args = 0, pretend = 0, frame = 24
 2454              		@ frame_needed = 1, uses_anonymous_args = 0
 2455 0000 80B5     		push	{r7, lr}
 2456              		.cfi_def_cfa_offset 8
 2457              		.cfi_offset 7, -8
 2458              		.cfi_offset 14, -4
 2459 0002 86B0     		sub	sp, sp, #24
 2460              		.cfi_def_cfa_offset 32
 2461 0004 00AF     		add	r7, sp, #0
 2462              		.cfi_def_cfa_register 7
 2463 0006 0200     		movs	r2, r0
 2464 0008 3960     		str	r1, [r7]
 2465 000a FB1D     		adds	r3, r7, #7
 2466 000c 1A70     		strb	r2, [r3]
1123:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   flag=SDCard_FPE;                 // Temp error flag variable (Set to FPE in case bad poi
 2467              		.loc 1 1123 0
 2468 000e 1723     		movs	r3, #23
 2469 0010 FB18     		adds	r3, r7, r3
 2470 0012 2022     		movs	r2, #32
 2471 0014 1A70     		strb	r2, [r3]
1124:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1125:Generated_Source\PSoC4/SDCard_FS.c ****    ulong Clusters;                   // Number of clusters into the file
1126:Generated_Source\PSoC4/SDCard_FS.c ****    ulong   x;                        // Loop variable large enough for any possible count
1127:Generated_Source\PSoC4/SDCard_FS.c **** 
1128:Generated_Source\PSoC4/SDCard_FS.c ****    Clusters = (Offset/(SDCard_ClusterSize * 512));   // Figure out number of clusters into the file
 2472              		.loc 1 1128 0
 2473 0016 3A4B     		ldr	r3, .L149
 2474 0018 1B78     		ldrb	r3, [r3]
 2475 001a 5B02     		lsls	r3, r3, #9
 2476 001c 1900     		movs	r1, r3
 2477 001e 3868     		ldr	r0, [r7]
 2478 0020 FFF7FEFF 		bl	__aeabi_uidiv
 2479 0024 0300     		movs	r3, r0
 2480 0026 FB60     		str	r3, [r7, #12]
1129:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1130:Generated_Source\PSoC4/SDCard_FS.c **** 
1131:Generated_Source\PSoC4/SDCard_FS.c ****    
1132:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)                   // Is the file pointer valid?
 2481              		.loc 1 1132 0
 2482 0028 FB1D     		adds	r3, r7, #7
 2483 002a 1B78     		ldrb	r3, [r3]
 2484 002c 012B     		cmp	r3, #1
 2485 002e 5FD8     		bhi	.L142
1133:Generated_Source\PSoC4/SDCard_FS.c ****    {
1134:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1135:Generated_Source\PSoC4/SDCard_FS.c ****       // Check to make sure file pointer is in use
1136:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CurStart[Fptr]!= 0)
 2486              		.loc 1 1136 0
 2487 0030 FB1D     		adds	r3, r7, #7
 2488 0032 1A78     		ldrb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 65


 2489 0034 334B     		ldr	r3, .L149+4
 2490 0036 9200     		lsls	r2, r2, #2
 2491 0038 D358     		ldr	r3, [r2, r3]
 2492 003a 002B     		cmp	r3, #0
 2493 003c 51D0     		beq	.L143
1137:Generated_Source\PSoC4/SDCard_FS.c ****       {
1138:Generated_Source\PSoC4/SDCard_FS.c ****          // Valid file pointer - check to make sure Offset is valid - if append is on one extra cha
1139:Generated_Source\PSoC4/SDCard_FS.c ****          if((Offset<SDCard_CurSize[Fptr])||((Offset<=SDCard_CurSize[Fptr])&&((SDCard_FileMode[Fptr]
 2494              		.loc 1 1139 0
 2495 003e FB1D     		adds	r3, r7, #7
 2496 0040 1A78     		ldrb	r2, [r3]
 2497 0042 314B     		ldr	r3, .L149+8
 2498 0044 9200     		lsls	r2, r2, #2
 2499 0046 D258     		ldr	r2, [r2, r3]
 2500 0048 3B68     		ldr	r3, [r7]
 2501 004a 9A42     		cmp	r2, r3
 2502 004c 0FD8     		bhi	.L144
 2503              		.loc 1 1139 0 is_stmt 0 discriminator 1
 2504 004e FB1D     		adds	r3, r7, #7
 2505 0050 1A78     		ldrb	r2, [r3]
 2506 0052 2D4B     		ldr	r3, .L149+8
 2507 0054 9200     		lsls	r2, r2, #2
 2508 0056 D258     		ldr	r2, [r2, r3]
 2509 0058 3B68     		ldr	r3, [r7]
 2510 005a 9A42     		cmp	r2, r3
 2511 005c 36D3     		bcc	.L145
 2512              		.loc 1 1139 0 discriminator 2
 2513 005e FB1D     		adds	r3, r7, #7
 2514 0060 1B78     		ldrb	r3, [r3]
 2515 0062 2A4A     		ldr	r2, .L149+12
 2516 0064 D35C     		ldrb	r3, [r2, r3]
 2517 0066 1A00     		movs	r2, r3
 2518 0068 0423     		movs	r3, #4
 2519 006a 1340     		ands	r3, r2
 2520 006c 2ED0     		beq	.L145
 2521              	.L144:
1140:Generated_Source\PSoC4/SDCard_FS.c ****          {
1141:Generated_Source\PSoC4/SDCard_FS.c ****             // Get starting FAT entry for file
1142:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurFat[Fptr] = SDCard_CurStart[Fptr];
 2522              		.loc 1 1142 0 is_stmt 1
 2523 006e FB1D     		adds	r3, r7, #7
 2524 0070 1A78     		ldrb	r2, [r3]
 2525 0072 FB1D     		adds	r3, r7, #7
 2526 0074 1978     		ldrb	r1, [r3]
 2527 0076 234B     		ldr	r3, .L149+4
 2528 0078 8900     		lsls	r1, r1, #2
 2529 007a C958     		ldr	r1, [r1, r3]
 2530 007c 244B     		ldr	r3, .L149+16
 2531 007e 9200     		lsls	r2, r2, #2
 2532 0080 D150     		str	r1, [r2, r3]
1143:Generated_Source\PSoC4/SDCard_FS.c ****             
1144:Generated_Source\PSoC4/SDCard_FS.c ****             // Calculate the current FAT entry
1145:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=0; x<Clusters; x++)
 2533              		.loc 1 1145 0
 2534 0082 0023     		movs	r3, #0
 2535 0084 3B61     		str	r3, [r7, #16]
 2536 0086 07E0     		b	.L146
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 66


 2537              	.L147:
1146:Generated_Source\PSoC4/SDCard_FS.c ****             {
1147:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_NextFat(Fptr);         // Get next Fat entry in the chain
 2538              		.loc 1 1147 0 discriminator 3
 2539 0088 FB1D     		adds	r3, r7, #7
 2540 008a 1B78     		ldrb	r3, [r3]
 2541 008c 1800     		movs	r0, r3
 2542 008e FFF7FEFF 		bl	SDCard_NextFat
1145:Generated_Source\PSoC4/SDCard_FS.c ****             {
 2543              		.loc 1 1145 0 discriminator 3
 2544 0092 3B69     		ldr	r3, [r7, #16]
 2545 0094 0133     		adds	r3, r3, #1
 2546 0096 3B61     		str	r3, [r7, #16]
 2547              	.L146:
1145:Generated_Source\PSoC4/SDCard_FS.c ****             {
 2548              		.loc 1 1145 0 is_stmt 0 discriminator 1
 2549 0098 3A69     		ldr	r2, [r7, #16]
 2550 009a FB68     		ldr	r3, [r7, #12]
 2551 009c 9A42     		cmp	r2, r3
 2552 009e F3D3     		bcc	.L147
1148:Generated_Source\PSoC4/SDCard_FS.c ****             }
1149:Generated_Source\PSoC4/SDCard_FS.c ****             
1150:Generated_Source\PSoC4/SDCard_FS.c ****             // Calculate the current sector
1151:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSect[Fptr]=( (Offset / 512) - (Clusters * SDCard_ClusterSize) );
 2553              		.loc 1 1151 0 is_stmt 1
 2554 00a0 FB1D     		adds	r3, r7, #7
 2555 00a2 1B78     		ldrb	r3, [r3]
 2556 00a4 3A68     		ldr	r2, [r7]
 2557 00a6 520A     		lsrs	r2, r2, #9
 2558 00a8 D1B2     		uxtb	r1, r2
 2559 00aa FA68     		ldr	r2, [r7, #12]
 2560 00ac D2B2     		uxtb	r2, r2
 2561 00ae 1448     		ldr	r0, .L149
 2562 00b0 0078     		ldrb	r0, [r0]
 2563 00b2 4243     		muls	r2, r0
 2564 00b4 D2B2     		uxtb	r2, r2
 2565 00b6 8A1A     		subs	r2, r1, r2
 2566 00b8 D1B2     		uxtb	r1, r2
 2567 00ba 164A     		ldr	r2, .L149+20
 2568 00bc D154     		strb	r1, [r2, r3]
1152:Generated_Source\PSoC4/SDCard_FS.c ****             
1153:Generated_Source\PSoC4/SDCard_FS.c ****             // Save the new offset
1154:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurOffset[Fptr] = Offset;
 2569              		.loc 1 1154 0
 2570 00be FB1D     		adds	r3, r7, #7
 2571 00c0 1A78     		ldrb	r2, [r3]
 2572 00c2 154B     		ldr	r3, .L149+24
 2573 00c4 9200     		lsls	r2, r2, #2
 2574 00c6 3968     		ldr	r1, [r7]
 2575 00c8 D150     		str	r1, [r2, r3]
 2576 00ca 0AE0     		b	.L143
 2577              	.L145:
1155:Generated_Source\PSoC4/SDCard_FS.c ****          }
1156:Generated_Source\PSoC4/SDCard_FS.c ****          else
1157:Generated_Source\PSoC4/SDCard_FS.c ****          {
1158:Generated_Source\PSoC4/SDCard_FS.c ****             // The offset is beyond the end of the file
1159:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileError[Fptr] |= SDCard_PRE;      // Set the Parameter Range Error flag
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 67


 2578              		.loc 1 1159 0
 2579 00cc FB1D     		adds	r3, r7, #7
 2580 00ce 1B78     		ldrb	r3, [r3]
 2581 00d0 FA1D     		adds	r2, r7, #7
 2582 00d2 1278     		ldrb	r2, [r2]
 2583 00d4 1149     		ldr	r1, .L149+28
 2584 00d6 8A5C     		ldrb	r2, [r1, r2]
 2585 00d8 0421     		movs	r1, #4
 2586 00da 0A43     		orrs	r2, r1
 2587 00dc D1B2     		uxtb	r1, r2
 2588 00de 0F4A     		ldr	r2, .L149+28
 2589 00e0 D154     		strb	r1, [r2, r3]
 2590              	.L143:
1160:Generated_Source\PSoC4/SDCard_FS.c ****          }
1161:Generated_Source\PSoC4/SDCard_FS.c ****       }
1162:Generated_Source\PSoC4/SDCard_FS.c **** #else
1163:Generated_Source\PSoC4/SDCard_FS.c ****       // Save the new offset
1164:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[Fptr] = Offset;
1165:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileError[Fptr] &= ~SDCard_PRE;   // Clear the Parameter Range         
1166:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1167:Generated_Source\PSoC4/SDCard_FS.c ****       flag=SDCard_FileError[Fptr];      // Copy file errors to flag for return
 2591              		.loc 1 1167 0
 2592 00e2 FB1D     		adds	r3, r7, #7
 2593 00e4 1A78     		ldrb	r2, [r3]
 2594 00e6 1723     		movs	r3, #23
 2595 00e8 FB18     		adds	r3, r7, r3
 2596 00ea 0C49     		ldr	r1, .L149+28
 2597 00ec 8A5C     		ldrb	r2, [r1, r2]
 2598 00ee 1A70     		strb	r2, [r3]
 2599              	.L142:
1168:Generated_Source\PSoC4/SDCard_FS.c ****    }
1169:Generated_Source\PSoC4/SDCard_FS.c ****    return(flag);
 2600              		.loc 1 1169 0
 2601 00f0 1723     		movs	r3, #23
 2602 00f2 FB18     		adds	r3, r7, r3
 2603 00f4 1B78     		ldrb	r3, [r3]
1170:Generated_Source\PSoC4/SDCard_FS.c **** }
 2604              		.loc 1 1170 0
 2605 00f6 1800     		movs	r0, r3
 2606 00f8 BD46     		mov	sp, r7
 2607 00fa 06B0     		add	sp, sp, #24
 2608              		@ sp needed
 2609 00fc 80BD     		pop	{r7, pc}
 2610              	.L150:
 2611 00fe C046     		.align	2
 2612              	.L149:
 2613 0100 00000000 		.word	SDCard_ClusterSize
 2614 0104 00000000 		.word	SDCard_CurStart
 2615 0108 00000000 		.word	SDCard_CurSize
 2616 010c 00000000 		.word	SDCard_FileMode
 2617 0110 00000000 		.word	SDCard_CurFat
 2618 0114 00000000 		.word	SDCard_CurSect
 2619 0118 00000000 		.word	SDCard_CurOffset
 2620 011c 00000000 		.word	SDCard_FileError
 2621              		.cfi_endproc
 2622              	.LFE48:
 2623              		.size	SDCard_fseek, .-SDCard_fseek
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 68


 2624              		.section	.text.SDCard_Present,"ax",%progbits
 2625              		.align	2
 2626              		.global	SDCard_Present
 2627              		.code	16
 2628              		.thumb_func
 2629              		.type	SDCard_Present, %function
 2630              	SDCard_Present:
 2631              	.LFB49:
1171:Generated_Source\PSoC4/SDCard_FS.c **** 
1172:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1173:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Present(void)
1174:Generated_Source\PSoC4/SDCard_FS.c **** //
1175:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1176:Generated_Source\PSoC4/SDCard_FS.c **** //   Check if card is present.
1177:Generated_Source\PSoC4/SDCard_FS.c **** //
1178:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1179:Generated_Source\PSoC4/SDCard_FS.c **** //
1180:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1181:Generated_Source\PSoC4/SDCard_FS.c **** //
1182:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1183:Generated_Source\PSoC4/SDCard_FS.c **** //   1 => Card is present in the socket 
1184:Generated_Source\PSoC4/SDCard_FS.c **** //   0 => Card is not present in the socket 
1185:Generated_Source\PSoC4/SDCard_FS.c **** //
1186:Generated_Source\PSoC4/SDCard_FS.c **** //
1187:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1188:Generated_Source\PSoC4/SDCard_FS.c **** //
1189:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1190:Generated_Source\PSoC4/SDCard_FS.c **** //
1191:Generated_Source\PSoC4/SDCard_FS.c **** //
1192:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1193:Generated_Source\PSoC4/SDCard_FS.c **** #if (SDCard_ENABLE_PRESENT )
1194:Generated_Source\PSoC4/SDCard_FS.c **** 
1195:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Present(void)
1196:Generated_Source\PSoC4/SDCard_FS.c **** {
 2632              		.loc 1 1196 0
 2633              		.cfi_startproc
 2634              		@ args = 0, pretend = 0, frame = 8
 2635              		@ frame_needed = 1, uses_anonymous_args = 0
 2636 0000 80B5     		push	{r7, lr}
 2637              		.cfi_def_cfa_offset 8
 2638              		.cfi_offset 7, -8
 2639              		.cfi_offset 14, -4
 2640 0002 82B0     		sub	sp, sp, #8
 2641              		.cfi_def_cfa_offset 16
 2642 0004 00AF     		add	r7, sp, #0
 2643              		.cfi_def_cfa_register 7
1197:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   CardIn;
1198:Generated_Source\PSoC4/SDCard_FS.c ****    CardIn = 0;   // Default, card is not present
 2644              		.loc 1 1198 0
 2645 0006 FB1D     		adds	r3, r7, #7
 2646 0008 0022     		movs	r2, #0
 2647 000a 1A70     		strb	r2, [r3]
1199:Generated_Source\PSoC4/SDCard_FS.c **** 
1200:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_CPPort & SDCard_CPMask) == 0) {     // Looks like card is present...
 2648              		.loc 1 1200 0
 2649 000c FFF7FEFF 		bl	SDCard_SD_CD_Read
 2650 0010 0300     		movs	r3, r0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 69


 2651 0012 1A00     		movs	r2, r3
 2652 0014 0123     		movs	r3, #1
 2653 0016 1340     		ands	r3, r2
 2654 0018 0BD1     		bne	.L152
1201:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Wait();                                        // Wait for debounce
 2655              		.loc 1 1201 0
 2656 001a FFF7FEFF 		bl	SDCard_Wait
1202:Generated_Source\PSoC4/SDCard_FS.c ****       if((SDCard_CPPort & SDCard_CPMask) == 0) {  // Double check if card is still there
 2657              		.loc 1 1202 0
 2658 001e FFF7FEFF 		bl	SDCard_SD_CD_Read
 2659 0022 0300     		movs	r3, r0
 2660 0024 1A00     		movs	r2, r3
 2661 0026 0123     		movs	r3, #1
 2662 0028 1340     		ands	r3, r2
 2663 002a 02D1     		bne	.L152
1203:Generated_Source\PSoC4/SDCard_FS.c ****          CardIn = 1;                                                  // Card is installed
 2664              		.loc 1 1203 0
 2665 002c FB1D     		adds	r3, r7, #7
 2666 002e 0122     		movs	r2, #1
 2667 0030 1A70     		strb	r2, [r3]
 2668              	.L152:
1204:Generated_Source\PSoC4/SDCard_FS.c ****       }
1205:Generated_Source\PSoC4/SDCard_FS.c ****    }
1206:Generated_Source\PSoC4/SDCard_FS.c **** 
1207:Generated_Source\PSoC4/SDCard_FS.c ****    return(CardIn);        // return card status
 2669              		.loc 1 1207 0
 2670 0032 FB1D     		adds	r3, r7, #7
 2671 0034 1B78     		ldrb	r3, [r3]
1208:Generated_Source\PSoC4/SDCard_FS.c **** }
 2672              		.loc 1 1208 0
 2673 0036 1800     		movs	r0, r3
 2674 0038 BD46     		mov	sp, r7
 2675 003a 02B0     		add	sp, sp, #8
 2676              		@ sp needed
 2677 003c 80BD     		pop	{r7, pc}
 2678              		.cfi_endproc
 2679              	.LFE49:
 2680              		.size	SDCard_Present, .-SDCard_Present
 2681 003e C046     		.section	.text.SDCard_WriteProtect,"ax",%progbits
 2682              		.align	2
 2683              		.global	SDCard_WriteProtect
 2684              		.code	16
 2685              		.thumb_func
 2686              		.type	SDCard_WriteProtect, %function
 2687              	SDCard_WriteProtect:
 2688              	.LFB50:
1209:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1210:Generated_Source\PSoC4/SDCard_FS.c **** 
1211:Generated_Source\PSoC4/SDCard_FS.c **** 
1212:Generated_Source\PSoC4/SDCard_FS.c **** 
1213:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1214:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_WriteProtect(void)
1215:Generated_Source\PSoC4/SDCard_FS.c **** //
1216:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1217:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns write protect status.
1218:Generated_Source\PSoC4/SDCard_FS.c **** //
1219:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 70


1220:Generated_Source\PSoC4/SDCard_FS.c **** //
1221:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
1222:Generated_Source\PSoC4/SDCard_FS.c **** //
1223:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1224:Generated_Source\PSoC4/SDCard_FS.c **** //    1 => Card is write protected.
1225:Generated_Source\PSoC4/SDCard_FS.c **** //    0 => Card is not write protected.
1226:Generated_Source\PSoC4/SDCard_FS.c **** //
1227:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1228:Generated_Source\PSoC4/SDCard_FS.c **** //
1229:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1230:Generated_Source\PSoC4/SDCard_FS.c **** //
1231:Generated_Source\PSoC4/SDCard_FS.c **** //
1232:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1233:Generated_Source\PSoC4/SDCard_FS.c **** #if (SDCard_ENABLE_WPROTECT)
1234:Generated_Source\PSoC4/SDCard_FS.c **** 
1235:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_WriteProtect(void)
1236:Generated_Source\PSoC4/SDCard_FS.c **** {
 2689              		.loc 1 1236 0
 2690              		.cfi_startproc
 2691              		@ args = 0, pretend = 0, frame = 8
 2692              		@ frame_needed = 1, uses_anonymous_args = 0
 2693 0000 80B5     		push	{r7, lr}
 2694              		.cfi_def_cfa_offset 8
 2695              		.cfi_offset 7, -8
 2696              		.cfi_offset 14, -4
 2697 0002 82B0     		sub	sp, sp, #8
 2698              		.cfi_def_cfa_offset 16
 2699 0004 00AF     		add	r7, sp, #0
 2700              		.cfi_def_cfa_register 7
1237:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   wProtect;
1238:Generated_Source\PSoC4/SDCard_FS.c ****    wProtect = 0;   // Default, card is not write protected.
 2701              		.loc 1 1238 0
 2702 0006 FB1D     		adds	r3, r7, #7
 2703 0008 0022     		movs	r2, #0
 2704 000a 1A70     		strb	r2, [r3]
1239:Generated_Source\PSoC4/SDCard_FS.c **** 
1240:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_WPPort & SDCard_WPMask) != 0) {     // Looks like card is write protected...
 2705              		.loc 1 1240 0
 2706 000c FFF7FEFF 		bl	SDCard_SD_WP_Read
 2707 0010 0300     		movs	r3, r0
 2708 0012 1A00     		movs	r2, r3
 2709 0014 0123     		movs	r3, #1
 2710 0016 1340     		ands	r3, r2
 2711 0018 0BD0     		beq	.L155
1241:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Wait();                                        // Wait for debounce
 2712              		.loc 1 1241 0
 2713 001a FFF7FEFF 		bl	SDCard_Wait
1242:Generated_Source\PSoC4/SDCard_FS.c ****       if((SDCard_WPPort & SDCard_WPMask) != 0) {  // Double check write protect is still present
 2714              		.loc 1 1242 0
 2715 001e FFF7FEFF 		bl	SDCard_SD_WP_Read
 2716 0022 0300     		movs	r3, r0
 2717 0024 1A00     		movs	r2, r3
 2718 0026 0123     		movs	r3, #1
 2719 0028 1340     		ands	r3, r2
 2720 002a 02D0     		beq	.L155
1243:Generated_Source\PSoC4/SDCard_FS.c ****          wProtect = 1;                                                // Card is Write protected
 2721              		.loc 1 1243 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 71


 2722 002c FB1D     		adds	r3, r7, #7
 2723 002e 0122     		movs	r2, #1
 2724 0030 1A70     		strb	r2, [r3]
 2725              	.L155:
1244:Generated_Source\PSoC4/SDCard_FS.c ****       }
1245:Generated_Source\PSoC4/SDCard_FS.c ****    }
1246:Generated_Source\PSoC4/SDCard_FS.c **** 
1247:Generated_Source\PSoC4/SDCard_FS.c ****    return(wProtect);        // return write protect status
 2726              		.loc 1 1247 0
 2727 0032 FB1D     		adds	r3, r7, #7
 2728 0034 1B78     		ldrb	r3, [r3]
1248:Generated_Source\PSoC4/SDCard_FS.c **** }
 2729              		.loc 1 1248 0
 2730 0036 1800     		movs	r0, r3
 2731 0038 BD46     		mov	sp, r7
 2732 003a 02B0     		add	sp, sp, #8
 2733              		@ sp needed
 2734 003c 80BD     		pop	{r7, pc}
 2735              		.cfi_endproc
 2736              	.LFE50:
 2737              		.size	SDCard_WriteProtect, .-SDCard_WriteProtect
 2738 003e C046     		.section	.text.SDCard_GetFileCount,"ax",%progbits
 2739              		.align	2
 2740              		.global	SDCard_GetFileCount
 2741              		.code	16
 2742              		.thumb_func
 2743              		.type	SDCard_GetFileCount, %function
 2744              	SDCard_GetFileCount:
 2745              	.LFB51:
1249:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1250:Generated_Source\PSoC4/SDCard_FS.c **** 
1251:Generated_Source\PSoC4/SDCard_FS.c **** 
1252:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1253:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uint SDCard_GetFileCount(void)
1254:Generated_Source\PSoC4/SDCard_FS.c **** //
1255:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1256:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns the number of valid files in the directory
1257:Generated_Source\PSoC4/SDCard_FS.c **** //
1258:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1259:Generated_Source\PSoC4/SDCard_FS.c **** //
1260:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1261:Generated_Source\PSoC4/SDCard_FS.c **** //
1262:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1263:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the valid file count in the root directory.
1264:Generated_Source\PSoC4/SDCard_FS.c **** //
1265:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1266:Generated_Source\PSoC4/SDCard_FS.c **** //
1267:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1268:Generated_Source\PSoC4/SDCard_FS.c **** //
1269:Generated_Source\PSoC4/SDCard_FS.c **** //
1270:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1271:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1272:Generated_Source\PSoC4/SDCard_FS.c **** 
1273:Generated_Source\PSoC4/SDCard_FS.c **** uint SDCard_GetFileCount(void)
1274:Generated_Source\PSoC4/SDCard_FS.c **** {
 2746              		.loc 1 1274 0
 2747              		.cfi_startproc
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 72


 2748              		@ args = 0, pretend = 0, frame = 0
 2749              		@ frame_needed = 1, uses_anonymous_args = 0
 2750 0000 80B5     		push	{r7, lr}
 2751              		.cfi_def_cfa_offset 8
 2752              		.cfi_offset 7, -8
 2753              		.cfi_offset 14, -4
 2754 0002 00AF     		add	r7, sp, #0
 2755              		.cfi_def_cfa_register 7
1275:Generated_Source\PSoC4/SDCard_FS.c ****    // Call FindFile with invalid file number and illegal file pointer, does not update file info,
1276:Generated_Source\PSoC4/SDCard_FS.c ****    // and when no match is found the total number of valid files is returned as a default.
1277:Generated_Source\PSoC4/SDCard_FS.c ****    
1278:Generated_Source\PSoC4/SDCard_FS.c ****    return(SDCard_FindFile(SDCard_MAXFILES, 0xFFFE));   // Return number of valid files found
 2756              		.loc 1 1278 0
 2757 0004 044B     		ldr	r3, .L159
 2758 0006 1900     		movs	r1, r3
 2759 0008 0220     		movs	r0, #2
 2760 000a FFF7FEFF 		bl	SDCard_FindFile
 2761 000e 0300     		movs	r3, r0
1279:Generated_Source\PSoC4/SDCard_FS.c **** }
 2762              		.loc 1 1279 0
 2763 0010 1800     		movs	r0, r3
 2764 0012 BD46     		mov	sp, r7
 2765              		@ sp needed
 2766 0014 80BD     		pop	{r7, pc}
 2767              	.L160:
 2768 0016 C046     		.align	2
 2769              	.L159:
 2770 0018 FEFF0000 		.word	65534
 2771              		.cfi_endproc
 2772              	.LFE51:
 2773              		.size	SDCard_GetFileCount, .-SDCard_GetFileCount
 2774              		.section	.text.SDCard_GetFileSize,"ax",%progbits
 2775              		.align	2
 2776              		.global	SDCard_GetFileSize
 2777              		.code	16
 2778              		.thumb_func
 2779              		.type	SDCard_GetFileSize, %function
 2780              	SDCard_GetFileSize:
 2781              	.LFB52:
1280:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1281:Generated_Source\PSoC4/SDCard_FS.c **** 
1282:Generated_Source\PSoC4/SDCard_FS.c **** 
1283:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1284:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_GetFileSize(uchar Fptr)
1285:Generated_Source\PSoC4/SDCard_FS.c **** //
1286:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1287:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns the size of the file pointed to,  zero means an error occurred
1288:Generated_Source\PSoC4/SDCard_FS.c **** //
1289:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1290:Generated_Source\PSoC4/SDCard_FS.c **** //
1291:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1292:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
1293:Generated_Source\PSoC4/SDCard_FS.c **** //
1294:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1295:Generated_Source\PSoC4/SDCard_FS.c **** //    0 => Error
1296:Generated_Source\PSoC4/SDCard_FS.c **** //    Size of file pointed to by Fptr
1297:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 73


1298:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1299:Generated_Source\PSoC4/SDCard_FS.c **** //
1300:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1301:Generated_Source\PSoC4/SDCard_FS.c **** //
1302:Generated_Source\PSoC4/SDCard_FS.c **** //
1303:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1304:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1305:Generated_Source\PSoC4/SDCard_FS.c **** 
1306:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_GetFileSize(uchar Fptr)
1307:Generated_Source\PSoC4/SDCard_FS.c **** {
 2782              		.loc 1 1307 0
 2783              		.cfi_startproc
 2784              		@ args = 0, pretend = 0, frame = 16
 2785              		@ frame_needed = 1, uses_anonymous_args = 0
 2786 0000 80B5     		push	{r7, lr}
 2787              		.cfi_def_cfa_offset 8
 2788              		.cfi_offset 7, -8
 2789              		.cfi_offset 14, -4
 2790 0002 84B0     		sub	sp, sp, #16
 2791              		.cfi_def_cfa_offset 24
 2792 0004 00AF     		add	r7, sp, #0
 2793              		.cfi_def_cfa_register 7
 2794 0006 0200     		movs	r2, r0
 2795 0008 FB1D     		adds	r3, r7, #7
 2796 000a 1A70     		strb	r2, [r3]
1308:Generated_Source\PSoC4/SDCard_FS.c ****    // Returns the size of the file pointed to,  zero means an error occurred
1309:Generated_Source\PSoC4/SDCard_FS.c ****    
1310:Generated_Source\PSoC4/SDCard_FS.c ****    ulong size=0;                  // Temp variable for size (Set to failure condition)
 2797              		.loc 1 1310 0
 2798 000c 0023     		movs	r3, #0
 2799 000e FB60     		str	r3, [r7, #12]
1311:Generated_Source\PSoC4/SDCard_FS.c ****    
1312:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)              // Is the file pointer valid?
 2800              		.loc 1 1312 0
 2801 0010 FB1D     		adds	r3, r7, #7
 2802 0012 1B78     		ldrb	r3, [r3]
 2803 0014 012B     		cmp	r3, #1
 2804 0016 05D8     		bhi	.L162
1313:Generated_Source\PSoC4/SDCard_FS.c ****       size=SDCard_CurSize[Fptr];         // Yes, get size value
 2805              		.loc 1 1313 0
 2806 0018 FB1D     		adds	r3, r7, #7
 2807 001a 1A78     		ldrb	r2, [r3]
 2808 001c 044B     		ldr	r3, .L164
 2809 001e 9200     		lsls	r2, r2, #2
 2810 0020 D358     		ldr	r3, [r2, r3]
 2811 0022 FB60     		str	r3, [r7, #12]
 2812              	.L162:
1314:Generated_Source\PSoC4/SDCard_FS.c ****    
1315:Generated_Source\PSoC4/SDCard_FS.c ****    return(size);                  // Return size of file
 2813              		.loc 1 1315 0
 2814 0024 FB68     		ldr	r3, [r7, #12]
1316:Generated_Source\PSoC4/SDCard_FS.c **** }
 2815              		.loc 1 1316 0
 2816 0026 1800     		movs	r0, r3
 2817 0028 BD46     		mov	sp, r7
 2818 002a 04B0     		add	sp, sp, #16
 2819              		@ sp needed
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 74


 2820 002c 80BD     		pop	{r7, pc}
 2821              	.L165:
 2822 002e C046     		.align	2
 2823              	.L164:
 2824 0030 00000000 		.word	SDCard_CurSize
 2825              		.cfi_endproc
 2826              	.LFE52:
 2827              		.size	SDCard_GetFileSize, .-SDCard_GetFileSize
 2828              		.section	.text.SDCard_clearerr,"ax",%progbits
 2829              		.align	2
 2830              		.global	SDCard_clearerr
 2831              		.code	16
 2832              		.thumb_func
 2833              		.type	SDCard_clearerr, %function
 2834              	SDCard_clearerr:
 2835              	.LFB53:
1317:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1318:Generated_Source\PSoC4/SDCard_FS.c **** 
1319:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1320:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_clearerr(uchar Fptr)
1321:Generated_Source\PSoC4/SDCard_FS.c **** //
1322:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1323:Generated_Source\PSoC4/SDCard_FS.c **** //   Clear the error flags for the given file.
1324:Generated_Source\PSoC4/SDCard_FS.c **** //
1325:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1326:Generated_Source\PSoC4/SDCard_FS.c **** //
1327:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1328:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
1329:Generated_Source\PSoC4/SDCard_FS.c **** //
1330:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
1331:Generated_Source\PSoC4/SDCard_FS.c **** //
1332:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1333:Generated_Source\PSoC4/SDCard_FS.c **** //
1334:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1335:Generated_Source\PSoC4/SDCard_FS.c **** //
1336:Generated_Source\PSoC4/SDCard_FS.c **** //
1337:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1338:Generated_Source\PSoC4/SDCard_FS.c **** 
1339:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_clearerr(uchar Fptr)
1340:Generated_Source\PSoC4/SDCard_FS.c **** {
 2836              		.loc 1 1340 0
 2837              		.cfi_startproc
 2838              		@ args = 0, pretend = 0, frame = 8
 2839              		@ frame_needed = 1, uses_anonymous_args = 0
 2840 0000 80B5     		push	{r7, lr}
 2841              		.cfi_def_cfa_offset 8
 2842              		.cfi_offset 7, -8
 2843              		.cfi_offset 14, -4
 2844 0002 82B0     		sub	sp, sp, #8
 2845              		.cfi_def_cfa_offset 16
 2846 0004 00AF     		add	r7, sp, #0
 2847              		.cfi_def_cfa_register 7
 2848 0006 0200     		movs	r2, r0
 2849 0008 FB1D     		adds	r3, r7, #7
 2850 000a 1A70     		strb	r2, [r3]
1341:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)               // Is this a valid file pointer?
 2851              		.loc 1 1341 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 75


 2852 000c FB1D     		adds	r3, r7, #7
 2853 000e 1B78     		ldrb	r3, [r3]
 2854 0010 012B     		cmp	r3, #1
 2855 0012 04D8     		bhi	.L168
1342:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileError[Fptr]=0;           // Yes, clear file error flags
 2856              		.loc 1 1342 0
 2857 0014 FB1D     		adds	r3, r7, #7
 2858 0016 1B78     		ldrb	r3, [r3]
 2859 0018 034A     		ldr	r2, .L169
 2860 001a 0021     		movs	r1, #0
 2861 001c D154     		strb	r1, [r2, r3]
 2862              	.L168:
1343:Generated_Source\PSoC4/SDCard_FS.c **** }
 2863              		.loc 1 1343 0
 2864 001e C046     		nop
 2865 0020 BD46     		mov	sp, r7
 2866 0022 02B0     		add	sp, sp, #8
 2867              		@ sp needed
 2868 0024 80BD     		pop	{r7, pc}
 2869              	.L170:
 2870 0026 C046     		.align	2
 2871              	.L169:
 2872 0028 00000000 		.word	SDCard_FileError
 2873              		.cfi_endproc
 2874              	.LFE53:
 2875              		.size	SDCard_clearerr, .-SDCard_clearerr
 2876              		.section	.text.SDCard_feof,"ax",%progbits
 2877              		.align	2
 2878              		.global	SDCard_feof
 2879              		.code	16
 2880              		.thumb_func
 2881              		.type	SDCard_feof, %function
 2882              	SDCard_feof:
 2883              	.LFB54:
1344:Generated_Source\PSoC4/SDCard_FS.c **** 
1345:Generated_Source\PSoC4/SDCard_FS.c **** 
1346:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1347:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_feof(uchar Fptr)
1348:Generated_Source\PSoC4/SDCard_FS.c **** //
1349:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1350:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns a zero for no EOF, non-zero for EOF (End Of File)
1351:Generated_Source\PSoC4/SDCard_FS.c **** //
1352:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1353:Generated_Source\PSoC4/SDCard_FS.c **** //
1354:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1355:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
1356:Generated_Source\PSoC4/SDCard_FS.c **** //
1357:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1358:Generated_Source\PSoC4/SDCard_FS.c **** //   zero     => No EOF, 
1359:Generated_Source\PSoC4/SDCard_FS.c **** //   non-zero => EOF (End Of File)
1360:Generated_Source\PSoC4/SDCard_FS.c **** //
1361:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1362:Generated_Source\PSoC4/SDCard_FS.c **** //
1363:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1364:Generated_Source\PSoC4/SDCard_FS.c **** //
1365:Generated_Source\PSoC4/SDCard_FS.c **** //
1366:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 76


1367:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1368:Generated_Source\PSoC4/SDCard_FS.c **** 
1369:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_feof(uchar Fptr)
1370:Generated_Source\PSoC4/SDCard_FS.c **** {
 2884              		.loc 1 1370 0
 2885              		.cfi_startproc
 2886              		@ args = 0, pretend = 0, frame = 16
 2887              		@ frame_needed = 1, uses_anonymous_args = 0
 2888 0000 80B5     		push	{r7, lr}
 2889              		.cfi_def_cfa_offset 8
 2890              		.cfi_offset 7, -8
 2891              		.cfi_offset 14, -4
 2892 0002 84B0     		sub	sp, sp, #16
 2893              		.cfi_def_cfa_offset 24
 2894 0004 00AF     		add	r7, sp, #0
 2895              		.cfi_def_cfa_register 7
 2896 0006 0200     		movs	r2, r0
 2897 0008 FB1D     		adds	r3, r7, #7
 2898 000a 1A70     		strb	r2, [r3]
1371:Generated_Source\PSoC4/SDCard_FS.c ****    // Returns a zero for no EOF, non-zero for EOF (End Of File)
1372:Generated_Source\PSoC4/SDCard_FS.c ****    
1373:Generated_Source\PSoC4/SDCard_FS.c ****    uchar flag=SDCard_EOF;                 // Temp flag variable
 2899              		.loc 1 1373 0
 2900 000c 0F23     		movs	r3, #15
 2901 000e FB18     		adds	r3, r7, r3
 2902 0010 8022     		movs	r2, #128
 2903 0012 1A70     		strb	r2, [r3]
1374:Generated_Source\PSoC4/SDCard_FS.c ****    
1375:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)               // Is this a valid file pointer?
 2904              		.loc 1 1375 0
 2905 0014 FB1D     		adds	r3, r7, #7
 2906 0016 1B78     		ldrb	r3, [r3]
 2907 0018 012B     		cmp	r3, #1
 2908 001a 08D8     		bhi	.L172
1376:Generated_Source\PSoC4/SDCard_FS.c ****       flag=SDCard_FileError[Fptr]&SDCard_EOF;    // Yes, get EOF flag
 2909              		.loc 1 1376 0
 2910 001c FB1D     		adds	r3, r7, #7
 2911 001e 1B78     		ldrb	r3, [r3]
 2912 0020 064A     		ldr	r2, .L174
 2913 0022 D25C     		ldrb	r2, [r2, r3]
 2914 0024 0F23     		movs	r3, #15
 2915 0026 FB18     		adds	r3, r7, r3
 2916 0028 7F21     		movs	r1, #127
 2917 002a 8A43     		bics	r2, r1
 2918 002c 1A70     		strb	r2, [r3]
 2919              	.L172:
1377:Generated_Source\PSoC4/SDCard_FS.c ****       
1378:Generated_Source\PSoC4/SDCard_FS.c ****    return(flag);                   // Return EOF status
 2920              		.loc 1 1378 0
 2921 002e 0F23     		movs	r3, #15
 2922 0030 FB18     		adds	r3, r7, r3
 2923 0032 1B78     		ldrb	r3, [r3]
1379:Generated_Source\PSoC4/SDCard_FS.c **** }
 2924              		.loc 1 1379 0
 2925 0034 1800     		movs	r0, r3
 2926 0036 BD46     		mov	sp, r7
 2927 0038 04B0     		add	sp, sp, #16
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 77


 2928              		@ sp needed
 2929 003a 80BD     		pop	{r7, pc}
 2930              	.L175:
 2931              		.align	2
 2932              	.L174:
 2933 003c 00000000 		.word	SDCard_FileError
 2934              		.cfi_endproc
 2935              	.LFE54:
 2936              		.size	SDCard_feof, .-SDCard_feof
 2937              		.section	.text.SDCard_ferror,"ax",%progbits
 2938              		.align	2
 2939              		.global	SDCard_ferror
 2940              		.code	16
 2941              		.thumb_func
 2942              		.type	SDCard_ferror, %function
 2943              	SDCard_ferror:
 2944              	.LFB55:
1380:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1381:Generated_Source\PSoC4/SDCard_FS.c **** 
1382:Generated_Source\PSoC4/SDCard_FS.c **** 
1383:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1384:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_ferror(uchar Fptr)
1385:Generated_Source\PSoC4/SDCard_FS.c **** //
1386:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1387:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns error status.
1388:Generated_Source\PSoC4/SDCard_FS.c **** //
1389:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1390:Generated_Source\PSoC4/SDCard_FS.c **** //
1391:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1392:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
1393:Generated_Source\PSoC4/SDCard_FS.c **** //
1394:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1395:Generated_Source\PSoC4/SDCard_FS.c **** //   zero     => No error
1396:Generated_Source\PSoC4/SDCard_FS.c **** //   non-zero => Error type
1397:Generated_Source\PSoC4/SDCard_FS.c **** //
1398:Generated_Source\PSoC4/SDCard_FS.c **** //
1399:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1400:Generated_Source\PSoC4/SDCard_FS.c **** //
1401:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1402:Generated_Source\PSoC4/SDCard_FS.c **** //
1403:Generated_Source\PSoC4/SDCard_FS.c **** //
1404:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1405:Generated_Source\PSoC4/SDCard_FS.c **** 
1406:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_ferror(uchar Fptr)
1407:Generated_Source\PSoC4/SDCard_FS.c **** {
 2945              		.loc 1 1407 0
 2946              		.cfi_startproc
 2947              		@ args = 0, pretend = 0, frame = 16
 2948              		@ frame_needed = 1, uses_anonymous_args = 0
 2949 0000 80B5     		push	{r7, lr}
 2950              		.cfi_def_cfa_offset 8
 2951              		.cfi_offset 7, -8
 2952              		.cfi_offset 14, -4
 2953 0002 84B0     		sub	sp, sp, #16
 2954              		.cfi_def_cfa_offset 24
 2955 0004 00AF     		add	r7, sp, #0
 2956              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 78


 2957 0006 0200     		movs	r2, r0
 2958 0008 FB1D     		adds	r3, r7, #7
 2959 000a 1A70     		strb	r2, [r3]
1408:Generated_Source\PSoC4/SDCard_FS.c ****    
1409:Generated_Source\PSoC4/SDCard_FS.c ****    uchar flag=SDCard_FPE;                 // Temp error flag variable (Set failure)
 2960              		.loc 1 1409 0
 2961 000c 0F23     		movs	r3, #15
 2962 000e FB18     		adds	r3, r7, r3
 2963 0010 2022     		movs	r2, #32
 2964 0012 1A70     		strb	r2, [r3]
1410:Generated_Source\PSoC4/SDCard_FS.c ****    
1411:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)               // Is this a valid file pointer?
 2965              		.loc 1 1411 0
 2966 0014 FB1D     		adds	r3, r7, #7
 2967 0016 1B78     		ldrb	r3, [r3]
 2968 0018 012B     		cmp	r3, #1
 2969 001a 06D8     		bhi	.L177
1412:Generated_Source\PSoC4/SDCard_FS.c ****       flag=SDCard_FileError[Fptr];        // Yes, get flags
 2970              		.loc 1 1412 0
 2971 001c FB1D     		adds	r3, r7, #7
 2972 001e 1A78     		ldrb	r2, [r3]
 2973 0020 0F23     		movs	r3, #15
 2974 0022 FB18     		adds	r3, r7, r3
 2975 0024 0449     		ldr	r1, .L179
 2976 0026 8A5C     		ldrb	r2, [r1, r2]
 2977 0028 1A70     		strb	r2, [r3]
 2978              	.L177:
1413:Generated_Source\PSoC4/SDCard_FS.c ****       
1414:Generated_Source\PSoC4/SDCard_FS.c ****    return(flag);                   // Return file error status
 2979              		.loc 1 1414 0
 2980 002a 0F23     		movs	r3, #15
 2981 002c FB18     		adds	r3, r7, r3
 2982 002e 1B78     		ldrb	r3, [r3]
1415:Generated_Source\PSoC4/SDCard_FS.c **** }
 2983              		.loc 1 1415 0
 2984 0030 1800     		movs	r0, r3
 2985 0032 BD46     		mov	sp, r7
 2986 0034 04B0     		add	sp, sp, #16
 2987              		@ sp needed
 2988 0036 80BD     		pop	{r7, pc}
 2989              	.L180:
 2990              		.align	2
 2991              	.L179:
 2992 0038 00000000 		.word	SDCard_FileError
 2993              		.cfi_endproc
 2994              	.LFE55:
 2995              		.size	SDCard_ferror, .-SDCard_ferror
 2996              		.section	.text.SDCard_ftell,"ax",%progbits
 2997              		.align	2
 2998              		.global	SDCard_ftell
 2999              		.code	16
 3000              		.thumb_func
 3001              		.type	SDCard_ftell, %function
 3002              	SDCard_ftell:
 3003              	.LFB56:
1416:Generated_Source\PSoC4/SDCard_FS.c **** 
1417:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 79


1418:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1419:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_ftell(uchar Fptr)
1420:Generated_Source\PSoC4/SDCard_FS.c **** //
1421:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1422:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns file position offset value of the next character to read
1423:Generated_Source\PSoC4/SDCard_FS.c **** //
1424:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1425:Generated_Source\PSoC4/SDCard_FS.c **** //
1426:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1427:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
1428:Generated_Source\PSoC4/SDCard_FS.c **** //
1429:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1430:Generated_Source\PSoC4/SDCard_FS.c **** //    Position in file of next character to be read.
1431:Generated_Source\PSoC4/SDCard_FS.c **** //
1432:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1433:Generated_Source\PSoC4/SDCard_FS.c **** //
1434:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1435:Generated_Source\PSoC4/SDCard_FS.c **** //
1436:Generated_Source\PSoC4/SDCard_FS.c **** //
1437:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1438:Generated_Source\PSoC4/SDCard_FS.c **** 
1439:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_ftell(uchar Fptr)
1440:Generated_Source\PSoC4/SDCard_FS.c **** {
 3004              		.loc 1 1440 0
 3005              		.cfi_startproc
 3006              		@ args = 0, pretend = 0, frame = 16
 3007              		@ frame_needed = 1, uses_anonymous_args = 0
 3008 0000 80B5     		push	{r7, lr}
 3009              		.cfi_def_cfa_offset 8
 3010              		.cfi_offset 7, -8
 3011              		.cfi_offset 14, -4
 3012 0002 84B0     		sub	sp, sp, #16
 3013              		.cfi_def_cfa_offset 24
 3014 0004 00AF     		add	r7, sp, #0
 3015              		.cfi_def_cfa_register 7
 3016 0006 0200     		movs	r2, r0
 3017 0008 FB1D     		adds	r3, r7, #7
 3018 000a 1A70     		strb	r2, [r3]
1441:Generated_Source\PSoC4/SDCard_FS.c ****    ulong position=0xFFFFFFFF;       // Temp position variable (Set to failure condition)
 3019              		.loc 1 1441 0
 3020 000c 0123     		movs	r3, #1
 3021 000e 5B42     		rsbs	r3, r3, #0
 3022 0010 FB60     		str	r3, [r7, #12]
1442:Generated_Source\PSoC4/SDCard_FS.c ****    
1443:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)                // Is this a valid file pointer?
 3023              		.loc 1 1443 0
 3024 0012 FB1D     		adds	r3, r7, #7
 3025 0014 1B78     		ldrb	r3, [r3]
 3026 0016 012B     		cmp	r3, #1
 3027 0018 05D8     		bhi	.L182
1444:Generated_Source\PSoC4/SDCard_FS.c ****       position=SDCard_CurOffset[Fptr];     // Yes, Save position information      
 3028              		.loc 1 1444 0
 3029 001a FB1D     		adds	r3, r7, #7
 3030 001c 1A78     		ldrb	r2, [r3]
 3031 001e 044B     		ldr	r3, .L184
 3032 0020 9200     		lsls	r2, r2, #2
 3033 0022 D358     		ldr	r3, [r2, r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 80


 3034 0024 FB60     		str	r3, [r7, #12]
 3035              	.L182:
1445:Generated_Source\PSoC4/SDCard_FS.c ****       
1446:Generated_Source\PSoC4/SDCard_FS.c ****    return(position);                // Return file position (offset)
 3036              		.loc 1 1446 0
 3037 0026 FB68     		ldr	r3, [r7, #12]
1447:Generated_Source\PSoC4/SDCard_FS.c **** }
 3038              		.loc 1 1447 0
 3039 0028 1800     		movs	r0, r3
 3040 002a BD46     		mov	sp, r7
 3041 002c 04B0     		add	sp, sp, #16
 3042              		@ sp needed
 3043 002e 80BD     		pop	{r7, pc}
 3044              	.L185:
 3045              		.align	2
 3046              	.L184:
 3047 0030 00000000 		.word	SDCard_CurOffset
 3048              		.cfi_endproc
 3049              	.LFE56:
 3050              		.size	SDCard_ftell, .-SDCard_ftell
 3051              		.section	.rodata
 3052              		.align	2
 3053              	.LC80:
 3054 0028 7200     		.ascii	"r\000"
 3055              		.section	.text.SDCard_Remove,"ax",%progbits
 3056              		.align	2
 3057              		.global	SDCard_Remove
 3058              		.code	16
 3059              		.thumb_func
 3060              		.type	SDCard_Remove, %function
 3061              	SDCard_Remove:
 3062              	.LFB57:
1448:Generated_Source\PSoC4/SDCard_FS.c **** 
1449:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1450:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Remove(uchar * Filename)
1451:Generated_Source\PSoC4/SDCard_FS.c **** //
1452:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1453:Generated_Source\PSoC4/SDCard_FS.c **** //   Deletes the file from the directory and closes it
1454:Generated_Source\PSoC4/SDCard_FS.c **** //
1455:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1456:Generated_Source\PSoC4/SDCard_FS.c **** //
1457:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1458:Generated_Source\PSoC4/SDCard_FS.c **** //    Pointer to file name string.
1459:Generated_Source\PSoC4/SDCard_FS.c **** //
1460:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1461:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns status of file delete.
1462:Generated_Source\PSoC4/SDCard_FS.c **** //
1463:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1464:Generated_Source\PSoC4/SDCard_FS.c **** //
1465:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1466:Generated_Source\PSoC4/SDCard_FS.c **** //
1467:Generated_Source\PSoC4/SDCard_FS.c **** //
1468:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1469:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1470:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
1471:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILEREMOVE
1472:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 81


1473:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Remove(uchar * Filename)
1474:Generated_Source\PSoC4/SDCard_FS.c **** {
 3063              		.loc 1 1474 0
 3064              		.cfi_startproc
 3065              		@ args = 0, pretend = 0, frame = 16
 3066              		@ frame_needed = 1, uses_anonymous_args = 0
 3067 0000 90B5     		push	{r4, r7, lr}
 3068              		.cfi_def_cfa_offset 12
 3069              		.cfi_offset 4, -12
 3070              		.cfi_offset 7, -8
 3071              		.cfi_offset 14, -4
 3072 0002 85B0     		sub	sp, sp, #20
 3073              		.cfi_def_cfa_offset 32
 3074 0004 00AF     		add	r7, sp, #0
 3075              		.cfi_def_cfa_register 7
 3076 0006 7860     		str	r0, [r7, #4]
1475:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = SDCard_FAIL;            // Temp status (defaults to failed
 3077              		.loc 1 1475 0
 3078 0008 0F23     		movs	r3, #15
 3079 000a FB18     		adds	r3, r7, r3
 3080 000c AA22     		movs	r2, #170
 3081 000e 1A70     		strb	r2, [r3]
1476:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Fptr;                     // Temp file pointer
1477:Generated_Source\PSoC4/SDCard_FS.c ****    
1478:Generated_Source\PSoC4/SDCard_FS.c ****    Fptr = SDCard_fopen(Filename, "r");   // Open file by filename for Read
 3082              		.loc 1 1478 0
 3083 0010 0E23     		movs	r3, #14
 3084 0012 FC18     		adds	r4, r7, r3
 3085 0014 154A     		ldr	r2, .L189
 3086 0016 7B68     		ldr	r3, [r7, #4]
 3087 0018 1100     		movs	r1, r2
 3088 001a 1800     		movs	r0, r3
 3089 001c FFF7FEFF 		bl	SDCard_fopen
 3090 0020 0300     		movs	r3, r0
 3091 0022 2370     		strb	r3, [r4]
1479:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr < SDCard_MAXFILES)               // Open sucessful?
 3092              		.loc 1 1479 0
 3093 0024 0E23     		movs	r3, #14
 3094 0026 FB18     		adds	r3, r7, r3
 3095 0028 1B78     		ldrb	r3, [r3]
 3096 002a 012B     		cmp	r3, #1
 3097 002c 16D8     		bhi	.L187
1480:Generated_Source\PSoC4/SDCard_FS.c ****    {
1481:Generated_Source\PSoC4/SDCard_FS.c ****                                      // Open Successful, delete file
1482:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_clearerr(Fptr);             // Clear error flags
 3098              		.loc 1 1482 0
 3099 002e 0E23     		movs	r3, #14
 3100 0030 FB18     		adds	r3, r7, r3
 3101 0032 1B78     		ldrb	r3, [r3]
 3102 0034 1800     		movs	r0, r3
 3103 0036 FFF7FEFF 		bl	SDCard_clearerr
1483:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FileZero(Fptr, 1);    // Call FileZero with the delete option selected
 3104              		.loc 1 1483 0
 3105 003a 0F23     		movs	r3, #15
 3106 003c FC18     		adds	r4, r7, r3
 3107 003e 0E23     		movs	r3, #14
 3108 0040 FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 82


 3109 0042 1B78     		ldrb	r3, [r3]
 3110 0044 0121     		movs	r1, #1
 3111 0046 1800     		movs	r0, r3
 3112 0048 FFF7FEFF 		bl	SDCard_FileZero
 3113 004c 0300     		movs	r3, r0
 3114 004e 2370     		strb	r3, [r4]
1484:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_fclose(Fptr);               // Close the file when finished
 3115              		.loc 1 1484 0
 3116 0050 0E23     		movs	r3, #14
 3117 0052 FB18     		adds	r3, r7, r3
 3118 0054 1B78     		ldrb	r3, [r3]
 3119 0056 1800     		movs	r0, r3
 3120 0058 FFF7FEFF 		bl	SDCard_fclose
 3121              	.L187:
1485:Generated_Source\PSoC4/SDCard_FS.c ****    }
1486:Generated_Source\PSoC4/SDCard_FS.c ****    
1487:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);                   // Return status of delete
 3122              		.loc 1 1487 0
 3123 005c 0F23     		movs	r3, #15
 3124 005e FB18     		adds	r3, r7, r3
 3125 0060 1B78     		ldrb	r3, [r3]
1488:Generated_Source\PSoC4/SDCard_FS.c **** }
 3126              		.loc 1 1488 0
 3127 0062 1800     		movs	r0, r3
 3128 0064 BD46     		mov	sp, r7
 3129 0066 05B0     		add	sp, sp, #20
 3130              		@ sp needed
 3131 0068 90BD     		pop	{r4, r7, pc}
 3132              	.L190:
 3133 006a C046     		.align	2
 3134              	.L189:
 3135 006c 28000000 		.word	.LC80
 3136              		.cfi_endproc
 3137              	.LFE57:
 3138              		.size	SDCard_Remove, .-SDCard_Remove
 3139              		.section	.text.SDCard_Rename,"ax",%progbits
 3140              		.align	2
 3141              		.global	SDCard_Rename
 3142              		.code	16
 3143              		.thumb_func
 3144              		.type	SDCard_Rename, %function
 3145              	SDCard_Rename:
 3146              	.LFB58:
1489:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1490:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1491:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1492:Generated_Source\PSoC4/SDCard_FS.c **** 
1493:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1494:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Rename(uchar * OldFilename, uchar * NewFilename)
1495:Generated_Source\PSoC4/SDCard_FS.c **** //
1496:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1497:Generated_Source\PSoC4/SDCard_FS.c **** //   Renames a file by altering the directory entry (changes buffer contents)
1498:Generated_Source\PSoC4/SDCard_FS.c **** //
1499:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1500:Generated_Source\PSoC4/SDCard_FS.c **** //
1501:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1502:Generated_Source\PSoC4/SDCard_FS.c **** //    OldFilename => Original file name.
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 83


1503:Generated_Source\PSoC4/SDCard_FS.c **** //    NewFilename => New file name.
1504:Generated_Source\PSoC4/SDCard_FS.c **** //
1505:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1506:Generated_Source\PSoC4/SDCard_FS.c **** //    Copy status  
1507:Generated_Source\PSoC4/SDCard_FS.c **** //
1508:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1509:Generated_Source\PSoC4/SDCard_FS.c **** //     Note: Filenames must be stored external to Buffer1 or Buffer2 (13 char each)
1510:Generated_Source\PSoC4/SDCard_FS.c **** //
1511:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1512:Generated_Source\PSoC4/SDCard_FS.c **** //
1513:Generated_Source\PSoC4/SDCard_FS.c **** //
1514:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1515:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1516:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
1517:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILERENAME
1518:Generated_Source\PSoC4/SDCard_FS.c **** 
1519:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Rename(uchar * OldFilename, uchar * NewFilename)
1520:Generated_Source\PSoC4/SDCard_FS.c **** {
 3147              		.loc 1 1520 0
 3148              		.cfi_startproc
 3149              		@ args = 0, pretend = 0, frame = 32
 3150              		@ frame_needed = 1, uses_anonymous_args = 0
 3151 0000 90B5     		push	{r4, r7, lr}
 3152              		.cfi_def_cfa_offset 12
 3153              		.cfi_offset 4, -12
 3154              		.cfi_offset 7, -8
 3155              		.cfi_offset 14, -4
 3156 0002 89B0     		sub	sp, sp, #36
 3157              		.cfi_def_cfa_offset 48
 3158 0004 00AF     		add	r7, sp, #0
 3159              		.cfi_def_cfa_register 7
 3160 0006 7860     		str	r0, [r7, #4]
 3161 0008 3960     		str	r1, [r7]
1521:Generated_Source\PSoC4/SDCard_FS.c ****    
1522:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;               // Temp loop counter
1523:Generated_Source\PSoC4/SDCard_FS.c ****    uchar status=0;        // Local status variable
 3162              		.loc 1 1523 0
 3163 000a 1E23     		movs	r3, #30
 3164 000c FB18     		adds	r3, r7, r3
 3165 000e 0022     		movs	r2, #0
 3166 0010 1A70     		strb	r2, [r3]
1524:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Fptr;            // Temp file pointer
1525:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;          // Temp Directory entry pointer
1526:Generated_Source\PSoC4/SDCard_FS.c ****    uchar xFilename[13];   // Temp filename as parse corrupts the original
1527:Generated_Source\PSoC4/SDCard_FS.c **** 
1528:Generated_Source\PSoC4/SDCard_FS.c ****    // Copy filename from Filename to xFilename (copy is modified to match DIR format)
1529:Generated_Source\PSoC4/SDCard_FS.c ****    x=0;
 3167              		.loc 1 1529 0
 3168 0012 1F23     		movs	r3, #31
 3169 0014 FB18     		adds	r3, r7, r3
 3170 0016 0022     		movs	r2, #0
 3171 0018 1A70     		strb	r2, [r3]
1530:Generated_Source\PSoC4/SDCard_FS.c ****    while(NewFilename[x]!=0)
 3172              		.loc 1 1530 0
 3173 001a 12E0     		b	.L192
 3174              	.L193:
1531:Generated_Source\PSoC4/SDCard_FS.c ****    {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 84


1532:Generated_Source\PSoC4/SDCard_FS.c ****       xFilename[x] = NewFilename[x];        // Copy the new filename string
 3175              		.loc 1 1532 0
 3176 001c 1F23     		movs	r3, #31
 3177 001e FB18     		adds	r3, r7, r3
 3178 0020 1B78     		ldrb	r3, [r3]
 3179 0022 1F22     		movs	r2, #31
 3180 0024 BA18     		adds	r2, r7, r2
 3181 0026 1278     		ldrb	r2, [r2]
 3182 0028 3968     		ldr	r1, [r7]
 3183 002a 8A18     		adds	r2, r1, r2
 3184 002c 1178     		ldrb	r1, [r2]
 3185 002e 0822     		movs	r2, #8
 3186 0030 BA18     		adds	r2, r7, r2
 3187 0032 D154     		strb	r1, [r2, r3]
1533:Generated_Source\PSoC4/SDCard_FS.c ****       x++;
 3188              		.loc 1 1533 0
 3189 0034 1F23     		movs	r3, #31
 3190 0036 FB18     		adds	r3, r7, r3
 3191 0038 1A78     		ldrb	r2, [r3]
 3192 003a 1F23     		movs	r3, #31
 3193 003c FB18     		adds	r3, r7, r3
 3194 003e 0132     		adds	r2, r2, #1
 3195 0040 1A70     		strb	r2, [r3]
 3196              	.L192:
1530:Generated_Source\PSoC4/SDCard_FS.c ****    while(NewFilename[x]!=0)
 3197              		.loc 1 1530 0
 3198 0042 1F23     		movs	r3, #31
 3199 0044 FB18     		adds	r3, r7, r3
 3200 0046 1B78     		ldrb	r3, [r3]
 3201 0048 3A68     		ldr	r2, [r7]
 3202 004a D318     		adds	r3, r2, r3
 3203 004c 1B78     		ldrb	r3, [r3]
 3204 004e 002B     		cmp	r3, #0
 3205 0050 E4D1     		bne	.L193
1534:Generated_Source\PSoC4/SDCard_FS.c ****    } 
1535:Generated_Source\PSoC4/SDCard_FS.c ****    xFilename[x] = 0;                        // Terminate the string
 3206              		.loc 1 1535 0
 3207 0052 1F23     		movs	r3, #31
 3208 0054 FB18     		adds	r3, r7, r3
 3209 0056 1B78     		ldrb	r3, [r3]
 3210 0058 0822     		movs	r2, #8
 3211 005a BA18     		adds	r2, r7, r2
 3212 005c 0021     		movs	r1, #0
 3213 005e D154     		strb	r1, [r2, r3]
1536:Generated_Source\PSoC4/SDCard_FS.c **** 
1537:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_ParseFilename(xFilename);       // Convert the copy of the new filename to 8x3 d
 3214              		.loc 1 1537 0
 3215 0060 1E23     		movs	r3, #30
 3216 0062 FC18     		adds	r4, r7, r3
 3217 0064 0823     		movs	r3, #8
 3218 0066 FB18     		adds	r3, r7, r3
 3219 0068 1800     		movs	r0, r3
 3220 006a FFF7FEFF 		bl	SDCard_ParseFilename
 3221 006e 0300     		movs	r3, r0
 3222 0070 2370     		strb	r3, [r4]
1538:Generated_Source\PSoC4/SDCard_FS.c ****    
1539:Generated_Source\PSoC4/SDCard_FS.c ****    if(status == 0)                          // If new filename is valid - proceed
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 85


 3223              		.loc 1 1539 0
 3224 0072 1E23     		movs	r3, #30
 3225 0074 FB18     		adds	r3, r7, r3
 3226 0076 1B78     		ldrb	r3, [r3]
 3227 0078 002B     		cmp	r3, #0
 3228 007a 5ED1     		bne	.L194
1540:Generated_Source\PSoC4/SDCard_FS.c ****    {
1541:Generated_Source\PSoC4/SDCard_FS.c ****       // Check to see if new filename already exists
1542:Generated_Source\PSoC4/SDCard_FS.c ****       Fptr = SDCard_fopen(NewFilename, "r");    // Open file by filename for Read to see if it alre
 3229              		.loc 1 1542 0
 3230 007c 1D23     		movs	r3, #29
 3231 007e FC18     		adds	r4, r7, r3
 3232 0080 314A     		ldr	r2, .L201
 3233 0082 3B68     		ldr	r3, [r7]
 3234 0084 1100     		movs	r1, r2
 3235 0086 1800     		movs	r0, r3
 3236 0088 FFF7FEFF 		bl	SDCard_fopen
 3237 008c 0300     		movs	r3, r0
 3238 008e 2370     		strb	r3, [r4]
1543:Generated_Source\PSoC4/SDCard_FS.c ****       if(Fptr==SDCard_MAXFILES)                    // Did the open succeed? No - then continue, Yes
 3239              		.loc 1 1543 0
 3240 0090 1D23     		movs	r3, #29
 3241 0092 FB18     		adds	r3, r7, r3
 3242 0094 1B78     		ldrb	r3, [r3]
 3243 0096 022B     		cmp	r3, #2
 3244 0098 45D1     		bne	.L195
1544:Generated_Source\PSoC4/SDCard_FS.c ****       {
1545:Generated_Source\PSoC4/SDCard_FS.c ****          // Now see if the old filename can be opened
1546:Generated_Source\PSoC4/SDCard_FS.c ****          Fptr = SDCard_fopen(OldFilename, "r"); // Open file by filename for Read
 3245              		.loc 1 1546 0
 3246 009a 1D23     		movs	r3, #29
 3247 009c FC18     		adds	r4, r7, r3
 3248 009e 2A4A     		ldr	r2, .L201
 3249 00a0 7B68     		ldr	r3, [r7, #4]
 3250 00a2 1100     		movs	r1, r2
 3251 00a4 1800     		movs	r0, r3
 3252 00a6 FFF7FEFF 		bl	SDCard_fopen
 3253 00aa 0300     		movs	r3, r0
 3254 00ac 2370     		strb	r3, [r4]
1547:Generated_Source\PSoC4/SDCard_FS.c ****          if(Fptr!=SDCard_MAXFILES)                 // Did the open succeed?
 3255              		.loc 1 1547 0
 3256 00ae 1D23     		movs	r3, #29
 3257 00b0 FB18     		adds	r3, r7, r3
 3258 00b2 1B78     		ldrb	r3, [r3]
 3259 00b4 022B     		cmp	r3, #2
 3260 00b6 31D0     		beq	.L196
1548:Generated_Source\PSoC4/SDCard_FS.c ****          {
1549:Generated_Source\PSoC4/SDCard_FS.c ****             // Yes, change the filename
1550:Generated_Source\PSoC4/SDCard_FS.c ****             Dptr = SDCard_ReadDirSect(Fptr);       // Read directory sector and return pointer to e
 3261              		.loc 1 1550 0
 3262 00b8 1D23     		movs	r3, #29
 3263 00ba FB18     		adds	r3, r7, r3
 3264 00bc 1B78     		ldrb	r3, [r3]
 3265 00be 1800     		movs	r0, r3
 3266 00c0 FFF7FEFF 		bl	SDCard_ReadDirSect
 3267 00c4 0300     		movs	r3, r0
 3268 00c6 BB61     		str	r3, [r7, #24]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 86


1551:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=0; x<11; x++)             // Copy the new filename over the old one
 3269              		.loc 1 1551 0
 3270 00c8 1F23     		movs	r3, #31
 3271 00ca FB18     		adds	r3, r7, r3
 3272 00cc 0022     		movs	r2, #0
 3273 00ce 1A70     		strb	r2, [r3]
 3274 00d0 12E0     		b	.L197
 3275              	.L198:
1552:Generated_Source\PSoC4/SDCard_FS.c ****                Dptr[x] = xFilename[x];
 3276              		.loc 1 1552 0 discriminator 3
 3277 00d2 1F23     		movs	r3, #31
 3278 00d4 FB18     		adds	r3, r7, r3
 3279 00d6 1B78     		ldrb	r3, [r3]
 3280 00d8 BA69     		ldr	r2, [r7, #24]
 3281 00da D318     		adds	r3, r2, r3
 3282 00dc 1F22     		movs	r2, #31
 3283 00de BA18     		adds	r2, r7, r2
 3284 00e0 1278     		ldrb	r2, [r2]
 3285 00e2 0821     		movs	r1, #8
 3286 00e4 7918     		adds	r1, r7, r1
 3287 00e6 8A5C     		ldrb	r2, [r1, r2]
 3288 00e8 1A70     		strb	r2, [r3]
1551:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=0; x<11; x++)             // Copy the new filename over the old one
 3289              		.loc 1 1551 0 discriminator 3
 3290 00ea 1F23     		movs	r3, #31
 3291 00ec FB18     		adds	r3, r7, r3
 3292 00ee 1A78     		ldrb	r2, [r3]
 3293 00f0 1F23     		movs	r3, #31
 3294 00f2 FB18     		adds	r3, r7, r3
 3295 00f4 0132     		adds	r2, r2, #1
 3296 00f6 1A70     		strb	r2, [r3]
 3297              	.L197:
1551:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=0; x<11; x++)             // Copy the new filename over the old one
 3298              		.loc 1 1551 0 is_stmt 0 discriminator 1
 3299 00f8 1F23     		movs	r3, #31
 3300 00fa FB18     		adds	r3, r7, r3
 3301 00fc 1B78     		ldrb	r3, [r3]
 3302 00fe 0A2B     		cmp	r3, #10
 3303 0100 E7D9     		bls	.L198
1553:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_WriteDirSect(Fptr);             // Write the directory sector back out
 3304              		.loc 1 1553 0 is_stmt 1
 3305 0102 1D23     		movs	r3, #29
 3306 0104 FB18     		adds	r3, r7, r3
 3307 0106 1B78     		ldrb	r3, [r3]
 3308 0108 1800     		movs	r0, r3
 3309 010a FFF7FEFF 		bl	SDCard_WriteDirSect
1554:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_fclose(Fptr);                // Close the file
 3310              		.loc 1 1554 0
 3311 010e 1D23     		movs	r3, #29
 3312 0110 FB18     		adds	r3, r7, r3
 3313 0112 1B78     		ldrb	r3, [r3]
 3314 0114 1800     		movs	r0, r3
 3315 0116 FFF7FEFF 		bl	SDCard_fclose
 3316 011a 0EE0     		b	.L194
 3317              	.L196:
1555:Generated_Source\PSoC4/SDCard_FS.c ****          }
1556:Generated_Source\PSoC4/SDCard_FS.c ****          else
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 87


1557:Generated_Source\PSoC4/SDCard_FS.c ****          {
1558:Generated_Source\PSoC4/SDCard_FS.c ****             // No, file open failed - file does not exist
1559:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;
 3318              		.loc 1 1559 0
 3319 011c 1E23     		movs	r3, #30
 3320 011e FB18     		adds	r3, r7, r3
 3321 0120 AA22     		movs	r2, #170
 3322 0122 1A70     		strb	r2, [r3]
 3323 0124 09E0     		b	.L194
 3324              	.L195:
1560:Generated_Source\PSoC4/SDCard_FS.c ****          }
1561:Generated_Source\PSoC4/SDCard_FS.c ****       }
1562:Generated_Source\PSoC4/SDCard_FS.c ****       else
1563:Generated_Source\PSoC4/SDCard_FS.c ****       {
1564:Generated_Source\PSoC4/SDCard_FS.c ****          // The file already exists - can't rename it
1565:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_fclose(Fptr);            // Close the file
 3325              		.loc 1 1565 0
 3326 0126 1D23     		movs	r3, #29
 3327 0128 FB18     		adds	r3, r7, r3
 3328 012a 1B78     		ldrb	r3, [r3]
 3329 012c 1800     		movs	r0, r3
 3330 012e FFF7FEFF 		bl	SDCard_fclose
1566:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;
 3331              		.loc 1 1566 0
 3332 0132 1E23     		movs	r3, #30
 3333 0134 FB18     		adds	r3, r7, r3
 3334 0136 AA22     		movs	r2, #170
 3335 0138 1A70     		strb	r2, [r3]
 3336              	.L194:
1567:Generated_Source\PSoC4/SDCard_FS.c ****       }
1568:Generated_Source\PSoC4/SDCard_FS.c ****    }
1569:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 3337              		.loc 1 1569 0
 3338 013a 1E23     		movs	r3, #30
 3339 013c FB18     		adds	r3, r7, r3
 3340 013e 1B78     		ldrb	r3, [r3]
1570:Generated_Source\PSoC4/SDCard_FS.c **** }
 3341              		.loc 1 1570 0
 3342 0140 1800     		movs	r0, r3
 3343 0142 BD46     		mov	sp, r7
 3344 0144 09B0     		add	sp, sp, #36
 3345              		@ sp needed
 3346 0146 90BD     		pop	{r4, r7, pc}
 3347              	.L202:
 3348              		.align	2
 3349              	.L201:
 3350 0148 28000000 		.word	.LC80
 3351              		.cfi_endproc
 3352              	.LFE58:
 3353              		.size	SDCard_Rename, .-SDCard_Rename
 3354              		.section	.rodata
 3355 002a 0000     		.align	2
 3356              	.LC84:
 3357 002c 7700     		.ascii	"w\000"
 3358              		.section	.text.SDCard_Copy,"ax",%progbits
 3359              		.align	2
 3360              		.global	SDCard_Copy
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 88


 3361              		.code	16
 3362              		.thumb_func
 3363              		.type	SDCard_Copy, %function
 3364              	SDCard_Copy:
 3365              	.LFB59:
1571:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1572:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1573:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1574:Generated_Source\PSoC4/SDCard_FS.c **** 
1575:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1576:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Copy(uchar * OldFilename, uchar * NewFilename)
1577:Generated_Source\PSoC4/SDCard_FS.c **** //
1578:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1579:Generated_Source\PSoC4/SDCard_FS.c **** //   Copies a file from old filename to new filename
1580:Generated_Source\PSoC4/SDCard_FS.c **** //
1581:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1582:Generated_Source\PSoC4/SDCard_FS.c **** //
1583:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1584:Generated_Source\PSoC4/SDCard_FS.c **** //    OldFilename => Original file name.
1585:Generated_Source\PSoC4/SDCard_FS.c **** //    NewFilename => Name of file copy.
1586:Generated_Source\PSoC4/SDCard_FS.c **** //
1587:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1588:Generated_Source\PSoC4/SDCard_FS.c **** //    Command status, pass or fail.
1589:Generated_Source\PSoC4/SDCard_FS.c **** //
1590:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1591:Generated_Source\PSoC4/SDCard_FS.c **** //     Note: Filenames must be stored external to Buffer1 or Buffer2 (13 char each)
1592:Generated_Source\PSoC4/SDCard_FS.c **** //
1593:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1594:Generated_Source\PSoC4/SDCard_FS.c **** //
1595:Generated_Source\PSoC4/SDCard_FS.c **** //
1596:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1597:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
1598:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
1599:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILECOPY
1600:Generated_Source\PSoC4/SDCard_FS.c **** 
1601:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Copy(uchar * OldFilename, uchar * NewFilename)
1602:Generated_Source\PSoC4/SDCard_FS.c **** {
 3366              		.loc 1 1602 0
 3367              		.cfi_startproc
 3368              		@ args = 0, pretend = 0, frame = 16
 3369              		@ frame_needed = 1, uses_anonymous_args = 0
 3370 0000 90B5     		push	{r4, r7, lr}
 3371              		.cfi_def_cfa_offset 12
 3372              		.cfi_offset 4, -12
 3373              		.cfi_offset 7, -8
 3374              		.cfi_offset 14, -4
 3375 0002 85B0     		sub	sp, sp, #20
 3376              		.cfi_def_cfa_offset 32
 3377 0004 00AF     		add	r7, sp, #0
 3378              		.cfi_def_cfa_register 7
 3379 0006 7860     		str	r0, [r7, #4]
 3380 0008 3960     		str	r1, [r7]
1603:Generated_Source\PSoC4/SDCard_FS.c ****    uchar status=0;                        // Local status variable
 3381              		.loc 1 1603 0
 3382 000a 0F23     		movs	r3, #15
 3383 000c FB18     		adds	r3, r7, r3
 3384 000e 0022     		movs	r2, #0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 89


 3385 0010 1A70     		strb	r2, [r3]
1604:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Fptr,Fptr2;                      // Temp file pointers
1605:Generated_Source\PSoC4/SDCard_FS.c **** 
1606:Generated_Source\PSoC4/SDCard_FS.c ****    Fptr = SDCard_fopen(OldFilename, "r");     // Open file by filename for Read
 3386              		.loc 1 1606 0
 3387 0012 0E23     		movs	r3, #14
 3388 0014 FC18     		adds	r4, r7, r3
 3389 0016 484A     		ldr	r2, .L211
 3390 0018 7B68     		ldr	r3, [r7, #4]
 3391 001a 1100     		movs	r1, r2
 3392 001c 1800     		movs	r0, r3
 3393 001e FFF7FEFF 		bl	SDCard_fopen
 3394 0022 0300     		movs	r3, r0
 3395 0024 2370     		strb	r3, [r4]
1607:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr < SDCard_MAXFILES)                    // Did the open succeed?
 3396              		.loc 1 1607 0
 3397 0026 0E23     		movs	r3, #14
 3398 0028 FB18     		adds	r3, r7, r3
 3399 002a 1B78     		ldrb	r3, [r3]
 3400 002c 012B     		cmp	r3, #1
 3401 002e 00D9     		bls	.LCB2941
 3402 0030 76E0     		b	.L204	@long jump
 3403              	.LCB2941:
1608:Generated_Source\PSoC4/SDCard_FS.c ****    {
1609:Generated_Source\PSoC4/SDCard_FS.c ****       // Yes, try to copy the file
1610:Generated_Source\PSoC4/SDCard_FS.c ****       Fptr2 = SDCard_fopen(NewFilename, "w"); // Open second file by filename for Write
 3404              		.loc 1 1610 0
 3405 0032 0D23     		movs	r3, #13
 3406 0034 FC18     		adds	r4, r7, r3
 3407 0036 414A     		ldr	r2, .L211+4
 3408 0038 3B68     		ldr	r3, [r7]
 3409 003a 1100     		movs	r1, r2
 3410 003c 1800     		movs	r0, r3
 3411 003e FFF7FEFF 		bl	SDCard_fopen
 3412 0042 0300     		movs	r3, r0
 3413 0044 2370     		strb	r3, [r4]
1611:Generated_Source\PSoC4/SDCard_FS.c ****       if(Fptr2 < SDCard_MAXFILES)                // Open successful?
 3414              		.loc 1 1611 0
 3415 0046 0D23     		movs	r3, #13
 3416 0048 FB18     		adds	r3, r7, r3
 3417 004a 1B78     		ldrb	r3, [r3]
 3418 004c 012B     		cmp	r3, #1
 3419 004e 56D8     		bhi	.L205
1612:Generated_Source\PSoC4/SDCard_FS.c ****       {
1613:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_clearerr(Fptr);               // Clear error flags
 3420              		.loc 1 1613 0
 3421 0050 0E23     		movs	r3, #14
 3422 0052 FB18     		adds	r3, r7, r3
 3423 0054 1B78     		ldrb	r3, [r3]
 3424 0056 1800     		movs	r0, r3
 3425 0058 FFF7FEFF 		bl	SDCard_clearerr
1614:Generated_Source\PSoC4/SDCard_FS.c **** 
1615:Generated_Source\PSoC4/SDCard_FS.c ****          // Add a new cluster to the zero length file created
1616:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_AddFat(Fptr2);                   // Add a FAT entry to the file
 3426              		.loc 1 1616 0
 3427 005c 0D23     		movs	r3, #13
 3428 005e FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 90


 3429 0060 1B78     		ldrb	r3, [r3]
 3430 0062 1800     		movs	r0, r3
 3431 0064 FFF7FEFF 		bl	SDCard_AddFat
1617:Generated_Source\PSoC4/SDCard_FS.c **** 
1618:Generated_Source\PSoC4/SDCard_FS.c ****          while(! SDCard_feof(Fptr))           // Check for end of input file
 3432              		.loc 1 1618 0
 3433 0068 36E0     		b	.L206
 3434              	.L207:
1619:Generated_Source\PSoC4/SDCard_FS.c ****          {
1620:Generated_Source\PSoC4/SDCard_FS.c ****             status=SDCard_ReadFileSect(Fptr);    // Read sector
 3435              		.loc 1 1620 0
 3436 006a 0F23     		movs	r3, #15
 3437 006c FC18     		adds	r4, r7, r3
 3438 006e 0E23     		movs	r3, #14
 3439 0070 FB18     		adds	r3, r7, r3
 3440 0072 1B78     		ldrb	r3, [r3]
 3441 0074 1800     		movs	r0, r3
 3442 0076 FFF7FEFF 		bl	SDCard_ReadFileSect
 3443 007a 0300     		movs	r3, r0
 3444 007c 2370     		strb	r3, [r4]
1621:Generated_Source\PSoC4/SDCard_FS.c ****             status=SDCard_WriteFileSect(Fptr2);  // Write sector
 3445              		.loc 1 1621 0
 3446 007e 0F23     		movs	r3, #15
 3447 0080 FC18     		adds	r4, r7, r3
 3448 0082 0D23     		movs	r3, #13
 3449 0084 FB18     		adds	r3, r7, r3
 3450 0086 1B78     		ldrb	r3, [r3]
 3451 0088 1800     		movs	r0, r3
 3452 008a FFF7FEFF 		bl	SDCard_WriteFileSect
 3453 008e 0300     		movs	r3, r0
 3454 0090 2370     		strb	r3, [r4]
1622:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSize[Fptr2]+= 512;         // Increment the file size
 3455              		.loc 1 1622 0
 3456 0092 0D23     		movs	r3, #13
 3457 0094 FB18     		adds	r3, r7, r3
 3458 0096 1A78     		ldrb	r2, [r3]
 3459 0098 0D23     		movs	r3, #13
 3460 009a FB18     		adds	r3, r7, r3
 3461 009c 1978     		ldrb	r1, [r3]
 3462 009e 284B     		ldr	r3, .L211+8
 3463 00a0 8900     		lsls	r1, r1, #2
 3464 00a2 CB58     		ldr	r3, [r1, r3]
 3465 00a4 8021     		movs	r1, #128
 3466 00a6 8900     		lsls	r1, r1, #2
 3467 00a8 5918     		adds	r1, r3, r1
 3468 00aa 254B     		ldr	r3, .L211+8
 3469 00ac 9200     		lsls	r2, r2, #2
 3470 00ae D150     		str	r1, [r2, r3]
1623:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_NextSect(Fptr);               // Advance to next read sector
 3471              		.loc 1 1623 0
 3472 00b0 0E23     		movs	r3, #14
 3473 00b2 FB18     		adds	r3, r7, r3
 3474 00b4 1B78     		ldrb	r3, [r3]
 3475 00b6 1800     		movs	r0, r3
 3476 00b8 FFF7FEFF 		bl	SDCard_NextSect
1624:Generated_Source\PSoC4/SDCard_FS.c ****             if(! SDCard_feof(Fptr))           // If not the end of file 1, get next file 2 sector
 3477              		.loc 1 1624 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 91


 3478 00bc 0E23     		movs	r3, #14
 3479 00be FB18     		adds	r3, r7, r3
 3480 00c0 1B78     		ldrb	r3, [r3]
 3481 00c2 1800     		movs	r0, r3
 3482 00c4 FFF7FEFF 		bl	SDCard_feof
 3483 00c8 031E     		subs	r3, r0, #0
 3484 00ca 05D1     		bne	.L206
1625:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_NextSect(Fptr2);           // Advance to next write sector
 3485              		.loc 1 1625 0
 3486 00cc 0D23     		movs	r3, #13
 3487 00ce FB18     		adds	r3, r7, r3
 3488 00d0 1B78     		ldrb	r3, [r3]
 3489 00d2 1800     		movs	r0, r3
 3490 00d4 FFF7FEFF 		bl	SDCard_NextSect
 3491              	.L206:
1618:Generated_Source\PSoC4/SDCard_FS.c ****          {
 3492              		.loc 1 1618 0
 3493 00d8 0E23     		movs	r3, #14
 3494 00da FB18     		adds	r3, r7, r3
 3495 00dc 1B78     		ldrb	r3, [r3]
 3496 00de 1800     		movs	r0, r3
 3497 00e0 FFF7FEFF 		bl	SDCard_feof
 3498 00e4 031E     		subs	r3, r0, #0
 3499 00e6 C0D0     		beq	.L207
1626:Generated_Source\PSoC4/SDCard_FS.c ****          }
1627:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CopyDir(Fptr, Fptr2);            // Copy directory information from file 1 to file 
 3500              		.loc 1 1627 0
 3501 00e8 0D23     		movs	r3, #13
 3502 00ea FB18     		adds	r3, r7, r3
 3503 00ec 1A78     		ldrb	r2, [r3]
 3504 00ee 0E23     		movs	r3, #14
 3505 00f0 FB18     		adds	r3, r7, r3
 3506 00f2 1B78     		ldrb	r3, [r3]
 3507 00f4 1100     		movs	r1, r2
 3508 00f6 1800     		movs	r0, r3
 3509 00f8 FFF7FEFF 		bl	SDCard_CopyDir
 3510 00fc 03E0     		b	.L208
 3511              	.L205:
1628:Generated_Source\PSoC4/SDCard_FS.c ****       }
1629:Generated_Source\PSoC4/SDCard_FS.c ****       else
1630:Generated_Source\PSoC4/SDCard_FS.c ****       {   
1631:Generated_Source\PSoC4/SDCard_FS.c ****          // File open failed - file does not exist or file error
1632:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;
 3512              		.loc 1 1632 0
 3513 00fe 0F23     		movs	r3, #15
 3514 0100 FB18     		adds	r3, r7, r3
 3515 0102 AA22     		movs	r2, #170
 3516 0104 1A70     		strb	r2, [r3]
 3517              	.L208:
1633:Generated_Source\PSoC4/SDCard_FS.c ****       }
1634:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_fclose(Fptr);                    // Close the files when finished
 3518              		.loc 1 1634 0
 3519 0106 0E23     		movs	r3, #14
 3520 0108 FB18     		adds	r3, r7, r3
 3521 010a 1B78     		ldrb	r3, [r3]
 3522 010c 1800     		movs	r0, r3
 3523 010e FFF7FEFF 		bl	SDCard_fclose
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 92


1635:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_fclose(Fptr2);
 3524              		.loc 1 1635 0
 3525 0112 0D23     		movs	r3, #13
 3526 0114 FB18     		adds	r3, r7, r3
 3527 0116 1B78     		ldrb	r3, [r3]
 3528 0118 1800     		movs	r0, r3
 3529 011a FFF7FEFF 		bl	SDCard_fclose
 3530 011e 03E0     		b	.L209
 3531              	.L204:
1636:Generated_Source\PSoC4/SDCard_FS.c ****    }
1637:Generated_Source\PSoC4/SDCard_FS.c ****    else
1638:Generated_Source\PSoC4/SDCard_FS.c ****    {
1639:Generated_Source\PSoC4/SDCard_FS.c ****       // File open failed - file does not exist or file error
1640:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;
 3532              		.loc 1 1640 0
 3533 0120 0F23     		movs	r3, #15
 3534 0122 FB18     		adds	r3, r7, r3
 3535 0124 AA22     		movs	r2, #170
 3536 0126 1A70     		strb	r2, [r3]
 3537              	.L209:
1641:Generated_Source\PSoC4/SDCard_FS.c ****    }
1642:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 3538              		.loc 1 1642 0
 3539 0128 0F23     		movs	r3, #15
 3540 012a FB18     		adds	r3, r7, r3
 3541 012c 1B78     		ldrb	r3, [r3]
1643:Generated_Source\PSoC4/SDCard_FS.c **** }
 3542              		.loc 1 1643 0
 3543 012e 1800     		movs	r0, r3
 3544 0130 BD46     		mov	sp, r7
 3545 0132 05B0     		add	sp, sp, #20
 3546              		@ sp needed
 3547 0134 90BD     		pop	{r4, r7, pc}
 3548              	.L212:
 3549 0136 C046     		.align	2
 3550              	.L211:
 3551 0138 28000000 		.word	.LC80
 3552 013c 2C000000 		.word	.LC84
 3553 0140 00000000 		.word	SDCard_CurSize
 3554              		.cfi_endproc
 3555              	.LFE59:
 3556              		.size	SDCard_Copy, .-SDCard_Copy
 3557              		.section	.text.SDCard_Cmd,"ax",%progbits
 3558              		.align	2
 3559              		.global	SDCard_Cmd
 3560              		.code	16
 3561              		.thumb_func
 3562              		.type	SDCard_Cmd, %function
 3563              	SDCard_Cmd:
 3564              	.LFB60:
1644:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1645:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1646:Generated_Source\PSoC4/SDCard_FS.c **** #endif
1647:Generated_Source\PSoC4/SDCard_FS.c **** 
1648:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
1649:Generated_Source\PSoC4/SDCard_FS.c **** // SD CARD COMMANDS - LOW LEVEL
1650:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 93


1651:Generated_Source\PSoC4/SDCard_FS.c **** 
1652:Generated_Source\PSoC4/SDCard_FS.c **** 
1653:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1654:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_Cmd(uchar CmdNum, ulong Param)
1655:Generated_Source\PSoC4/SDCard_FS.c **** //
1656:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1657:Generated_Source\PSoC4/SDCard_FS.c **** //    Send command to SD Card.
1658:Generated_Source\PSoC4/SDCard_FS.c **** //
1659:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1660:Generated_Source\PSoC4/SDCard_FS.c **** //
1661:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1662:Generated_Source\PSoC4/SDCard_FS.c **** //    CmdNum:  Command to be sent to SD card.
1663:Generated_Source\PSoC4/SDCard_FS.c **** //    Param:   Parameter to be send with command.
1664:Generated_Source\PSoC4/SDCard_FS.c **** //
1665:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:  NA
1666:Generated_Source\PSoC4/SDCard_FS.c **** //
1667:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1668:Generated_Source\PSoC4/SDCard_FS.c **** //    NOTE: Calling routine must parse any response and bring the select line high again
1669:Generated_Source\PSoC4/SDCard_FS.c **** //
1670:Generated_Source\PSoC4/SDCard_FS.c **** //    The data response routine and the closing of the SPI (setting select high)
1671:Generated_Source\PSoC4/SDCard_FS.c **** //    is the responsibility of the calling routine as the requirements differ from 
1672:Generated_Source\PSoC4/SDCard_FS.c **** //    command to command. (Use CmdEnd(); to close most routines.
1673:Generated_Source\PSoC4/SDCard_FS.c **** //
1674:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1675:Generated_Source\PSoC4/SDCard_FS.c **** //
1676:Generated_Source\PSoC4/SDCard_FS.c **** //
1677:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1678:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_Cmd(uchar CmdNum, ulong Param)
1679:Generated_Source\PSoC4/SDCard_FS.c **** {
 3565              		.loc 1 1679 0
 3566              		.cfi_startproc
 3567              		@ args = 0, pretend = 0, frame = 8
 3568              		@ frame_needed = 1, uses_anonymous_args = 0
 3569 0000 80B5     		push	{r7, lr}
 3570              		.cfi_def_cfa_offset 8
 3571              		.cfi_offset 7, -8
 3572              		.cfi_offset 14, -4
 3573 0002 82B0     		sub	sp, sp, #8
 3574              		.cfi_def_cfa_offset 16
 3575 0004 00AF     		add	r7, sp, #0
 3576              		.cfi_def_cfa_register 7
 3577 0006 0200     		movs	r2, r0
 3578 0008 3960     		str	r1, [r7]
 3579 000a FB1D     		adds	r3, r7, #7
 3580 000c 1A70     		strb	r2, [r3]
1680:Generated_Source\PSoC4/SDCard_FS.c **** 
1681:Generated_Source\PSoC4/SDCard_FS.c ****    // Send an 0xFF to insure data line is high before command sent
1682:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3581              		.loc 1 1682 0
 3582 000e FF20     		movs	r0, #255
 3583 0010 FFF7FEFF 		bl	SDCard_SendTxData
1683:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3584              		.loc 1 1683 0
 3585 0014 FFF7FEFF 		bl	SDCard_XferWait
1684:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3586              		.loc 1 1684 0
 3587 0018 FFF7FEFF 		bl	SDCard_bReadRxData
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 94


 3588 001c 0300     		movs	r3, r0
 3589 001e 1A00     		movs	r2, r3
 3590 0020 334B     		ldr	r3, .L214
 3591 0022 1A70     		strb	r2, [r3]
1685:Generated_Source\PSoC4/SDCard_FS.c ****    
1686:Generated_Source\PSoC4/SDCard_FS.c ****    // Send an 0xFF to insure data line is high before command sent
1687:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3592              		.loc 1 1687 0
 3593 0024 FF20     		movs	r0, #255
 3594 0026 FFF7FEFF 		bl	SDCard_SendTxData
1688:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3595              		.loc 1 1688 0
 3596 002a FFF7FEFF 		bl	SDCard_XferWait
1689:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3597              		.loc 1 1689 0
 3598 002e FFF7FEFF 		bl	SDCard_bReadRxData
 3599 0032 0300     		movs	r3, r0
 3600 0034 1A00     		movs	r2, r3
 3601 0036 2E4B     		ldr	r3, .L214
 3602 0038 1A70     		strb	r2, [r3]
1690:Generated_Source\PSoC4/SDCard_FS.c ****    
1691:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Select(SDCard_ENABLE);       // Set SD Card select line low (enables card for SPI)
 3603              		.loc 1 1691 0
 3604 003a 0120     		movs	r0, #1
 3605 003c FFF7FEFF 		bl	SDCard_Select
1692:Generated_Source\PSoC4/SDCard_FS.c **** 
1693:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait();                           // Wait a minimum setup time for the high/low transitio
 3606              		.loc 1 1693 0
 3607 0040 FFF7FEFF 		bl	SDCard_Wait
1694:Generated_Source\PSoC4/SDCard_FS.c **** 
1695:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a byte
1696:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( CmdNum );         // Command byte to send
 3608              		.loc 1 1696 0
 3609 0044 FB1D     		adds	r3, r7, #7
 3610 0046 1B78     		ldrb	r3, [r3]
 3611 0048 1800     		movs	r0, r3
 3612 004a FFF7FEFF 		bl	SDCard_SendTxData
1697:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3613              		.loc 1 1697 0
 3614 004e FFF7FEFF 		bl	SDCard_XferWait
1698:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3615              		.loc 1 1698 0
 3616 0052 FFF7FEFF 		bl	SDCard_bReadRxData
 3617 0056 0300     		movs	r3, r0
 3618 0058 1A00     		movs	r2, r3
 3619 005a 254B     		ldr	r3, .L214
 3620 005c 1A70     		strb	r2, [r3]
1699:Generated_Source\PSoC4/SDCard_FS.c **** 
1700:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a byte
1701:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData((char) (Param>>24));   // Parameter MSB (Byte 3)
 3621              		.loc 1 1701 0
 3622 005e 3B68     		ldr	r3, [r7]
 3623 0060 1B0E     		lsrs	r3, r3, #24
 3624 0062 DBB2     		uxtb	r3, r3
 3625 0064 1800     		movs	r0, r3
 3626 0066 FFF7FEFF 		bl	SDCard_SendTxData
1702:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 95


 3627              		.loc 1 1702 0
 3628 006a FFF7FEFF 		bl	SDCard_XferWait
1703:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3629              		.loc 1 1703 0
 3630 006e FFF7FEFF 		bl	SDCard_bReadRxData
 3631 0072 0300     		movs	r3, r0
 3632 0074 1A00     		movs	r2, r3
 3633 0076 1E4B     		ldr	r3, .L214
 3634 0078 1A70     		strb	r2, [r3]
1704:Generated_Source\PSoC4/SDCard_FS.c ****    
1705:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a byte
1706:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData((char) (Param>>16));   // Parameter     (Byte 2)
 3635              		.loc 1 1706 0
 3636 007a 3B68     		ldr	r3, [r7]
 3637 007c 1B0C     		lsrs	r3, r3, #16
 3638 007e DBB2     		uxtb	r3, r3
 3639 0080 1800     		movs	r0, r3
 3640 0082 FFF7FEFF 		bl	SDCard_SendTxData
1707:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3641              		.loc 1 1707 0
 3642 0086 FFF7FEFF 		bl	SDCard_XferWait
1708:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3643              		.loc 1 1708 0
 3644 008a FFF7FEFF 		bl	SDCard_bReadRxData
 3645 008e 0300     		movs	r3, r0
 3646 0090 1A00     		movs	r2, r3
 3647 0092 174B     		ldr	r3, .L214
 3648 0094 1A70     		strb	r2, [r3]
1709:Generated_Source\PSoC4/SDCard_FS.c ****    
1710:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a byte
1711:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData((char) (Param>>8) );   // Parameter     (Byte 1)
 3649              		.loc 1 1711 0
 3650 0096 3B68     		ldr	r3, [r7]
 3651 0098 1B0A     		lsrs	r3, r3, #8
 3652 009a DBB2     		uxtb	r3, r3
 3653 009c 1800     		movs	r0, r3
 3654 009e FFF7FEFF 		bl	SDCard_SendTxData
1712:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3655              		.loc 1 1712 0
 3656 00a2 FFF7FEFF 		bl	SDCard_XferWait
1713:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3657              		.loc 1 1713 0
 3658 00a6 FFF7FEFF 		bl	SDCard_bReadRxData
 3659 00aa 0300     		movs	r3, r0
 3660 00ac 1A00     		movs	r2, r3
 3661 00ae 104B     		ldr	r3, .L214
 3662 00b0 1A70     		strb	r2, [r3]
1714:Generated_Source\PSoC4/SDCard_FS.c ****    
1715:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a byte
1716:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( (char) Param );      // Parameter LSB (Byte 0)
 3663              		.loc 1 1716 0
 3664 00b2 3B68     		ldr	r3, [r7]
 3665 00b4 DBB2     		uxtb	r3, r3
 3666 00b6 1800     		movs	r0, r3
 3667 00b8 FFF7FEFF 		bl	SDCard_SendTxData
1717:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3668              		.loc 1 1717 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 96


 3669 00bc FFF7FEFF 		bl	SDCard_XferWait
1718:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3670              		.loc 1 1718 0
 3671 00c0 FFF7FEFF 		bl	SDCard_bReadRxData
 3672 00c4 0300     		movs	r3, r0
 3673 00c6 1A00     		movs	r2, r3
 3674 00c8 094B     		ldr	r3, .L214
 3675 00ca 1A70     		strb	r2, [r3]
1719:Generated_Source\PSoC4/SDCard_FS.c ****    
1720:Generated_Source\PSoC4/SDCard_FS.c ****    // Send an FF for the checksum byte
1721:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );            // Checksum and End Bit)
 3676              		.loc 1 1721 0
 3677 00cc FF20     		movs	r0, #255
 3678 00ce FFF7FEFF 		bl	SDCard_SendTxData
1722:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3679              		.loc 1 1722 0
 3680 00d2 FFF7FEFF 		bl	SDCard_XferWait
1723:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3681              		.loc 1 1723 0
 3682 00d6 FFF7FEFF 		bl	SDCard_bReadRxData
 3683 00da 0300     		movs	r3, r0
 3684 00dc 1A00     		movs	r2, r3
 3685 00de 044B     		ldr	r3, .L214
 3686 00e0 1A70     		strb	r2, [r3]
1724:Generated_Source\PSoC4/SDCard_FS.c ****    
1725:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait();            // Wait a minimum setup time for the high/low transition
 3687              		.loc 1 1725 0
 3688 00e2 FFF7FEFF 		bl	SDCard_Wait
1726:Generated_Source\PSoC4/SDCard_FS.c ****    
1727:Generated_Source\PSoC4/SDCard_FS.c ****    // The data response routine and the closing of the SPI (setting select high)
1728:Generated_Source\PSoC4/SDCard_FS.c ****    // is the responsibility of the calling routine as the requirements differ from 
1729:Generated_Source\PSoC4/SDCard_FS.c ****    // command to command. (Use CmdEnd(); to close most routines.
1730:Generated_Source\PSoC4/SDCard_FS.c **** }
 3689              		.loc 1 1730 0
 3690 00e6 C046     		nop
 3691 00e8 BD46     		mov	sp, r7
 3692 00ea 02B0     		add	sp, sp, #8
 3693              		@ sp needed
 3694 00ec 80BD     		pop	{r7, pc}
 3695              	.L215:
 3696 00ee C046     		.align	2
 3697              	.L214:
 3698 00f0 00000000 		.word	rbuff
 3699              		.cfi_endproc
 3700              	.LFE60:
 3701              		.size	SDCard_Cmd, .-SDCard_Cmd
 3702              		.section	.text.SDCard_GetR1,"ax",%progbits
 3703              		.align	2
 3704              		.global	SDCard_GetR1
 3705              		.code	16
 3706              		.thumb_func
 3707              		.type	SDCard_GetR1, %function
 3708              	SDCard_GetR1:
 3709              	.LFB61:
1731:Generated_Source\PSoC4/SDCard_FS.c **** 
1732:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1733:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_GetR1(void)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 97


1734:Generated_Source\PSoC4/SDCard_FS.c **** //
1735:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1736:Generated_Source\PSoC4/SDCard_FS.c **** //    Gets R1 command response (do not use for types (R1b, R2, or R3)
1737:Generated_Source\PSoC4/SDCard_FS.c **** //    Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address E
1738:Generated_Source\PSoC4/SDCard_FS.c **** //
1739:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1740:Generated_Source\PSoC4/SDCard_FS.c **** //
1741:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1742:Generated_Source\PSoC4/SDCard_FS.c **** //
1743:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1744:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns R1 command response.
1745:Generated_Source\PSoC4/SDCard_FS.c **** //
1746:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1747:Generated_Source\PSoC4/SDCard_FS.c **** //
1748:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1749:Generated_Source\PSoC4/SDCard_FS.c **** //
1750:Generated_Source\PSoC4/SDCard_FS.c **** //
1751:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1752:Generated_Source\PSoC4/SDCard_FS.c **** 
1753:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_GetR1(void)
1754:Generated_Source\PSoC4/SDCard_FS.c **** {
 3710              		.loc 1 1754 0
 3711              		.cfi_startproc
 3712              		@ args = 0, pretend = 0, frame = 8
 3713              		@ frame_needed = 1, uses_anonymous_args = 0
 3714 0000 90B5     		push	{r4, r7, lr}
 3715              		.cfi_def_cfa_offset 12
 3716              		.cfi_offset 4, -12
 3717              		.cfi_offset 7, -8
 3718              		.cfi_offset 14, -4
 3719 0002 83B0     		sub	sp, sp, #12
 3720              		.cfi_def_cfa_offset 24
 3721 0004 00AF     		add	r7, sp, #0
 3722              		.cfi_def_cfa_register 7
1755:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 3723              		.loc 1 1755 0
 3724 0006 FB1D     		adds	r3, r7, #7
 3725 0008 0022     		movs	r2, #0
 3726 000a 1A70     		strb	r2, [r3]
1756:Generated_Source\PSoC4/SDCard_FS.c ****    uint8 test1,test2,test3;
1757:Generated_Source\PSoC4/SDCard_FS.c ****    
1758:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte to shift for btye read
1759:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3727              		.loc 1 1759 0
 3728 000c FF20     		movs	r0, #255
 3729 000e FFF7FEFF 		bl	SDCard_SendTxData
1760:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                     // Wait for transfer to complete
 3730              		.loc 1 1760 0
 3731 0012 FFF7FEFF 		bl	SDCard_XferWait
1761:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3732              		.loc 1 1761 0
 3733 0016 FFF7FEFF 		bl	SDCard_bReadRxData
 3734 001a 0300     		movs	r3, r0
 3735 001c 1A00     		movs	r2, r3
 3736 001e 164B     		ldr	r3, .L218
 3737 0020 1A70     		strb	r2, [r3]
1762:Generated_Source\PSoC4/SDCard_FS.c ****    test1 = SDCard_bReadRxData();
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 98


 3738              		.loc 1 1762 0
 3739 0022 BC1D     		adds	r4, r7, #6
 3740 0024 FFF7FEFF 		bl	SDCard_bReadRxData
 3741 0028 0300     		movs	r3, r0
 3742 002a 2370     		strb	r3, [r4]
1763:Generated_Source\PSoC4/SDCard_FS.c ****    
1764:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte to shift for btye read
1765:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3743              		.loc 1 1765 0
 3744 002c FF20     		movs	r0, #255
 3745 002e FFF7FEFF 		bl	SDCard_SendTxData
1766:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                     // Wait for transfer to complete
 3746              		.loc 1 1766 0
 3747 0032 FFF7FEFF 		bl	SDCard_XferWait
1767:Generated_Source\PSoC4/SDCard_FS.c ****    
1768:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address E
1769:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_bReadRxData();      // Read the status register and return it
 3748              		.loc 1 1769 0
 3749 0036 FC1D     		adds	r4, r7, #7
 3750 0038 FFF7FEFF 		bl	SDCard_bReadRxData
 3751 003c 0300     		movs	r3, r0
 3752 003e 2370     		strb	r3, [r4]
1770:Generated_Source\PSoC4/SDCard_FS.c ****    test2 = SDCard_bReadRxData();
 3753              		.loc 1 1770 0
 3754 0040 7C1D     		adds	r4, r7, #5
 3755 0042 FFF7FEFF 		bl	SDCard_bReadRxData
 3756 0046 0300     		movs	r3, r0
 3757 0048 2370     		strb	r3, [r4]
1771:Generated_Source\PSoC4/SDCard_FS.c **** 
1772:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3758              		.loc 1 1772 0
 3759 004a FF20     		movs	r0, #255
 3760 004c FFF7FEFF 		bl	SDCard_SendTxData
1773:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                     // Wait for transfer to complete
 3761              		.loc 1 1773 0
 3762 0050 FFF7FEFF 		bl	SDCard_XferWait
1774:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3763              		.loc 1 1774 0
 3764 0054 FFF7FEFF 		bl	SDCard_bReadRxData
 3765 0058 0300     		movs	r3, r0
 3766 005a 1A00     		movs	r2, r3
 3767 005c 064B     		ldr	r3, .L218
 3768 005e 1A70     		strb	r2, [r3]
1775:Generated_Source\PSoC4/SDCard_FS.c ****    test3 = SDCard_bReadRxData();
 3769              		.loc 1 1775 0
 3770 0060 3C1D     		adds	r4, r7, #4
 3771 0062 FFF7FEFF 		bl	SDCard_bReadRxData
 3772 0066 0300     		movs	r3, r0
 3773 0068 2370     		strb	r3, [r4]
1776:Generated_Source\PSoC4/SDCard_FS.c **** 
1777:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 3774              		.loc 1 1777 0
 3775 006a FB1D     		adds	r3, r7, #7
 3776 006c 1B78     		ldrb	r3, [r3]
1778:Generated_Source\PSoC4/SDCard_FS.c **** }
 3777              		.loc 1 1778 0
 3778 006e 1800     		movs	r0, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 99


 3779 0070 BD46     		mov	sp, r7
 3780 0072 03B0     		add	sp, sp, #12
 3781              		@ sp needed
 3782 0074 90BD     		pop	{r4, r7, pc}
 3783              	.L219:
 3784 0076 C046     		.align	2
 3785              	.L218:
 3786 0078 00000000 		.word	rbuff
 3787              		.cfi_endproc
 3788              	.LFE61:
 3789              		.size	SDCard_GetR1, .-SDCard_GetR1
 3790              		.section	.text.SDCard_GetR2,"ax",%progbits
 3791              		.align	2
 3792              		.global	SDCard_GetR2
 3793              		.code	16
 3794              		.thumb_func
 3795              		.type	SDCard_GetR2, %function
 3796              	SDCard_GetR2:
 3797              	.LFB62:
1779:Generated_Source\PSoC4/SDCard_FS.c **** 
1780:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1781:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uint SDCard_GetR2(void)
1782:Generated_Source\PSoC4/SDCard_FS.c **** //
1783:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1784:Generated_Source\PSoC4/SDCard_FS.c **** //   Gets R2 command response (do not use for types (R1, R1b, or R3)
1785:Generated_Source\PSoC4/SDCard_FS.c **** //   Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address Er
1786:Generated_Source\PSoC4/SDCard_FS.c **** //
1787:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1788:Generated_Source\PSoC4/SDCard_FS.c **** //
1789:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1790:Generated_Source\PSoC4/SDCard_FS.c **** //
1791:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1792:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns R2 command response.
1793:Generated_Source\PSoC4/SDCard_FS.c **** //
1794:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1795:Generated_Source\PSoC4/SDCard_FS.c **** //
1796:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1797:Generated_Source\PSoC4/SDCard_FS.c **** //
1798:Generated_Source\PSoC4/SDCard_FS.c **** //
1799:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1800:Generated_Source\PSoC4/SDCard_FS.c **** 
1801:Generated_Source\PSoC4/SDCard_FS.c **** uint SDCard_GetR2(void)
1802:Generated_Source\PSoC4/SDCard_FS.c **** {
 3798              		.loc 1 1802 0
 3799              		.cfi_startproc
 3800              		@ args = 0, pretend = 0, frame = 8
 3801              		@ frame_needed = 1, uses_anonymous_args = 0
 3802 0000 90B5     		push	{r4, r7, lr}
 3803              		.cfi_def_cfa_offset 12
 3804              		.cfi_offset 4, -12
 3805              		.cfi_offset 7, -8
 3806              		.cfi_offset 14, -4
 3807 0002 83B0     		sub	sp, sp, #12
 3808              		.cfi_def_cfa_offset 24
 3809 0004 00AF     		add	r7, sp, #0
 3810              		.cfi_def_cfa_register 7
1803:Generated_Source\PSoC4/SDCard_FS.c ****    // Gets R2 command response (do not use for types (R1, R1b, or R3)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 100


1804:Generated_Source\PSoC4/SDCard_FS.c **** 
1805:Generated_Source\PSoC4/SDCard_FS.c ****    uint   status = 0;
 3811              		.loc 1 1805 0
 3812 0006 0023     		movs	r3, #0
 3813 0008 7B60     		str	r3, [r7, #4]
1806:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   temp;                     // Variable for paritial result
1807:Generated_Source\PSoC4/SDCard_FS.c ****    
1808:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte to shift for btye read
1809:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3814              		.loc 1 1809 0
 3815 000a FF20     		movs	r0, #255
 3816 000c FFF7FEFF 		bl	SDCard_SendTxData
1810:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                       // Wait for transfer to complete
 3817              		.loc 1 1810 0
 3818 0010 FFF7FEFF 		bl	SDCard_XferWait
1811:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3819              		.loc 1 1811 0
 3820 0014 FFF7FEFF 		bl	SDCard_bReadRxData
 3821 0018 0300     		movs	r3, r0
 3822 001a 1A00     		movs	r2, r3
 3823 001c 104B     		ldr	r3, .L222
 3824 001e 1A70     		strb	r2, [r3]
1812:Generated_Source\PSoC4/SDCard_FS.c ****    
1813:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte to shift for btye read
1814:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3825              		.loc 1 1814 0
 3826 0020 FF20     		movs	r0, #255
 3827 0022 FFF7FEFF 		bl	SDCard_SendTxData
1815:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                       // Wait for transfer to complete
 3828              		.loc 1 1815 0
 3829 0026 FFF7FEFF 		bl	SDCard_XferWait
1816:Generated_Source\PSoC4/SDCard_FS.c ****    
1817:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address E
1818:Generated_Source\PSoC4/SDCard_FS.c ****    temp = SDCard_bReadRxData();      // Read the status register and return it
 3830              		.loc 1 1818 0
 3831 002a FC1C     		adds	r4, r7, #3
 3832 002c FFF7FEFF 		bl	SDCard_bReadRxData
 3833 0030 0300     		movs	r3, r0
 3834 0032 2370     		strb	r3, [r4]
1819:Generated_Source\PSoC4/SDCard_FS.c ****    status = ((uint)temp)<<8;          // Put result in upper byte
 3835              		.loc 1 1819 0
 3836 0034 FB1C     		adds	r3, r7, #3
 3837 0036 1B78     		ldrb	r3, [r3]
 3838 0038 1B02     		lsls	r3, r3, #8
 3839 003a 7B60     		str	r3, [r7, #4]
1820:Generated_Source\PSoC4/SDCard_FS.c ****    
1821:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte to shift for btye read
1822:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF );
 3840              		.loc 1 1822 0
 3841 003c FF20     		movs	r0, #255
 3842 003e FFF7FEFF 		bl	SDCard_SendTxData
1823:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                        // Wait for transfer to complete
 3843              		.loc 1 1823 0
 3844 0042 FFF7FEFF 		bl	SDCard_XferWait
1824:Generated_Source\PSoC4/SDCard_FS.c ****    
1825:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address E
1826:Generated_Source\PSoC4/SDCard_FS.c ****    status += (uint)SDCard_bReadRxData();   // Read the status register, add it to upper, and return
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 101


 3845              		.loc 1 1826 0
 3846 0046 FFF7FEFF 		bl	SDCard_bReadRxData
 3847 004a 0300     		movs	r3, r0
 3848 004c 1A00     		movs	r2, r3
 3849 004e 7B68     		ldr	r3, [r7, #4]
 3850 0050 9B18     		adds	r3, r3, r2
 3851 0052 7B60     		str	r3, [r7, #4]
1827:Generated_Source\PSoC4/SDCard_FS.c **** 
1828:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 3852              		.loc 1 1828 0
 3853 0054 7B68     		ldr	r3, [r7, #4]
1829:Generated_Source\PSoC4/SDCard_FS.c **** }
 3854              		.loc 1 1829 0
 3855 0056 1800     		movs	r0, r3
 3856 0058 BD46     		mov	sp, r7
 3857 005a 03B0     		add	sp, sp, #12
 3858              		@ sp needed
 3859 005c 90BD     		pop	{r4, r7, pc}
 3860              	.L223:
 3861 005e C046     		.align	2
 3862              	.L222:
 3863 0060 00000000 		.word	rbuff
 3864              		.cfi_endproc
 3865              	.LFE62:
 3866              		.size	SDCard_GetR2, .-SDCard_GetR2
 3867              		.section	.text.SDCard_EndCmd,"ax",%progbits
 3868              		.align	2
 3869              		.global	SDCard_EndCmd
 3870              		.code	16
 3871              		.thumb_func
 3872              		.type	SDCard_EndCmd, %function
 3873              	SDCard_EndCmd:
 3874              	.LFB63:
1830:Generated_Source\PSoC4/SDCard_FS.c **** 
1831:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1832:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void  SDCard_EndCmd(void)
1833:Generated_Source\PSoC4/SDCard_FS.c **** //
1834:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1835:Generated_Source\PSoC4/SDCard_FS.c **** //   Terminates the end of a card command string
1836:Generated_Source\PSoC4/SDCard_FS.c **** //
1837:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1838:Generated_Source\PSoC4/SDCard_FS.c **** //
1839:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1840:Generated_Source\PSoC4/SDCard_FS.c **** //
1841:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
1842:Generated_Source\PSoC4/SDCard_FS.c **** //
1843:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1844:Generated_Source\PSoC4/SDCard_FS.c **** //
1845:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1846:Generated_Source\PSoC4/SDCard_FS.c **** //
1847:Generated_Source\PSoC4/SDCard_FS.c **** //
1848:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1849:Generated_Source\PSoC4/SDCard_FS.c **** 
1850:Generated_Source\PSoC4/SDCard_FS.c **** void  SDCard_EndCmd(void)
1851:Generated_Source\PSoC4/SDCard_FS.c **** {
 3875              		.loc 1 1851 0
 3876              		.cfi_startproc
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 102


 3877              		@ args = 0, pretend = 0, frame = 0
 3878              		@ frame_needed = 1, uses_anonymous_args = 0
 3879 0000 80B5     		push	{r7, lr}
 3880              		.cfi_def_cfa_offset 8
 3881              		.cfi_offset 7, -8
 3882              		.cfi_offset 14, -4
 3883 0002 00AF     		add	r7, sp, #0
 3884              		.cfi_def_cfa_register 7
1852:Generated_Source\PSoC4/SDCard_FS.c ****    // Send a null byte (Min 8 clock cycles required)
1853:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SendTxData( 0xFF ); 
 3885              		.loc 1 1853 0
 3886 0004 FF20     		movs	r0, #255
 3887 0006 FFF7FEFF 		bl	SDCard_SendTxData
1854:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_XferWait();                    // Wait for transfer to complete
 3888              		.loc 1 1854 0
 3889 000a FFF7FEFF 		bl	SDCard_XferWait
1855:Generated_Source\PSoC4/SDCard_FS.c ****    rbuff = SDCard_bReadRxData();
 3890              		.loc 1 1855 0
 3891 000e FFF7FEFF 		bl	SDCard_bReadRxData
 3892 0012 0300     		movs	r3, r0
 3893 0014 1A00     		movs	r2, r3
 3894 0016 054B     		ldr	r3, .L225
 3895 0018 1A70     		strb	r2, [r3]
1856:Generated_Source\PSoC4/SDCard_FS.c ****          
1857:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Select(SDCard_DISABLE);    // Set SD Card select line high (disables card for SPI)
 3896              		.loc 1 1857 0
 3897 001a 0020     		movs	r0, #0
 3898 001c FFF7FEFF 		bl	SDCard_Select
1858:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait();                        // Wait a minimum setup time for the high/low transition
 3899              		.loc 1 1858 0
 3900 0020 FFF7FEFF 		bl	SDCard_Wait
1859:Generated_Source\PSoC4/SDCard_FS.c **** }
 3901              		.loc 1 1859 0
 3902 0024 C046     		nop
 3903 0026 BD46     		mov	sp, r7
 3904              		@ sp needed
 3905 0028 80BD     		pop	{r7, pc}
 3906              	.L226:
 3907 002a C046     		.align	2
 3908              	.L225:
 3909 002c 00000000 		.word	rbuff
 3910              		.cfi_endproc
 3911              	.LFE63:
 3912              		.size	SDCard_EndCmd, .-SDCard_EndCmd
 3913              		.section	.text.SDCard_Wait,"ax",%progbits
 3914              		.align	2
 3915              		.global	SDCard_Wait
 3916              		.code	16
 3917              		.thumb_func
 3918              		.type	SDCard_Wait, %function
 3919              	SDCard_Wait:
 3920              	.LFB64:
1860:Generated_Source\PSoC4/SDCard_FS.c **** 
1861:Generated_Source\PSoC4/SDCard_FS.c **** 
1862:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1863:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_Wait(void)
1864:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 103


1865:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1866:Generated_Source\PSoC4/SDCard_FS.c **** //    Waits for a certain amount of time.  // REVIEW be more specific.
1867:Generated_Source\PSoC4/SDCard_FS.c **** //
1868:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1869:Generated_Source\PSoC4/SDCard_FS.c **** //
1870:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1871:Generated_Source\PSoC4/SDCard_FS.c **** //
1872:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1873:Generated_Source\PSoC4/SDCard_FS.c **** //
1874:Generated_Source\PSoC4/SDCard_FS.c **** //
1875:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1876:Generated_Source\PSoC4/SDCard_FS.c **** //
1877:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1878:Generated_Source\PSoC4/SDCard_FS.c **** //
1879:Generated_Source\PSoC4/SDCard_FS.c **** //
1880:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1881:Generated_Source\PSoC4/SDCard_FS.c **** 
1882:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_Wait(void)
1883:Generated_Source\PSoC4/SDCard_FS.c **** {
 3921              		.loc 1 1883 0
 3922              		.cfi_startproc
 3923              		@ args = 0, pretend = 0, frame = 0
 3924              		@ frame_needed = 1, uses_anonymous_args = 0
 3925 0000 80B5     		push	{r7, lr}
 3926              		.cfi_def_cfa_offset 8
 3927              		.cfi_offset 7, -8
 3928              		.cfi_offset 14, -4
 3929 0002 00AF     		add	r7, sp, #0
 3930              		.cfi_def_cfa_register 7
1884:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x;               // Wait loop variable
1885:Generated_Source\PSoC4/SDCard_FS.c **** 
1886:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_Speed == 0)            // Wait longer if the speed is slower
 3931              		.loc 1 1886 0
 3932 0004 044B     		ldr	r3, .L230
 3933 0006 1B78     		ldrb	r3, [r3]
 3934 0008 002B     		cmp	r3, #0
 3935 000a 02D1     		bne	.L229
1887:Generated_Source\PSoC4/SDCard_FS.c ****       CyDelay(100);
 3936              		.loc 1 1887 0
 3937 000c 6420     		movs	r0, #100
 3938 000e FFF7FEFF 		bl	CyDelay
 3939              	.L229:
1888:Generated_Source\PSoC4/SDCard_FS.c **** 	  //for(x=0; x<10; x++);   // Wait a minimum setup time
1889:Generated_Source\PSoC4/SDCard_FS.c **** }
 3940              		.loc 1 1889 0
 3941 0012 C046     		nop
 3942 0014 BD46     		mov	sp, r7
 3943              		@ sp needed
 3944 0016 80BD     		pop	{r7, pc}
 3945              	.L231:
 3946              		.align	2
 3947              	.L230:
 3948 0018 00000000 		.word	SDCard_Speed
 3949              		.cfi_endproc
 3950              	.LFE64:
 3951              		.size	SDCard_Wait, .-SDCard_Wait
 3952              		.section	.text.SDCard_Wait2,"ax",%progbits
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 104


 3953              		.align	2
 3954              		.global	SDCard_Wait2
 3955              		.code	16
 3956              		.thumb_func
 3957              		.type	SDCard_Wait2, %function
 3958              	SDCard_Wait2:
 3959              	.LFB65:
1890:Generated_Source\PSoC4/SDCard_FS.c **** 
1891:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1892:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_Wait2(void)
1893:Generated_Source\PSoC4/SDCard_FS.c **** //
1894:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1895:Generated_Source\PSoC4/SDCard_FS.c **** //    Waits for a certain amount of time.  // REVIEW be more specific.
1896:Generated_Source\PSoC4/SDCard_FS.c **** //
1897:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1898:Generated_Source\PSoC4/SDCard_FS.c **** //
1899:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
1900:Generated_Source\PSoC4/SDCard_FS.c **** //
1901:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1902:Generated_Source\PSoC4/SDCard_FS.c **** //
1903:Generated_Source\PSoC4/SDCard_FS.c **** //
1904:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1905:Generated_Source\PSoC4/SDCard_FS.c **** //
1906:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1907:Generated_Source\PSoC4/SDCard_FS.c **** //
1908:Generated_Source\PSoC4/SDCard_FS.c **** //
1909:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1910:Generated_Source\PSoC4/SDCard_FS.c **** 
1911:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_Wait2(void)
1912:Generated_Source\PSoC4/SDCard_FS.c **** {
 3960              		.loc 1 1912 0
 3961              		.cfi_startproc
 3962              		@ args = 0, pretend = 0, frame = 0
 3963              		@ frame_needed = 1, uses_anonymous_args = 0
 3964 0000 80B5     		push	{r7, lr}
 3965              		.cfi_def_cfa_offset 8
 3966              		.cfi_offset 7, -8
 3967              		.cfi_offset 14, -4
 3968 0002 00AF     		add	r7, sp, #0
 3969              		.cfi_def_cfa_register 7
1913:Generated_Source\PSoC4/SDCard_FS.c ****    //uint   x;                    // Wait loop variable
1914:Generated_Source\PSoC4/SDCard_FS.c ****    //for(x=0; x<40000; x++);      // Wait a minimum setup time
1915:Generated_Source\PSoC4/SDCard_FS.c ****    CyDelay(200);
 3970              		.loc 1 1915 0
 3971 0004 C820     		movs	r0, #200
 3972 0006 FFF7FEFF 		bl	CyDelay
1916:Generated_Source\PSoC4/SDCard_FS.c **** }
 3973              		.loc 1 1916 0
 3974 000a C046     		nop
 3975 000c BD46     		mov	sp, r7
 3976              		@ sp needed
 3977 000e 80BD     		pop	{r7, pc}
 3978              		.cfi_endproc
 3979              	.LFE65:
 3980              		.size	SDCard_Wait2, .-SDCard_Wait2
 3981              		.section	.text.SDCard_Cmd_00,"ax",%progbits
 3982              		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 105


 3983              		.global	SDCard_Cmd_00
 3984              		.code	16
 3985              		.thumb_func
 3986              		.type	SDCard_Cmd_00, %function
 3987              	SDCard_Cmd_00:
 3988              	.LFB66:
1917:Generated_Source\PSoC4/SDCard_FS.c **** 
1918:Generated_Source\PSoC4/SDCard_FS.c **** 
1919:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1920:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Cmd_00(void)
1921:Generated_Source\PSoC4/SDCard_FS.c **** //
1922:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1923:Generated_Source\PSoC4/SDCard_FS.c **** //    Sends the six byte reset command with 7 bit CRC of 0x95 (Byte String = 0x40 0x00 0x00 0x00 0x
1924:Generated_Source\PSoC4/SDCard_FS.c **** //
1925:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1926:Generated_Source\PSoC4/SDCard_FS.c **** //
1927:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
1928:Generated_Source\PSoC4/SDCard_FS.c **** //
1929:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1930:Generated_Source\PSoC4/SDCard_FS.c **** //     Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address
1931:Generated_Source\PSoC4/SDCard_FS.c **** //
1932:Generated_Source\PSoC4/SDCard_FS.c **** //
1933:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1934:Generated_Source\PSoC4/SDCard_FS.c **** //
1935:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1936:Generated_Source\PSoC4/SDCard_FS.c **** //
1937:Generated_Source\PSoC4/SDCard_FS.c **** //
1938:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1939:Generated_Source\PSoC4/SDCard_FS.c **** 
1940:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Cmd_00(void)
1941:Generated_Source\PSoC4/SDCard_FS.c **** {
 3989              		.loc 1 1941 0
 3990              		.cfi_startproc
 3991              		@ args = 0, pretend = 0, frame = 8
 3992              		@ frame_needed = 1, uses_anonymous_args = 0
 3993 0000 90B5     		push	{r4, r7, lr}
 3994              		.cfi_def_cfa_offset 12
 3995              		.cfi_offset 4, -12
 3996              		.cfi_offset 7, -8
 3997              		.cfi_offset 14, -4
 3998 0002 83B0     		sub	sp, sp, #12
 3999              		.cfi_def_cfa_offset 24
 4000 0004 00AF     		add	r7, sp, #0
 4001              		.cfi_def_cfa_register 7
1942:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 4002              		.loc 1 1942 0
 4003 0006 FB1C     		adds	r3, r7, #3
 4004 0008 0022     		movs	r2, #0
 4005 000a 1A70     		strb	r2, [r3]
1943:Generated_Source\PSoC4/SDCard_FS.c ****    uint   x;
1944:Generated_Source\PSoC4/SDCard_FS.c **** 
1945:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<2; x++)   
 4006              		.loc 1 1945 0
 4007 000c 0023     		movs	r3, #0
 4008 000e 7B60     		str	r3, [r7, #4]
 4009 0010 0DE0     		b	.L234
 4010              	.L235:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 106


1946:Generated_Source\PSoC4/SDCard_FS.c ****    {
1947:Generated_Source\PSoC4/SDCard_FS.c ****       // Send a null byte to shift for byte read
1948:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SendTxData( 0xFF );
 4011              		.loc 1 1948 0 discriminator 3
 4012 0012 FF20     		movs	r0, #255
 4013 0014 FFF7FEFF 		bl	SDCard_SendTxData
1949:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_XferWait();               // Wait for transfer to complete
 4014              		.loc 1 1949 0 discriminator 3
 4015 0018 FFF7FEFF 		bl	SDCard_XferWait
1950:Generated_Source\PSoC4/SDCard_FS.c **** 	  rbuff = SDCard_bReadRxData();
 4016              		.loc 1 1950 0 discriminator 3
 4017 001c FFF7FEFF 		bl	SDCard_bReadRxData
 4018 0020 0300     		movs	r3, r0
 4019 0022 1A00     		movs	r2, r3
 4020 0024 194B     		ldr	r3, .L239
 4021 0026 1A70     		strb	r2, [r3]
1945:Generated_Source\PSoC4/SDCard_FS.c ****    {
 4022              		.loc 1 1945 0 discriminator 3
 4023 0028 7B68     		ldr	r3, [r7, #4]
 4024 002a 0133     		adds	r3, r3, #1
 4025 002c 7B60     		str	r3, [r7, #4]
 4026              	.L234:
1945:Generated_Source\PSoC4/SDCard_FS.c ****    {
 4027              		.loc 1 1945 0 is_stmt 0 discriminator 1
 4028 002e 7B68     		ldr	r3, [r7, #4]
 4029 0030 012B     		cmp	r3, #1
 4030 0032 EED9     		bls	.L235
1951:Generated_Source\PSoC4/SDCard_FS.c ****    }
1952:Generated_Source\PSoC4/SDCard_FS.c **** 
1953:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait2();                     // Wait for settling time
 4031              		.loc 1 1953 0 is_stmt 1
 4032 0034 FFF7FEFF 		bl	SDCard_Wait2
1954:Generated_Source\PSoC4/SDCard_FS.c ****    
1955:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Select(SDCard_ENABLE);  // Set SD Card select line low (enables card for SPI)
 4033              		.loc 1 1955 0
 4034 0038 0120     		movs	r0, #1
 4035 003a FFF7FEFF 		bl	SDCard_Select
1956:Generated_Source\PSoC4/SDCard_FS.c **** 
1957:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Wait();                      // Wait for settling time
 4036              		.loc 1 1957 0
 4037 003e FFF7FEFF 		bl	SDCard_Wait
1958:Generated_Source\PSoC4/SDCard_FS.c **** 
1959:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<6; x++)           // Loop through the command sequence
 4038              		.loc 1 1959 0
 4039 0042 0023     		movs	r3, #0
 4040 0044 7B60     		str	r3, [r7, #4]
 4041 0046 11E0     		b	.L236
 4042              	.L237:
1960:Generated_Source\PSoC4/SDCard_FS.c ****    {
1961:Generated_Source\PSoC4/SDCard_FS.c ****       // Send a byte
1962:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SendTxData( SDCard_CmdStr00[x] );
 4043              		.loc 1 1962 0 discriminator 3
 4044 0048 114A     		ldr	r2, .L239+4
 4045 004a 7B68     		ldr	r3, [r7, #4]
 4046 004c D318     		adds	r3, r2, r3
 4047 004e 1B78     		ldrb	r3, [r3]
 4048 0050 1800     		movs	r0, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 107


 4049 0052 FFF7FEFF 		bl	SDCard_SendTxData
1963:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_XferWait();               // Wait for transfer to complete
 4050              		.loc 1 1963 0 discriminator 3
 4051 0056 FFF7FEFF 		bl	SDCard_XferWait
1964:Generated_Source\PSoC4/SDCard_FS.c **** 	  rbuff = SDCard_bReadRxData();
 4052              		.loc 1 1964 0 discriminator 3
 4053 005a FFF7FEFF 		bl	SDCard_bReadRxData
 4054 005e 0300     		movs	r3, r0
 4055 0060 1A00     		movs	r2, r3
 4056 0062 0A4B     		ldr	r3, .L239
 4057 0064 1A70     		strb	r2, [r3]
1959:Generated_Source\PSoC4/SDCard_FS.c ****    {
 4058              		.loc 1 1959 0 discriminator 3
 4059 0066 7B68     		ldr	r3, [r7, #4]
 4060 0068 0133     		adds	r3, r3, #1
 4061 006a 7B60     		str	r3, [r7, #4]
 4062              	.L236:
1959:Generated_Source\PSoC4/SDCard_FS.c ****    {
 4063              		.loc 1 1959 0 is_stmt 0 discriminator 1
 4064 006c 7B68     		ldr	r3, [r7, #4]
 4065 006e 052B     		cmp	r3, #5
 4066 0070 EAD9     		bls	.L237
1965:Generated_Source\PSoC4/SDCard_FS.c ****    }
1966:Generated_Source\PSoC4/SDCard_FS.c ****    
1967:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
1968:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR1();            // Get the R1 command respnse   
 4067              		.loc 1 1968 0 is_stmt 1
 4068 0072 FC1C     		adds	r4, r7, #3
 4069 0074 FFF7FEFF 		bl	SDCard_GetR1
 4070 0078 0300     		movs	r3, r0
 4071 007a 2370     		strb	r3, [r4]
1969:Generated_Source\PSoC4/SDCard_FS.c **** 
1970:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                    // Finish the command cycle
 4072              		.loc 1 1970 0
 4073 007c FFF7FEFF 		bl	SDCard_EndCmd
1971:Generated_Source\PSoC4/SDCard_FS.c **** 
1972:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4074              		.loc 1 1972 0
 4075 0080 FB1C     		adds	r3, r7, #3
 4076 0082 1B78     		ldrb	r3, [r3]
1973:Generated_Source\PSoC4/SDCard_FS.c **** }
 4077              		.loc 1 1973 0
 4078 0084 1800     		movs	r0, r3
 4079 0086 BD46     		mov	sp, r7
 4080 0088 03B0     		add	sp, sp, #12
 4081              		@ sp needed
 4082 008a 90BD     		pop	{r4, r7, pc}
 4083              	.L240:
 4084              		.align	2
 4085              	.L239:
 4086 008c 00000000 		.word	rbuff
 4087 0090 00000000 		.word	SDCard_CmdStr00
 4088              		.cfi_endproc
 4089              	.LFE66:
 4090              		.size	SDCard_Cmd_00, .-SDCard_Cmd_00
 4091              		.section	.text.SDCard_Cmd_01,"ax",%progbits
 4092              		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 108


 4093              		.global	SDCard_Cmd_01
 4094              		.code	16
 4095              		.thumb_func
 4096              		.type	SDCard_Cmd_01, %function
 4097              	SDCard_Cmd_01:
 4098              	.LFB67:
1974:Generated_Source\PSoC4/SDCard_FS.c **** 
1975:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1976:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Cmd_01(void)
1977:Generated_Source\PSoC4/SDCard_FS.c **** //
1978:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
1979:Generated_Source\PSoC4/SDCard_FS.c **** //    CMD1 - MMC operational condition command
1980:Generated_Source\PSoC4/SDCard_FS.c **** //    Byte String = 0x41 0x00 0x00 0x00 0x00 0xFF 
1981:Generated_Source\PSoC4/SDCard_FS.c **** //
1982:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1983:Generated_Source\PSoC4/SDCard_FS.c **** //
1984:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
1985:Generated_Source\PSoC4/SDCard_FS.c **** //
1986:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
1987:Generated_Source\PSoC4/SDCard_FS.c **** //    Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
1988:Generated_Source\PSoC4/SDCard_FS.c **** //
1989:Generated_Source\PSoC4/SDCard_FS.c **** //
1990:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
1991:Generated_Source\PSoC4/SDCard_FS.c **** //
1992:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
1993:Generated_Source\PSoC4/SDCard_FS.c **** //
1994:Generated_Source\PSoC4/SDCard_FS.c **** //
1995:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
1996:Generated_Source\PSoC4/SDCard_FS.c **** 
1997:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Cmd_01(void)
1998:Generated_Source\PSoC4/SDCard_FS.c **** {
 4099              		.loc 1 1998 0
 4100              		.cfi_startproc
 4101              		@ args = 0, pretend = 0, frame = 8
 4102              		@ frame_needed = 1, uses_anonymous_args = 0
 4103 0000 90B5     		push	{r4, r7, lr}
 4104              		.cfi_def_cfa_offset 12
 4105              		.cfi_offset 4, -12
 4106              		.cfi_offset 7, -8
 4107              		.cfi_offset 14, -4
 4108 0002 83B0     		sub	sp, sp, #12
 4109              		.cfi_def_cfa_offset 24
 4110 0004 00AF     		add	r7, sp, #0
 4111              		.cfi_def_cfa_register 7
1999:Generated_Source\PSoC4/SDCard_FS.c **** 
2000:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 4112              		.loc 1 2000 0
 4113 0006 FB1D     		adds	r3, r7, #7
 4114 0008 0022     		movs	r2, #0
 4115 000a 1A70     		strb	r2, [r3]
2001:Generated_Source\PSoC4/SDCard_FS.c **** 
2002:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_CMD1, SDCard_NOARGS);               // Send CMD1 command string
 4116              		.loc 1 2002 0
 4117 000c 0021     		movs	r1, #0
 4118 000e 4120     		movs	r0, #65
 4119 0010 FFF7FEFF 		bl	SDCard_Cmd
2003:Generated_Source\PSoC4/SDCard_FS.c ****    
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 109


2004:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2005:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR1();                // Get the R1 command respnse   
 4120              		.loc 1 2005 0
 4121 0014 FC1D     		adds	r4, r7, #7
 4122 0016 FFF7FEFF 		bl	SDCard_GetR1
 4123 001a 0300     		movs	r3, r0
 4124 001c 2370     		strb	r3, [r4]
2006:Generated_Source\PSoC4/SDCard_FS.c **** 
2007:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                        // Finish the command cycle
 4125              		.loc 1 2007 0
 4126 001e FFF7FEFF 		bl	SDCard_EndCmd
2008:Generated_Source\PSoC4/SDCard_FS.c **** 
2009:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4127              		.loc 1 2009 0
 4128 0022 FB1D     		adds	r3, r7, #7
 4129 0024 1B78     		ldrb	r3, [r3]
2010:Generated_Source\PSoC4/SDCard_FS.c **** }
 4130              		.loc 1 2010 0
 4131 0026 1800     		movs	r0, r3
 4132 0028 BD46     		mov	sp, r7
 4133 002a 03B0     		add	sp, sp, #12
 4134              		@ sp needed
 4135 002c 90BD     		pop	{r4, r7, pc}
 4136              		.cfi_endproc
 4137              	.LFE67:
 4138              		.size	SDCard_Cmd_01, .-SDCard_Cmd_01
 4139 002e C046     		.section	.text.SDCard_ACmd_41,"ax",%progbits
 4140              		.align	2
 4141              		.global	SDCard_ACmd_41
 4142              		.code	16
 4143              		.thumb_func
 4144              		.type	SDCard_ACmd_41, %function
 4145              	SDCard_ACmd_41:
 4146              	.LFB68:
2011:Generated_Source\PSoC4/SDCard_FS.c **** 
2012:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2013:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_ACmd_41(void)
2014:Generated_Source\PSoC4/SDCard_FS.c **** //
2015:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2016:Generated_Source\PSoC4/SDCard_FS.c **** //   ACMD41 - SD operational condition command
2017:Generated_Source\PSoC4/SDCard_FS.c **** //   Byte String = 0x69 0x00 0x00 0x00 0x00 0xFF 
2018:Generated_Source\PSoC4/SDCard_FS.c **** //
2019:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2020:Generated_Source\PSoC4/SDCard_FS.c **** //
2021:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
2022:Generated_Source\PSoC4/SDCard_FS.c **** //
2023:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2024:Generated_Source\PSoC4/SDCard_FS.c **** //    Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2025:Generated_Source\PSoC4/SDCard_FS.c **** //
2026:Generated_Source\PSoC4/SDCard_FS.c **** //
2027:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2028:Generated_Source\PSoC4/SDCard_FS.c **** //    NOTE: REQUIRES a CMD55 before it does an ACMD41
2029:Generated_Source\PSoC4/SDCard_FS.c **** //
2030:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2031:Generated_Source\PSoC4/SDCard_FS.c **** //
2032:Generated_Source\PSoC4/SDCard_FS.c **** //
2033:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 110


2034:Generated_Source\PSoC4/SDCard_FS.c **** 
2035:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_ACmd_41(void)
2036:Generated_Source\PSoC4/SDCard_FS.c **** {
 4147              		.loc 1 2036 0
 4148              		.cfi_startproc
 4149              		@ args = 0, pretend = 0, frame = 8
 4150              		@ frame_needed = 1, uses_anonymous_args = 0
 4151 0000 90B5     		push	{r4, r7, lr}
 4152              		.cfi_def_cfa_offset 12
 4153              		.cfi_offset 4, -12
 4154              		.cfi_offset 7, -8
 4155              		.cfi_offset 14, -4
 4156 0002 83B0     		sub	sp, sp, #12
 4157              		.cfi_def_cfa_offset 24
 4158 0004 00AF     		add	r7, sp, #0
 4159              		.cfi_def_cfa_register 7
2037:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 4160              		.loc 1 2037 0
 4161 0006 FB1D     		adds	r3, r7, #7
 4162 0008 0022     		movs	r2, #0
 4163 000a 1A70     		strb	r2, [r3]
2038:Generated_Source\PSoC4/SDCard_FS.c ****    
2039:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_ACMD41, SDCard_NOARGS);         // Send ACMD41 command string
 4164              		.loc 1 2039 0
 4165 000c 0021     		movs	r1, #0
 4166 000e 6920     		movs	r0, #105
 4167 0010 FFF7FEFF 		bl	SDCard_Cmd
2040:Generated_Source\PSoC4/SDCard_FS.c **** 
2041:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2042:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR1();            // Get the R1 command respnse   
 4168              		.loc 1 2042 0
 4169 0014 FC1D     		adds	r4, r7, #7
 4170 0016 FFF7FEFF 		bl	SDCard_GetR1
 4171 001a 0300     		movs	r3, r0
 4172 001c 2370     		strb	r3, [r4]
2043:Generated_Source\PSoC4/SDCard_FS.c **** 
2044:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                    // Finish the command cycle
 4173              		.loc 1 2044 0
 4174 001e FFF7FEFF 		bl	SDCard_EndCmd
2045:Generated_Source\PSoC4/SDCard_FS.c **** 
2046:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4175              		.loc 1 2046 0
 4176 0022 FB1D     		adds	r3, r7, #7
 4177 0024 1B78     		ldrb	r3, [r3]
2047:Generated_Source\PSoC4/SDCard_FS.c **** }
 4178              		.loc 1 2047 0
 4179 0026 1800     		movs	r0, r3
 4180 0028 BD46     		mov	sp, r7
 4181 002a 03B0     		add	sp, sp, #12
 4182              		@ sp needed
 4183 002c 90BD     		pop	{r4, r7, pc}
 4184              		.cfi_endproc
 4185              	.LFE68:
 4186              		.size	SDCard_ACmd_41, .-SDCard_ACmd_41
 4187 002e C046     		.section	.text.SDCard_Cmd_55,"ax",%progbits
 4188              		.align	2
 4189              		.global	SDCard_Cmd_55
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 111


 4190              		.code	16
 4191              		.thumb_func
 4192              		.type	SDCard_Cmd_55, %function
 4193              	SDCard_Cmd_55:
 4194              	.LFB69:
2048:Generated_Source\PSoC4/SDCard_FS.c **** 
2049:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2050:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_Cmd_55(void)
2051:Generated_Source\PSoC4/SDCard_FS.c **** //
2052:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2053:Generated_Source\PSoC4/SDCard_FS.c **** //   CMD55 - SD application command (next command is an ACMD)
2054:Generated_Source\PSoC4/SDCard_FS.c **** //   Byte String = 0x77 0x00 0x00 0x00 0x00 0xFF 
2055:Generated_Source\PSoC4/SDCard_FS.c **** //
2056:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2057:Generated_Source\PSoC4/SDCard_FS.c **** //
2058:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
2059:Generated_Source\PSoC4/SDCard_FS.c **** //
2060:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2061:Generated_Source\PSoC4/SDCard_FS.c **** //    Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2062:Generated_Source\PSoC4/SDCard_FS.c **** //
2063:Generated_Source\PSoC4/SDCard_FS.c **** //
2064:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2065:Generated_Source\PSoC4/SDCard_FS.c **** //
2066:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2067:Generated_Source\PSoC4/SDCard_FS.c **** //
2068:Generated_Source\PSoC4/SDCard_FS.c **** //
2069:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2070:Generated_Source\PSoC4/SDCard_FS.c **** 
2071:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_Cmd_55(void)
2072:Generated_Source\PSoC4/SDCard_FS.c **** {
 4195              		.loc 1 2072 0
 4196              		.cfi_startproc
 4197              		@ args = 0, pretend = 0, frame = 8
 4198              		@ frame_needed = 1, uses_anonymous_args = 0
 4199 0000 90B5     		push	{r4, r7, lr}
 4200              		.cfi_def_cfa_offset 12
 4201              		.cfi_offset 4, -12
 4202              		.cfi_offset 7, -8
 4203              		.cfi_offset 14, -4
 4204 0002 83B0     		sub	sp, sp, #12
 4205              		.cfi_def_cfa_offset 24
 4206 0004 00AF     		add	r7, sp, #0
 4207              		.cfi_def_cfa_register 7
2073:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 4208              		.loc 1 2073 0
 4209 0006 FB1D     		adds	r3, r7, #7
 4210 0008 0022     		movs	r2, #0
 4211 000a 1A70     		strb	r2, [r3]
2074:Generated_Source\PSoC4/SDCard_FS.c **** 
2075:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_CMD55, SDCard_NOARGS);         // Send CMD55 command string
 4212              		.loc 1 2075 0
 4213 000c 0021     		movs	r1, #0
 4214 000e 7720     		movs	r0, #119
 4215 0010 FFF7FEFF 		bl	SDCard_Cmd
2076:Generated_Source\PSoC4/SDCard_FS.c **** 
2077:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2078:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR1();           // Get the R1 command respnse   
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 112


 4216              		.loc 1 2078 0
 4217 0014 FC1D     		adds	r4, r7, #7
 4218 0016 FFF7FEFF 		bl	SDCard_GetR1
 4219 001a 0300     		movs	r3, r0
 4220 001c 2370     		strb	r3, [r4]
2079:Generated_Source\PSoC4/SDCard_FS.c **** 
2080:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                   // Finish the command cycle
 4221              		.loc 1 2080 0
 4222 001e FFF7FEFF 		bl	SDCard_EndCmd
2081:Generated_Source\PSoC4/SDCard_FS.c **** 
2082:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4223              		.loc 1 2082 0
 4224 0022 FB1D     		adds	r3, r7, #7
 4225 0024 1B78     		ldrb	r3, [r3]
2083:Generated_Source\PSoC4/SDCard_FS.c **** }
 4226              		.loc 1 2083 0
 4227 0026 1800     		movs	r0, r3
 4228 0028 BD46     		mov	sp, r7
 4229 002a 03B0     		add	sp, sp, #12
 4230              		@ sp needed
 4231 002c 90BD     		pop	{r4, r7, pc}
 4232              		.cfi_endproc
 4233              	.LFE69:
 4234              		.size	SDCard_Cmd_55, .-SDCard_Cmd_55
 4235 002e C046     		.section	.text.SDCard_Cmd_13,"ax",%progbits
 4236              		.align	2
 4237              		.global	SDCard_Cmd_13
 4238              		.code	16
 4239              		.thumb_func
 4240              		.type	SDCard_Cmd_13, %function
 4241              	SDCard_Cmd_13:
 4242              	.LFB70:
2084:Generated_Source\PSoC4/SDCard_FS.c **** 
2085:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2086:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uint SDCard_Cmd_13(void)
2087:Generated_Source\PSoC4/SDCard_FS.c **** //
2088:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2089:Generated_Source\PSoC4/SDCard_FS.c **** //   CMD13 - Get card status command
2090:Generated_Source\PSoC4/SDCard_FS.c **** //   Byte String = 0x4D 0x00 0x00 0x00 0x00 0xFF 
2091:Generated_Source\PSoC4/SDCard_FS.c **** //
2092:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2093:Generated_Source\PSoC4/SDCard_FS.c **** //
2094:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  NA
2095:Generated_Source\PSoC4/SDCard_FS.c **** //
2096:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2097:Generated_Source\PSoC4/SDCard_FS.c **** //    Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2098:Generated_Source\PSoC4/SDCard_FS.c **** //
2099:Generated_Source\PSoC4/SDCard_FS.c **** //
2100:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2101:Generated_Source\PSoC4/SDCard_FS.c **** //
2102:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2103:Generated_Source\PSoC4/SDCard_FS.c **** //
2104:Generated_Source\PSoC4/SDCard_FS.c **** //
2105:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2106:Generated_Source\PSoC4/SDCard_FS.c **** 
2107:Generated_Source\PSoC4/SDCard_FS.c **** uint SDCard_Cmd_13(void)
2108:Generated_Source\PSoC4/SDCard_FS.c **** {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 113


 4243              		.loc 1 2108 0
 4244              		.cfi_startproc
 4245              		@ args = 0, pretend = 0, frame = 8
 4246              		@ frame_needed = 1, uses_anonymous_args = 0
 4247 0000 80B5     		push	{r7, lr}
 4248              		.cfi_def_cfa_offset 8
 4249              		.cfi_offset 7, -8
 4250              		.cfi_offset 14, -4
 4251 0002 82B0     		sub	sp, sp, #8
 4252              		.cfi_def_cfa_offset 16
 4253 0004 00AF     		add	r7, sp, #0
 4254              		.cfi_def_cfa_register 7
2109:Generated_Source\PSoC4/SDCard_FS.c ****    uint   status = 0;
 4255              		.loc 1 2109 0
 4256 0006 0023     		movs	r3, #0
 4257 0008 7B60     		str	r3, [r7, #4]
2110:Generated_Source\PSoC4/SDCard_FS.c **** 
2111:Generated_Source\PSoC4/SDCard_FS.c ****    // CMD13 - Get card status command
2112:Generated_Source\PSoC4/SDCard_FS.c ****    // Byte String = 0x4D 0x00 0x00 0x00 0x00 0xFF 
2113:Generated_Source\PSoC4/SDCard_FS.c **** 
2114:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_CMD13, SDCard_NOARGS);       // Send CMD55 command string
 4258              		.loc 1 2114 0
 4259 000a 0021     		movs	r1, #0
 4260 000c 4D20     		movs	r0, #77
 4261 000e FFF7FEFF 		bl	SDCard_Cmd
2115:Generated_Source\PSoC4/SDCard_FS.c **** 
2116:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2117:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR2();         // Get the R2 command respnse   
 4262              		.loc 1 2117 0
 4263 0012 FFF7FEFF 		bl	SDCard_GetR2
 4264 0016 0300     		movs	r3, r0
 4265 0018 7B60     		str	r3, [r7, #4]
2118:Generated_Source\PSoC4/SDCard_FS.c **** 
2119:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                 // Finish the command cycle
 4266              		.loc 1 2119 0
 4267 001a FFF7FEFF 		bl	SDCard_EndCmd
2120:Generated_Source\PSoC4/SDCard_FS.c **** 
2121:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4268              		.loc 1 2121 0
 4269 001e 7B68     		ldr	r3, [r7, #4]
2122:Generated_Source\PSoC4/SDCard_FS.c **** }
 4270              		.loc 1 2122 0
 4271 0020 1800     		movs	r0, r3
 4272 0022 BD46     		mov	sp, r7
 4273 0024 02B0     		add	sp, sp, #8
 4274              		@ sp needed
 4275 0026 80BD     		pop	{r7, pc}
 4276              		.cfi_endproc
 4277              	.LFE70:
 4278              		.size	SDCard_Cmd_13, .-SDCard_Cmd_13
 4279              		.section	.text.SDCard_GetTable,"ax",%progbits
 4280              		.align	2
 4281              		.global	SDCard_GetTable
 4282              		.code	16
 4283              		.thumb_func
 4284              		.type	SDCard_GetTable, %function
 4285              	SDCard_GetTable:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 114


 4286              	.LFB71:
2123:Generated_Source\PSoC4/SDCard_FS.c **** 
2124:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2125:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_GetTable(void)
2126:Generated_Source\PSoC4/SDCard_FS.c **** //
2127:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2128:Generated_Source\PSoC4/SDCard_FS.c **** //   Sends the sector read card command for the boot parameter table
2129:Generated_Source\PSoC4/SDCard_FS.c **** //
2130:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2131:Generated_Source\PSoC4/SDCard_FS.c **** //
2132:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
2133:Generated_Source\PSoC4/SDCard_FS.c **** //
2134:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2135:Generated_Source\PSoC4/SDCard_FS.c **** //     Returns zero for error - Boot sector address for success 
2136:Generated_Source\PSoC4/SDCard_FS.c **** //
2137:Generated_Source\PSoC4/SDCard_FS.c **** //
2138:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2139:Generated_Source\PSoC4/SDCard_FS.c **** //
2140:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2141:Generated_Source\PSoC4/SDCard_FS.c **** //
2142:Generated_Source\PSoC4/SDCard_FS.c **** //
2143:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2144:Generated_Source\PSoC4/SDCard_FS.c **** 
2145:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_GetTable(void)
2146:Generated_Source\PSoC4/SDCard_FS.c **** {
 4287              		.loc 1 2146 0
 4288              		.cfi_startproc
 4289              		@ args = 0, pretend = 0, frame = 8
 4290              		@ frame_needed = 1, uses_anonymous_args = 0
 4291 0000 80B5     		push	{r7, lr}
 4292              		.cfi_def_cfa_offset 8
 4293              		.cfi_offset 7, -8
 4294              		.cfi_offset 14, -4
 4295 0002 82B0     		sub	sp, sp, #8
 4296              		.cfi_def_cfa_offset 16
 4297 0004 00AF     		add	r7, sp, #0
 4298              		.cfi_def_cfa_register 7
2147:Generated_Source\PSoC4/SDCard_FS.c ****    ulong   BootStart=0;             // Clear BootStart value
 4299              		.loc 1 2147 0
 4300 0006 0023     		movs	r3, #0
 4301 0008 7B60     		str	r3, [r7, #4]
2148:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 4302              		.loc 1 2148 0
 4303 000a BB1C     		adds	r3, r7, #2
 4304 000c 0022     		movs	r2, #0
 4305 000e 1A70     		strb	r2, [r3]
2149:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x;                       // Loop variables
2150:Generated_Source\PSoC4/SDCard_FS.c **** 
2151:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SetSize(64);                     // Set block length to 64 for partition table reads
 4306              		.loc 1 2151 0
 4307 0010 4020     		movs	r0, #64
 4308 0012 FFF7FEFF 		bl	SDCard_SetSize
2152:Generated_Source\PSoC4/SDCard_FS.c ****    
2153:Generated_Source\PSoC4/SDCard_FS.c ****    // CMD17 - Read single block command
2154:Generated_Source\PSoC4/SDCard_FS.c ****    // Byte String = 0x51 (ulong Address) 0xFF 
2155:Generated_Source\PSoC4/SDCard_FS.c **** 
2156:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_CMD17, 0x000001BE);          // Send CMD17 command string
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 115


 4309              		.loc 1 2156 0
 4310 0016 DF23     		movs	r3, #223
 4311 0018 5B00     		lsls	r3, r3, #1
 4312 001a 1900     		movs	r1, r3
 4313 001c 5120     		movs	r0, #81
 4314 001e FFF7FEFF 		bl	SDCard_Cmd
2157:Generated_Source\PSoC4/SDCard_FS.c **** 
2158:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2159:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("CMD             ");
2160:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(0);
2161:Generated_Source\PSoC4/SDCard_FS.c **** 
2162:Generated_Source\PSoC4/SDCard_FS.c ****    // Check response
2163:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CheckReply(0) != SDCard_FAIL)        // Check for status good
 4315              		.loc 1 2163 0
 4316 0022 0020     		movs	r0, #0
 4317 0024 FFF7FEFF 		bl	SDCard_CheckReply
 4318 0028 0300     		movs	r3, r0
 4319 002a AA2B     		cmp	r3, #170
 4320 002c 33D0     		beq	.L250
2164:Generated_Source\PSoC4/SDCard_FS.c ****    {
2165:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0xFE) != SDCard_FAIL)  // Set check to Single Block Read data token
 4321              		.loc 1 2165 0
 4322 002e FE20     		movs	r0, #254
 4323 0030 FFF7FEFF 		bl	SDCard_CheckReply
 4324 0034 0300     		movs	r3, r0
 4325 0036 AA2B     		cmp	r3, #170
 4326 0038 29D0     		beq	.L251
2166:Generated_Source\PSoC4/SDCard_FS.c ****       {
2167:Generated_Source\PSoC4/SDCard_FS.c ****                                     // Get first 64 bytes and save them
2168:Generated_Source\PSoC4/SDCard_FS.c ****    
2169:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_ReadBuff(SDCard_Buffer1, 32 );
 4327              		.loc 1 2169 0
 4328 003a 1C4B     		ldr	r3, .L257
 4329 003c 1B68     		ldr	r3, [r3]
 4330 003e 2021     		movs	r1, #32
 4331 0040 1800     		movs	r0, r3
 4332 0042 FFF7FEFF 		bl	SDCard_ReadBuff
2170:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_ReadBuff(SDCard_Buffer2, 32 );
 4333              		.loc 1 2170 0
 4334 0046 1A4B     		ldr	r3, .L257+4
 4335 0048 1B68     		ldr	r3, [r3]
 4336 004a 2021     		movs	r1, #32
 4337 004c 1800     		movs	r0, r3
 4338 004e FFF7FEFF 		bl	SDCard_ReadBuff
2171:Generated_Source\PSoC4/SDCard_FS.c ****          
2172:Generated_Source\PSoC4/SDCard_FS.c ****          // Currently assume only one partition table here
2173:Generated_Source\PSoC4/SDCard_FS.c ****          
2174:Generated_Source\PSoC4/SDCard_FS.c ****          // Get starting sector of the disk (Boot Sector address)and convert from array
2175:Generated_Source\PSoC4/SDCard_FS.c **** 
2176:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2177:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("BUFFERfailnot   ");
2178:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(0);
2179:Generated_Source\PSoC4/SDCard_FS.c **** 
2180:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=11; x>=8; x--)
 4339              		.loc 1 2180 0
 4340 0052 FB1C     		adds	r3, r7, #3
 4341 0054 0B22     		movs	r2, #11
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 116


 4342 0056 1A70     		strb	r2, [r3]
 4343 0058 11E0     		b	.L252
 4344              	.L253:
2181:Generated_Source\PSoC4/SDCard_FS.c ****          {
2182:Generated_Source\PSoC4/SDCard_FS.c ****             BootStart <<=8; 
 4345              		.loc 1 2182 0 discriminator 3
 4346 005a 7B68     		ldr	r3, [r7, #4]
 4347 005c 1B02     		lsls	r3, r3, #8
 4348 005e 7B60     		str	r3, [r7, #4]
2183:Generated_Source\PSoC4/SDCard_FS.c ****             BootStart +=  SDCard_Buffer1[x];
 4349              		.loc 1 2183 0 discriminator 3
 4350 0060 124B     		ldr	r3, .L257
 4351 0062 1A68     		ldr	r2, [r3]
 4352 0064 FB1C     		adds	r3, r7, #3
 4353 0066 1B78     		ldrb	r3, [r3]
 4354 0068 D318     		adds	r3, r2, r3
 4355 006a 1B78     		ldrb	r3, [r3]
 4356 006c 1A00     		movs	r2, r3
 4357 006e 7B68     		ldr	r3, [r7, #4]
 4358 0070 9B18     		adds	r3, r3, r2
 4359 0072 7B60     		str	r3, [r7, #4]
2180:Generated_Source\PSoC4/SDCard_FS.c ****          {
 4360              		.loc 1 2180 0 discriminator 3
 4361 0074 FB1C     		adds	r3, r7, #3
 4362 0076 1A78     		ldrb	r2, [r3]
 4363 0078 FB1C     		adds	r3, r7, #3
 4364 007a 013A     		subs	r2, r2, #1
 4365 007c 1A70     		strb	r2, [r3]
 4366              	.L252:
2180:Generated_Source\PSoC4/SDCard_FS.c ****          {
 4367              		.loc 1 2180 0 is_stmt 0 discriminator 1
 4368 007e FB1C     		adds	r3, r7, #3
 4369 0080 1B78     		ldrb	r3, [r3]
 4370 0082 072B     		cmp	r3, #7
 4371 0084 E9D8     		bhi	.L253
2184:Generated_Source\PSoC4/SDCard_FS.c ****          }
2185:Generated_Source\PSoC4/SDCard_FS.c **** 
2186:Generated_Source\PSoC4/SDCard_FS.c ****          BootStart <<=9;            // Multiply by sector size (512)
 4372              		.loc 1 2186 0 is_stmt 1
 4373 0086 7B68     		ldr	r3, [r7, #4]
 4374 0088 5B02     		lsls	r3, r3, #9
 4375 008a 7B60     		str	r3, [r7, #4]
 4376 008c 06E0     		b	.L255
 4377              	.L251:
2187:Generated_Source\PSoC4/SDCard_FS.c ****       }
2188:Generated_Source\PSoC4/SDCard_FS.c ****       else
2189:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;             // Set status to failed
 4378              		.loc 1 2189 0
 4379 008e BB1C     		adds	r3, r7, #2
 4380 0090 AA22     		movs	r2, #170
 4381 0092 1A70     		strb	r2, [r3]
 4382 0094 02E0     		b	.L255
 4383              	.L250:
2190:Generated_Source\PSoC4/SDCard_FS.c ****    }
2191:Generated_Source\PSoC4/SDCard_FS.c ****    else
2192:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                // Set status to failed
 4384              		.loc 1 2192 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 117


 4385 0096 BB1C     		adds	r3, r7, #2
 4386 0098 AA22     		movs	r2, #170
 4387 009a 1A70     		strb	r2, [r3]
 4388              	.L255:
2193:Generated_Source\PSoC4/SDCard_FS.c **** 
2194:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2195:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("BUFFERfailyes   ");
2196:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(0);
2197:Generated_Source\PSoC4/SDCard_FS.c **** 
2198:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                        // Finish the command cycle
 4389              		.loc 1 2198 0
 4390 009c FFF7FEFF 		bl	SDCard_EndCmd
2199:Generated_Source\PSoC4/SDCard_FS.c **** 
2200:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2201:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("BUFFERENDDDDD   ");
2202:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(0);
2203:Generated_Source\PSoC4/SDCard_FS.c **** 
2204:Generated_Source\PSoC4/SDCard_FS.c ****    return(BootStart);               // Zero on error, BootStart on success
 4391              		.loc 1 2204 0
 4392 00a0 7B68     		ldr	r3, [r7, #4]
2205:Generated_Source\PSoC4/SDCard_FS.c **** }
 4393              		.loc 1 2205 0
 4394 00a2 1800     		movs	r0, r3
 4395 00a4 BD46     		mov	sp, r7
 4396 00a6 02B0     		add	sp, sp, #8
 4397              		@ sp needed
 4398 00a8 80BD     		pop	{r7, pc}
 4399              	.L258:
 4400 00aa C046     		.align	2
 4401              	.L257:
 4402 00ac 00000000 		.word	SDCard_Buffer1
 4403 00b0 00000000 		.word	SDCard_Buffer2
 4404              		.cfi_endproc
 4405              	.LFE71:
 4406              		.size	SDCard_GetTable, .-SDCard_GetTable
 4407              		.section	.text.SDCard_GetBoot,"ax",%progbits
 4408              		.align	2
 4409              		.global	SDCard_GetBoot
 4410              		.code	16
 4411              		.thumb_func
 4412              		.type	SDCard_GetBoot, %function
 4413              	SDCard_GetBoot:
 4414              	.LFB72:
2206:Generated_Source\PSoC4/SDCard_FS.c **** 
2207:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
2208:Generated_Source\PSoC4/SDCard_FS.c **** //      CARD DISK DRIVE FUNCTIONS - Routines to setup and use the disk drive functions of the card
2209:Generated_Source\PSoC4/SDCard_FS.c **** //=================================================================================================
2210:Generated_Source\PSoC4/SDCard_FS.c **** 
2211:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2212:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_GetBoot(ulong BootStart)
2213:Generated_Source\PSoC4/SDCard_FS.c **** //
2214:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2215:Generated_Source\PSoC4/SDCard_FS.c **** //   Sends the sector read card command for the boot sector (uses the value in BootStart) 
2216:Generated_Source\PSoC4/SDCard_FS.c **** //
2217:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2218:Generated_Source\PSoC4/SDCard_FS.c **** //
2219:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:  //  REVIEW clarify
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 118


2220:Generated_Source\PSoC4/SDCard_FS.c **** //
2221:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2222:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass or fail status  // REVIEW clarify
2223:Generated_Source\PSoC4/SDCard_FS.c **** //
2224:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2225:Generated_Source\PSoC4/SDCard_FS.c **** //
2226:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2227:Generated_Source\PSoC4/SDCard_FS.c **** //
2228:Generated_Source\PSoC4/SDCard_FS.c **** //  Fat 16 Boot Sector
2229:Generated_Source\PSoC4/SDCard_FS.c **** //  Boot Sector information - only the first sixty four bytes are needed (rest is boot code)
2230:Generated_Source\PSoC4/SDCard_FS.c **** //
2231:Generated_Source\PSoC4/SDCard_FS.c **** //   0x000     3      Jump to boot code                 - 0xEB 0xXX 0x90 (relative jump)
2232:Generated_Source\PSoC4/SDCard_FS.c **** //   0x003     8      OEM name                          - Manufactures ASCII String
2233:Generated_Source\PSoC4/SDCard_FS.c **** //   0x00B     2      Number of bytes per sector        - (512) Standard
2234:Generated_Source\PSoC4/SDCard_FS.c **** //   0x00D     1      Number of sectors per cluster     - (1-64)Usually one
2235:Generated_Source\PSoC4/SDCard_FS.c **** //   0x00E     2      Reservered sectors                - (1) Boot sector
2236:Generated_Source\PSoC4/SDCard_FS.c **** //   0x010     1      Number of FAT tables              - (2) Standard
2237:Generated_Source\PSoC4/SDCard_FS.c **** //   0x011     2      Number of root directory enries   - (512) Standard
2238:Generated_Source\PSoC4/SDCard_FS.c **** //   0x013     2      Number of sectors on media        - (1-64K) if 0 use 0x020 (Total Sectors)
2239:Generated_Source\PSoC4/SDCard_FS.c **** //   0x015     1      Media descriptor                  - (0xF8) Hard Disk
2240:Generated_Source\PSoC4/SDCard_FS.c **** //   0x016     2      Number of sectors per FAT         - (1-64K) Depends on disk size
2241:Generated_Source\PSoC4/SDCard_FS.c **** //   0x018     2      Number of sectors per track       - (32) No meaning
2242:Generated_Source\PSoC4/SDCard_FS.c **** //   0x01A     2      Number of Heads                   - (2)  No meaning
2243:Generated_Source\PSoC4/SDCard_FS.c **** //   0x01C     4      Number of hidden sectors          - (0)
2244:Generated_Source\PSoC4/SDCard_FS.c **** //   0x020     4      Number of total sectors           - (0xXXXX) If 0x013 is 0 only
2245:Generated_Source\PSoC4/SDCard_FS.c **** //   0x024     1      Drive number                      - (0x80) Standard
2246:Generated_Source\PSoC4/SDCard_FS.c **** //   0x025     1      Reserved                          - Not used
2247:Generated_Source\PSoC4/SDCard_FS.c **** //   0x026     1      Extended boot signature           - (0x29) Standard
2248:Generated_Source\PSoC4/SDCard_FS.c **** //   0x027     4      Volume ID/Serial number           - BCD string
2249:Generated_Source\PSoC4/SDCard_FS.c **** //   0x02B    11      Volume label                      - ASCII string
2250:Generated_Source\PSoC4/SDCard_FS.c **** //   0x036     8      File System Type                  - ASCII string 'FAT16   '
2251:Generated_Source\PSoC4/SDCard_FS.c **** //   0x03E   448      Boot code (if present)            - Boot code
2252:Generated_Source\PSoC4/SDCard_FS.c **** //   0x1FE     2      Signature                         - (0x55AA) Standard
2253:Generated_Source\PSoC4/SDCard_FS.c **** //
2254:Generated_Source\PSoC4/SDCard_FS.c **** //  NOTE: For FAT 16 only the first 64 bytes (0x40) contain data necessary for disk access
2255:Generated_Source\PSoC4/SDCard_FS.c **** //        For FAT 32 access must be able to read 0x052
2256:Generated_Source\PSoC4/SDCard_FS.c **** 
2257:Generated_Source\PSoC4/SDCard_FS.c **** //
2258:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2259:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2260:Generated_Source\PSoC4/SDCard_FS.c **** 
2261:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_GetBoot(ulong BootStart)
2262:Generated_Source\PSoC4/SDCard_FS.c **** {
 4415              		.loc 1 2262 0
 4416              		.cfi_startproc
 4417              		@ args = 0, pretend = 0, frame = 24
 4418              		@ frame_needed = 1, uses_anonymous_args = 0
 4419 0000 80B5     		push	{r7, lr}
 4420              		.cfi_def_cfa_offset 8
 4421              		.cfi_offset 7, -8
 4422              		.cfi_offset 14, -4
 4423 0002 86B0     		sub	sp, sp, #24
 4424              		.cfi_def_cfa_offset 32
 4425 0004 00AF     		add	r7, sp, #0
 4426              		.cfi_def_cfa_register 7
 4427 0006 7860     		str	r0, [r7, #4]
2263:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 119


 4428              		.loc 1 2263 0
 4429 0008 1723     		movs	r3, #23
 4430 000a FB18     		adds	r3, r7, r3
 4431 000c 0022     		movs	r2, #0
 4432 000e 1A70     		strb	r2, [r3]
2264:Generated_Source\PSoC4/SDCard_FS.c ****    uint    TempInt;       // Temporary int  for intermediate calculations
2265:Generated_Source\PSoC4/SDCard_FS.c ****    uint   x;              // Loop variable
2266:Generated_Source\PSoC4/SDCard_FS.c ****    ulong   TempLong = 0;  // Temporary long for intermediate calculations
 4433              		.loc 1 2266 0
 4434 0010 0023     		movs	r3, #0
 4435 0012 FB60     		str	r3, [r7, #12]
2267:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SetSize(512);          // Set block length to 512 for boot sector reads
 4436              		.loc 1 2267 0
 4437 0014 8023     		movs	r3, #128
 4438 0016 9B00     		lsls	r3, r3, #2
 4439 0018 1800     		movs	r0, r3
 4440 001a FFF7FEFF 		bl	SDCard_SetSize
2268:Generated_Source\PSoC4/SDCard_FS.c **** 
2269:Generated_Source\PSoC4/SDCard_FS.c ****    if(BootStart == 0)                      // Is boot address valid?
 4441              		.loc 1 2269 0
 4442 001e 7B68     		ldr	r3, [r7, #4]
 4443 0020 002B     		cmp	r3, #0
 4444 0022 04D1     		bne	.L260
2270:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                       // No, set error flag
 4445              		.loc 1 2270 0
 4446 0024 1723     		movs	r3, #23
 4447 0026 FB18     		adds	r3, r7, r3
 4448 0028 AA22     		movs	r2, #170
 4449 002a 1A70     		strb	r2, [r3]
 4450 002c AAE1     		b	.L261
 4451              	.L260:
2271:Generated_Source\PSoC4/SDCard_FS.c ****    else
2272:Generated_Source\PSoC4/SDCard_FS.c ****    {
2273:Generated_Source\PSoC4/SDCard_FS.c ****       // CMD17 - Read single block command
2274:Generated_Source\PSoC4/SDCard_FS.c ****       // Byte String = 0x51 (ulong Address) 0xFF 
2275:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Cmd(SDCard_CMD17, BootStart);               // Send CMD17 command string
 4452              		.loc 1 2275 0
 4453 002e 7B68     		ldr	r3, [r7, #4]
 4454 0030 1900     		movs	r1, r3
 4455 0032 5120     		movs	r0, #81
 4456 0034 FFF7FEFF 		bl	SDCard_Cmd
2276:Generated_Source\PSoC4/SDCard_FS.c ****    
2277:Generated_Source\PSoC4/SDCard_FS.c ****       // Check response
2278:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0) != SDCard_FAIL)            // Check for status good
 4457              		.loc 1 2278 0
 4458 0038 0020     		movs	r0, #0
 4459 003a FFF7FEFF 		bl	SDCard_CheckReply
 4460 003e 0300     		movs	r3, r0
 4461 0040 AA2B     		cmp	r3, #170
 4462 0042 00D1     		bne	.LCB3823
 4463 0044 9AE1     		b	.L262	@long jump
 4464              	.LCB3823:
2279:Generated_Source\PSoC4/SDCard_FS.c ****       {
2280:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CheckReply(0xFE) != SDCard_FAIL)      // Set check to Single Block Read data tok
 4465              		.loc 1 2280 0
 4466 0046 FE20     		movs	r0, #254
 4467 0048 FFF7FEFF 		bl	SDCard_CheckReply
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 120


 4468 004c 0300     		movs	r3, r0
 4469 004e AA2B     		cmp	r3, #170
 4470 0050 00D1     		bne	.LCB3828
 4471 0052 8EE1     		b	.L263	@long jump
 4472              	.LCB3828:
2281:Generated_Source\PSoC4/SDCard_FS.c ****          {
2282:Generated_Source\PSoC4/SDCard_FS.c ****             // Get first 64 bytes and save them
2283:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadBuff256(SDCard_Buffer1);
 4473              		.loc 1 2283 0
 4474 0054 D04B     		ldr	r3, .L285
 4475 0056 1B68     		ldr	r3, [r3]
 4476 0058 1800     		movs	r0, r3
 4477 005a FFF7FEFF 		bl	SDCard_ReadBuff256
2284:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadBuff256(SDCard_Buffer2);
 4478              		.loc 1 2284 0
 4479 005e CF4B     		ldr	r3, .L285+4
 4480 0060 1B68     		ldr	r3, [r3]
 4481 0062 1800     		movs	r0, r3
 4482 0064 FFF7FEFF 		bl	SDCard_ReadBuff256
2285:Generated_Source\PSoC4/SDCard_FS.c ****    
2286:Generated_Source\PSoC4/SDCard_FS.c ****             // Save the number of sectors pur cluster (number of sectors per FAT entry assigned)
2287:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ClusterSize = SDCard_Buffer1[0x0D];   // Save cluster size
 4483              		.loc 1 2287 0
 4484 0068 CB4B     		ldr	r3, .L285
 4485 006a 1B68     		ldr	r3, [r3]
 4486 006c 5A7B     		ldrb	r2, [r3, #13]
 4487 006e CC4B     		ldr	r3, .L285+8
 4488 0070 1A70     		strb	r2, [r3]
2288:Generated_Source\PSoC4/SDCard_FS.c **** 
2289:Generated_Source\PSoC4/SDCard_FS.c ****             // Calculate the start of the first FAT table (# of boot sectors * 512 plus Boot start 
2290:Generated_Source\PSoC4/SDCard_FS.c ****             TempInt  =  SDCard_Buffer1[0x0F];     // Get first byte of array (# of boot sectors)
 4489              		.loc 1 2290 0
 4490 0072 C94B     		ldr	r3, .L285
 4491 0074 1B68     		ldr	r3, [r3]
 4492 0076 0F33     		adds	r3, r3, #15
 4493 0078 1B78     		ldrb	r3, [r3]
 4494 007a BB60     		str	r3, [r7, #8]
2291:Generated_Source\PSoC4/SDCard_FS.c ****             TempInt <<= 8;                 // Put in upper byte
 4495              		.loc 1 2291 0
 4496 007c BB68     		ldr	r3, [r7, #8]
 4497 007e 1B02     		lsls	r3, r3, #8
 4498 0080 BB60     		str	r3, [r7, #8]
2292:Generated_Source\PSoC4/SDCard_FS.c ****             TempInt +=  SDCard_Buffer1[0x0E];     // Add in lower byte to make an int
 4499              		.loc 1 2292 0
 4500 0082 C54B     		ldr	r3, .L285
 4501 0084 1B68     		ldr	r3, [r3]
 4502 0086 0E33     		adds	r3, r3, #14
 4503 0088 1B78     		ldrb	r3, [r3]
 4504 008a 1A00     		movs	r2, r3
 4505 008c BB68     		ldr	r3, [r7, #8]
 4506 008e 9B18     		adds	r3, r3, r2
 4507 0090 BB60     		str	r3, [r7, #8]
2293:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_Fat1Start = ( ( (ulong) TempInt * 512) + BootStart );
 4508              		.loc 1 2293 0
 4509 0092 BB68     		ldr	r3, [r7, #8]
 4510 0094 5A02     		lsls	r2, r3, #9
 4511 0096 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 121


 4512 0098 D218     		adds	r2, r2, r3
 4513 009a C24B     		ldr	r3, .L285+12
 4514 009c 1A60     		str	r2, [r3]
2294:Generated_Source\PSoC4/SDCard_FS.c **** 
2295:Generated_Source\PSoC4/SDCard_FS.c ****             // Double check FAT type info
2296:Generated_Source\PSoC4/SDCard_FS.c ****             if( (SDCard_Buffer1[0x36]== 'F')&&(SDCard_Buffer1[0x37]== 'A')&&(SDCard_Buffer1[0x38]==
 4515              		.loc 1 2296 0
 4516 009e BE4B     		ldr	r3, .L285
 4517 00a0 1B68     		ldr	r3, [r3]
 4518 00a2 3633     		adds	r3, r3, #54
 4519 00a4 1B78     		ldrb	r3, [r3]
 4520 00a6 462B     		cmp	r3, #70
 4521 00a8 51D1     		bne	.L264
 4522              		.loc 1 2296 0 is_stmt 0 discriminator 1
 4523 00aa BB4B     		ldr	r3, .L285
 4524 00ac 1B68     		ldr	r3, [r3]
 4525 00ae 3733     		adds	r3, r3, #55
 4526 00b0 1B78     		ldrb	r3, [r3]
 4527 00b2 412B     		cmp	r3, #65
 4528 00b4 4BD1     		bne	.L264
 4529              		.loc 1 2296 0 discriminator 2
 4530 00b6 B84B     		ldr	r3, .L285
 4531 00b8 1B68     		ldr	r3, [r3]
 4532 00ba 3833     		adds	r3, r3, #56
 4533 00bc 1B78     		ldrb	r3, [r3]
 4534 00be 542B     		cmp	r3, #84
 4535 00c0 45D1     		bne	.L264
2297:Generated_Source\PSoC4/SDCard_FS.c ****             {
2298:Generated_Source\PSoC4/SDCard_FS.c ****                if( (SDCard_Buffer1[0x39]== '1')&&(SDCard_Buffer1[0x3A]== '2') )
 4536              		.loc 1 2298 0 is_stmt 1
 4537 00c2 B54B     		ldr	r3, .L285
 4538 00c4 1B68     		ldr	r3, [r3]
 4539 00c6 3933     		adds	r3, r3, #57
 4540 00c8 1B78     		ldrb	r3, [r3]
 4541 00ca 312B     		cmp	r3, #49
 4542 00cc 1BD1     		bne	.L265
 4543              		.loc 1 2298 0 is_stmt 0 discriminator 1
 4544 00ce B24B     		ldr	r3, .L285
 4545 00d0 1B68     		ldr	r3, [r3]
 4546 00d2 3A33     		adds	r3, r3, #58
 4547 00d4 1B78     		ldrb	r3, [r3]
 4548 00d6 322B     		cmp	r3, #50
 4549 00d8 15D1     		bne	.L265
2299:Generated_Source\PSoC4/SDCard_FS.c ****                {
2300:Generated_Source\PSoC4/SDCard_FS.c ****                   if((SDCard_CardType & SDCard_XFAT) != 0x10)
 4550              		.loc 1 2300 0 is_stmt 1
 4551 00da B34B     		ldr	r3, .L285+16
 4552 00dc 1B78     		ldrb	r3, [r3]
 4553 00de 1A00     		movs	r2, r3
 4554 00e0 F023     		movs	r3, #240
 4555 00e2 1340     		ands	r3, r2
 4556 00e4 102B     		cmp	r3, #16
 4557 00e6 31D0     		beq	.L267
2301:Generated_Source\PSoC4/SDCard_FS.c ****                   {
2302:Generated_Source\PSoC4/SDCard_FS.c ****                      // If not a FAT12 file system - make it a FAT12
2303:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_CardType &= SDCard_XCARD;
 4558              		.loc 1 2303 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 122


 4559 00e8 AF4B     		ldr	r3, .L285+16
 4560 00ea 1B78     		ldrb	r3, [r3]
 4561 00ec 0F22     		movs	r2, #15
 4562 00ee 1340     		ands	r3, r2
 4563 00f0 DAB2     		uxtb	r2, r3
 4564 00f2 AD4B     		ldr	r3, .L285+16
 4565 00f4 1A70     		strb	r2, [r3]
2304:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_CardType |= 0x10;
 4566              		.loc 1 2304 0
 4567 00f6 AC4B     		ldr	r3, .L285+16
 4568 00f8 1B78     		ldrb	r3, [r3]
 4569 00fa 1022     		movs	r2, #16
 4570 00fc 1343     		orrs	r3, r2
 4571 00fe DAB2     		uxtb	r2, r3
 4572 0100 A94B     		ldr	r3, .L285+16
 4573 0102 1A70     		strb	r2, [r3]
2300:Generated_Source\PSoC4/SDCard_FS.c ****                   {
 4574              		.loc 1 2300 0
 4575 0104 22E0     		b	.L267
 4576              	.L265:
2305:Generated_Source\PSoC4/SDCard_FS.c ****                   }
2306:Generated_Source\PSoC4/SDCard_FS.c ****                }
2307:Generated_Source\PSoC4/SDCard_FS.c ****                else if( (SDCard_Buffer1[0x39]== '1')&&(SDCard_Buffer1[0x3A]== '6') )
 4577              		.loc 1 2307 0
 4578 0106 A44B     		ldr	r3, .L285
 4579 0108 1B68     		ldr	r3, [r3]
 4580 010a 3933     		adds	r3, r3, #57
 4581 010c 1B78     		ldrb	r3, [r3]
 4582 010e 312B     		cmp	r3, #49
 4583 0110 14D1     		bne	.L268
 4584              		.loc 1 2307 0 is_stmt 0 discriminator 1
 4585 0112 A14B     		ldr	r3, .L285
 4586 0114 1B68     		ldr	r3, [r3]
 4587 0116 3A33     		adds	r3, r3, #58
 4588 0118 1B78     		ldrb	r3, [r3]
 4589 011a 362B     		cmp	r3, #54
 4590 011c 0ED1     		bne	.L268
2308:Generated_Source\PSoC4/SDCard_FS.c ****                {
2309:Generated_Source\PSoC4/SDCard_FS.c ****                   // FAT16 file system - make it a FAT16
2310:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_CardType &= SDCard_XCARD;
 4591              		.loc 1 2310 0 is_stmt 1
 4592 011e A24B     		ldr	r3, .L285+16
 4593 0120 1B78     		ldrb	r3, [r3]
 4594 0122 0F22     		movs	r2, #15
 4595 0124 1340     		ands	r3, r2
 4596 0126 DAB2     		uxtb	r2, r3
 4597 0128 9F4B     		ldr	r3, .L285+16
 4598 012a 1A70     		strb	r2, [r3]
2311:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_CardType |= 0x40;
 4599              		.loc 1 2311 0
 4600 012c 9E4B     		ldr	r3, .L285+16
 4601 012e 1B78     		ldrb	r3, [r3]
 4602 0130 4022     		movs	r2, #64
 4603 0132 1343     		orrs	r3, r2
 4604 0134 DAB2     		uxtb	r2, r3
 4605 0136 9C4B     		ldr	r3, .L285+16
 4606 0138 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 123


 4607 013a 07E0     		b	.L267
 4608              	.L268:
2312:Generated_Source\PSoC4/SDCard_FS.c ****                }
2313:Generated_Source\PSoC4/SDCard_FS.c ****                else
2314:Generated_Source\PSoC4/SDCard_FS.c ****                {
2315:Generated_Source\PSoC4/SDCard_FS.c ****                   // If not a valid FAT file system - zero FAT type
2316:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_CardType &= SDCard_XCARD;
 4609              		.loc 1 2316 0
 4610 013c 9A4B     		ldr	r3, .L285+16
 4611 013e 1B78     		ldrb	r3, [r3]
 4612 0140 0F22     		movs	r2, #15
 4613 0142 1340     		ands	r3, r2
 4614 0144 DAB2     		uxtb	r2, r3
 4615 0146 984B     		ldr	r3, .L285+16
 4616 0148 1A70     		strb	r2, [r3]
2298:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4617              		.loc 1 2298 0
 4618 014a 44E0     		b	.L269
 4619              	.L267:
2298:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4620              		.loc 1 2298 0 is_stmt 0 discriminator 1
 4621 014c 43E0     		b	.L269
 4622              	.L264:
2317:Generated_Source\PSoC4/SDCard_FS.c ****                }
2318:Generated_Source\PSoC4/SDCard_FS.c ****                
2319:Generated_Source\PSoC4/SDCard_FS.c ****             }
2320:Generated_Source\PSoC4/SDCard_FS.c ****             else if( (SDCard_Buffer1[0x52]== 'F')&&(SDCard_Buffer1[0x53]== 'A')&&(SDCard_Buffer1[0x
 4623              		.loc 1 2320 0 is_stmt 1
 4624 014e 924B     		ldr	r3, .L285
 4625 0150 1B68     		ldr	r3, [r3]
 4626 0152 5233     		adds	r3, r3, #82
 4627 0154 1B78     		ldrb	r3, [r3]
 4628 0156 462B     		cmp	r3, #70
 4629 0158 2ED1     		bne	.L270
 4630              		.loc 1 2320 0 is_stmt 0 discriminator 1
 4631 015a 8F4B     		ldr	r3, .L285
 4632 015c 1B68     		ldr	r3, [r3]
 4633 015e 5333     		adds	r3, r3, #83
 4634 0160 1B78     		ldrb	r3, [r3]
 4635 0162 412B     		cmp	r3, #65
 4636 0164 28D1     		bne	.L270
 4637              		.loc 1 2320 0 discriminator 2
 4638 0166 8C4B     		ldr	r3, .L285
 4639 0168 1B68     		ldr	r3, [r3]
 4640 016a 5433     		adds	r3, r3, #84
 4641 016c 1B78     		ldrb	r3, [r3]
 4642 016e 542B     		cmp	r3, #84
 4643 0170 22D1     		bne	.L270
2321:Generated_Source\PSoC4/SDCard_FS.c ****             {
2322:Generated_Source\PSoC4/SDCard_FS.c ****                if( (SDCard_Buffer1[0x55]== '3')&&(SDCard_Buffer1[0x56]== '2') )
 4644              		.loc 1 2322 0 is_stmt 1
 4645 0172 894B     		ldr	r3, .L285
 4646 0174 1B68     		ldr	r3, [r3]
 4647 0176 5533     		adds	r3, r3, #85
 4648 0178 1B78     		ldrb	r3, [r3]
 4649 017a 332B     		cmp	r3, #51
 4650 017c 2AD1     		bne	.L284
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 124


 4651              		.loc 1 2322 0 is_stmt 0 discriminator 1
 4652 017e 864B     		ldr	r3, .L285
 4653 0180 1B68     		ldr	r3, [r3]
 4654 0182 5633     		adds	r3, r3, #86
 4655 0184 1B78     		ldrb	r3, [r3]
 4656 0186 322B     		cmp	r3, #50
 4657 0188 24D1     		bne	.L284
2323:Generated_Source\PSoC4/SDCard_FS.c ****                {
2324:Generated_Source\PSoC4/SDCard_FS.c ****                   if((SDCard_CardType & SDCard_XFAT) != 0xB0)
 4658              		.loc 1 2324 0 is_stmt 1
 4659 018a 874B     		ldr	r3, .L285+16
 4660 018c 1B78     		ldrb	r3, [r3]
 4661 018e 1A00     		movs	r2, r3
 4662 0190 F023     		movs	r3, #240
 4663 0192 1340     		ands	r3, r2
 4664 0194 B02B     		cmp	r3, #176
 4665 0196 1DD0     		beq	.L284
2325:Generated_Source\PSoC4/SDCard_FS.c ****                   {
2326:Generated_Source\PSoC4/SDCard_FS.c ****                      // If not a FAT32 file system - make it a FAT32
2327:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_CardType &= SDCard_XCARD;
 4666              		.loc 1 2327 0
 4667 0198 834B     		ldr	r3, .L285+16
 4668 019a 1B78     		ldrb	r3, [r3]
 4669 019c 0F22     		movs	r2, #15
 4670 019e 1340     		ands	r3, r2
 4671 01a0 DAB2     		uxtb	r2, r3
 4672 01a2 814B     		ldr	r3, .L285+16
 4673 01a4 1A70     		strb	r2, [r3]
2328:Generated_Source\PSoC4/SDCard_FS.c ****                      SDCard_CardType |= 0xB0;
 4674              		.loc 1 2328 0
 4675 01a6 804B     		ldr	r3, .L285+16
 4676 01a8 1B78     		ldrb	r3, [r3]
 4677 01aa 5022     		movs	r2, #80
 4678 01ac 5242     		rsbs	r2, r2, #0
 4679 01ae 1343     		orrs	r3, r2
 4680 01b0 DAB2     		uxtb	r2, r3
 4681 01b2 7D4B     		ldr	r3, .L285+16
 4682 01b4 1A70     		strb	r2, [r3]
2322:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4683              		.loc 1 2322 0
 4684 01b6 0DE0     		b	.L284
 4685              	.L270:
2329:Generated_Source\PSoC4/SDCard_FS.c ****                   }
2330:Generated_Source\PSoC4/SDCard_FS.c ****                }
2331:Generated_Source\PSoC4/SDCard_FS.c ****             }
2332:Generated_Source\PSoC4/SDCard_FS.c ****             else
2333:Generated_Source\PSoC4/SDCard_FS.c ****             {
2334:Generated_Source\PSoC4/SDCard_FS.c ****                // If not a FAT file system - zero FAT type
2335:Generated_Source\PSoC4/SDCard_FS.c ****                if((SDCard_CardType & SDCard_XFAT) != 0)
 4686              		.loc 1 2335 0
 4687 01b8 7B4B     		ldr	r3, .L285+16
 4688 01ba 1B78     		ldrb	r3, [r3]
 4689 01bc 1A00     		movs	r2, r3
 4690 01be F023     		movs	r3, #240
 4691 01c0 1340     		ands	r3, r2
 4692 01c2 08D0     		beq	.L269
2336:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_CardType &= SDCard_XCARD;
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 125


 4693              		.loc 1 2336 0
 4694 01c4 784B     		ldr	r3, .L285+16
 4695 01c6 1B78     		ldrb	r3, [r3]
 4696 01c8 0F22     		movs	r2, #15
 4697 01ca 1340     		ands	r3, r2
 4698 01cc DAB2     		uxtb	r2, r3
 4699 01ce 764B     		ldr	r3, .L285+16
 4700 01d0 1A70     		strb	r2, [r3]
 4701 01d2 00E0     		b	.L269
 4702              	.L284:
2322:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4703              		.loc 1 2322 0
 4704 01d4 C046     		nop
 4705              	.L269:
2337:Generated_Source\PSoC4/SDCard_FS.c ****             }
2338:Generated_Source\PSoC4/SDCard_FS.c ****             
2339:Generated_Source\PSoC4/SDCard_FS.c ****             // Set FAT size
2340:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FatEnd = 0xFFFF;               // Set to FAT16 FAT parameters
 4706              		.loc 1 2340 0
 4707 01d6 754B     		ldr	r3, .L285+20
 4708 01d8 754A     		ldr	r2, .L285+24
 4709 01da 1A60     		str	r2, [r3]
2341:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FatEntrySize = 2;   
 4710              		.loc 1 2341 0
 4711 01dc 754B     		ldr	r3, .L285+28
 4712 01de 0222     		movs	r2, #2
 4713 01e0 1A70     		strb	r2, [r3]
2342:Generated_Source\PSoC4/SDCard_FS.c **** 
2343:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2344:Generated_Source\PSoC4/SDCard_FS.c ****          // If the file type is FAT32, set the parameters to match
2345:Generated_Source\PSoC4/SDCard_FS.c ****          if((SDCard_CardType & SDCard_XFAT) == 0xB0)
 4714              		.loc 1 2345 0
 4715 01e2 714B     		ldr	r3, .L285+16
 4716 01e4 1B78     		ldrb	r3, [r3]
 4717 01e6 1A00     		movs	r2, r3
 4718 01e8 F023     		movs	r3, #240
 4719 01ea 1340     		ands	r3, r2
 4720 01ec B02B     		cmp	r3, #176
 4721 01ee 08D1     		bne	.L272
2346:Generated_Source\PSoC4/SDCard_FS.c ****          {
2347:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FatEnd = 0x0FFFFFFF;           // Set to FAT32 FAT parameters
 4722              		.loc 1 2347 0
 4723 01f0 6E4B     		ldr	r3, .L285+20
 4724 01f2 714A     		ldr	r2, .L285+32
 4725 01f4 1A60     		str	r2, [r3]
2348:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FatEntrySize = 4;
 4726              		.loc 1 2348 0
 4727 01f6 6F4B     		ldr	r3, .L285+28
 4728 01f8 0422     		movs	r2, #4
 4729 01fa 1A70     		strb	r2, [r3]
2349:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_DirSize = 0xFFFE;              // Set max directory size (for int value - 0xFFFF
 4730              		.loc 1 2349 0
 4731 01fc 6F4B     		ldr	r3, .L285+36
 4732 01fe 704A     		ldr	r2, .L285+40
 4733 0200 1A60     		str	r2, [r3]
 4734              	.L272:
2350:Generated_Source\PSoC4/SDCard_FS.c ****          }
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 126


2351:Generated_Source\PSoC4/SDCard_FS.c **** #endif                        
2352:Generated_Source\PSoC4/SDCard_FS.c ****             // If FAT12 or FAT6 use basic boot sector table and formula
2353:Generated_Source\PSoC4/SDCard_FS.c ****             if(((SDCard_CardType & SDCard_XFAT) == 0x10)||((SDCard_CardType & SDCard_XFAT) == 0x40)
 4735              		.loc 1 2353 0
 4736 0202 694B     		ldr	r3, .L285+16
 4737 0204 1B78     		ldrb	r3, [r3]
 4738 0206 1A00     		movs	r2, r3
 4739 0208 F023     		movs	r3, #240
 4740 020a 1340     		ands	r3, r2
 4741 020c 102B     		cmp	r3, #16
 4742 020e 0DD0     		beq	.L273
 4743              		.loc 1 2353 0 is_stmt 0 discriminator 1
 4744 0210 654B     		ldr	r3, .L285+16
 4745 0212 1B78     		ldrb	r3, [r3]
 4746 0214 1A00     		movs	r2, r3
 4747 0216 F023     		movs	r3, #240
 4748 0218 1340     		ands	r3, r2
 4749 021a 402B     		cmp	r3, #64
 4750 021c 06D0     		beq	.L273
 4751              		.loc 1 2353 0 discriminator 2
 4752 021e 624B     		ldr	r3, .L285+16
 4753 0220 1B78     		ldrb	r3, [r3]
 4754 0222 1A00     		movs	r2, r3
 4755 0224 F023     		movs	r3, #240
 4756 0226 1340     		ands	r3, r2
 4757 0228 602B     		cmp	r3, #96
 4758 022a 46D1     		bne	.L274
 4759              	.L273:
2354:Generated_Source\PSoC4/SDCard_FS.c ****             {            
2355:Generated_Source\PSoC4/SDCard_FS.c ****                // Calculate the start of the Root Directory ( Fat size * # of Fats * 512 plus Fat s
2356:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt  =  SDCard_Buffer1[0x17];  // Get first byte of array (FAT size)
 4760              		.loc 1 2356 0 is_stmt 1
 4761 022c 5A4B     		ldr	r3, .L285
 4762 022e 1B68     		ldr	r3, [r3]
 4763 0230 1733     		adds	r3, r3, #23
 4764 0232 1B78     		ldrb	r3, [r3]
 4765 0234 BB60     		str	r3, [r7, #8]
2357:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt <<= 8;              // Put in upper byte
 4766              		.loc 1 2357 0
 4767 0236 BB68     		ldr	r3, [r7, #8]
 4768 0238 1B02     		lsls	r3, r3, #8
 4769 023a BB60     		str	r3, [r7, #8]
2358:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt +=  SDCard_Buffer1[0x16];  // Add in lower byte to make an int
 4770              		.loc 1 2358 0
 4771 023c 564B     		ldr	r3, .L285
 4772 023e 1B68     		ldr	r3, [r3]
 4773 0240 1633     		adds	r3, r3, #22
 4774 0242 1B78     		ldrb	r3, [r3]
 4775 0244 1A00     		movs	r2, r3
 4776 0246 BB68     		ldr	r3, [r7, #8]
 4777 0248 9B18     		adds	r3, r3, r2
 4778 024a BB60     		str	r3, [r7, #8]
2359:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_Buffer1[0x10] >= 2)
 4779              		.loc 1 2359 0
 4780 024c 524B     		ldr	r3, .L285
 4781 024e 1B68     		ldr	r3, [r3]
 4782 0250 1033     		adds	r3, r3, #16
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 127


 4783 0252 1B78     		ldrb	r3, [r3]
 4784 0254 012B     		cmp	r3, #1
 4785 0256 06D9     		bls	.L275
2360:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_Fat2Start = SDCard_Fat1Start + ((ulong)TempInt * 512);
 4786              		.loc 1 2360 0
 4787 0258 BB68     		ldr	r3, [r7, #8]
 4788 025a 5A02     		lsls	r2, r3, #9
 4789 025c 514B     		ldr	r3, .L285+12
 4790 025e 1B68     		ldr	r3, [r3]
 4791 0260 D218     		adds	r2, r2, r3
 4792 0262 584B     		ldr	r3, .L285+44
 4793 0264 1A60     		str	r2, [r3]
 4794              	.L275:
2361:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DirStart = ( ( (ulong) TempInt * SDCard_Buffer1[0x10] * 512 ) + SDCard_Fat1St
 4795              		.loc 1 2361 0
 4796 0266 4C4B     		ldr	r3, .L285
 4797 0268 1B68     		ldr	r3, [r3]
 4798 026a 1033     		adds	r3, r3, #16
 4799 026c 1B78     		ldrb	r3, [r3]
 4800 026e 1A00     		movs	r2, r3
 4801 0270 BB68     		ldr	r3, [r7, #8]
 4802 0272 5343     		muls	r3, r2
 4803 0274 5A02     		lsls	r2, r3, #9
 4804 0276 4B4B     		ldr	r3, .L285+12
 4805 0278 1B68     		ldr	r3, [r3]
 4806 027a D218     		adds	r2, r2, r3
 4807 027c 524B     		ldr	r3, .L285+48
 4808 027e 1A60     		str	r2, [r3]
2362:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DirFat = 0;                 // Root Directory value is fixed - Use DirStart a
 4809              		.loc 1 2362 0
 4810 0280 524B     		ldr	r3, .L285+52
 4811 0282 0022     		movs	r2, #0
 4812 0284 1A60     		str	r2, [r3]
2363:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_CurStart[SDCard_MAXFILES] = 0;     // Set root FAT entry to zero - No FAT dir
 4813              		.loc 1 2363 0
 4814 0286 524B     		ldr	r3, .L285+56
 4815 0288 0022     		movs	r2, #0
 4816 028a 9A60     		str	r2, [r3, #8]
2364:Generated_Source\PSoC4/SDCard_FS.c **** 
2365:Generated_Source\PSoC4/SDCard_FS.c ****                // Calculate start of data area (root size(usually 512) * entry size(32) plus Dir st
2366:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt  =  SDCard_Buffer1[0x12];  // Get first byte of array (Fat size)
 4817              		.loc 1 2366 0
 4818 028c 424B     		ldr	r3, .L285
 4819 028e 1B68     		ldr	r3, [r3]
 4820 0290 1233     		adds	r3, r3, #18
 4821 0292 1B78     		ldrb	r3, [r3]
 4822 0294 BB60     		str	r3, [r7, #8]
2367:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt <<= 8;              // Put in upper byte
 4823              		.loc 1 2367 0
 4824 0296 BB68     		ldr	r3, [r7, #8]
 4825 0298 1B02     		lsls	r3, r3, #8
 4826 029a BB60     		str	r3, [r7, #8]
2368:Generated_Source\PSoC4/SDCard_FS.c ****                TempInt +=  SDCard_Buffer1[0x11];  // Add in lower byte to make an int
 4827              		.loc 1 2368 0
 4828 029c 3E4B     		ldr	r3, .L285
 4829 029e 1B68     		ldr	r3, [r3]
 4830 02a0 1133     		adds	r3, r3, #17
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 128


 4831 02a2 1B78     		ldrb	r3, [r3]
 4832 02a4 1A00     		movs	r2, r3
 4833 02a6 BB68     		ldr	r3, [r7, #8]
 4834 02a8 9B18     		adds	r3, r3, r2
 4835 02aa BB60     		str	r3, [r7, #8]
2369:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DataStart = ( ( (ulong) TempInt * 32 ) + SDCard_DirStart );
 4836              		.loc 1 2369 0
 4837 02ac BB68     		ldr	r3, [r7, #8]
 4838 02ae 5A01     		lsls	r2, r3, #5
 4839 02b0 454B     		ldr	r3, .L285+48
 4840 02b2 1B68     		ldr	r3, [r3]
 4841 02b4 D218     		adds	r2, r2, r3
 4842 02b6 474B     		ldr	r3, .L285+60
 4843 02b8 1A60     		str	r2, [r3]
 4844              	.L274:
2370:Generated_Source\PSoC4/SDCard_FS.c ****             }
2371:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2372:Generated_Source\PSoC4/SDCard_FS.c ****             // If FAT32 use new 32 bit boot sector table and formula
2373:Generated_Source\PSoC4/SDCard_FS.c ****             if((SDCard_CardType & SDCard_XFAT) == 0xB0)
 4845              		.loc 1 2373 0
 4846 02ba 3B4B     		ldr	r3, .L285+16
 4847 02bc 1B78     		ldrb	r3, [r3]
 4848 02be 1A00     		movs	r2, r3
 4849 02c0 F023     		movs	r3, #240
 4850 02c2 1340     		ands	r3, r2
 4851 02c4 B02B     		cmp	r3, #176
 4852 02c6 5DD1     		bne	.L261
2374:Generated_Source\PSoC4/SDCard_FS.c ****             {            
2375:Generated_Source\PSoC4/SDCard_FS.c ****                // Calculate start of data area (Sectors per FAT * Number of FATs * Sector size) + F
2376:Generated_Source\PSoC4/SDCard_FS.c ****                for(x=0x27; x>=0x24; x--)
 4853              		.loc 1 2376 0
 4854 02c8 2723     		movs	r3, #39
 4855 02ca 3B61     		str	r3, [r7, #16]
 4856 02cc 0EE0     		b	.L277
 4857              	.L278:
2377:Generated_Source\PSoC4/SDCard_FS.c ****                {
2378:Generated_Source\PSoC4/SDCard_FS.c ****                TempLong <<= 8;             // Put in next upper byte
 4858              		.loc 1 2378 0 discriminator 3
 4859 02ce FB68     		ldr	r3, [r7, #12]
 4860 02d0 1B02     		lsls	r3, r3, #8
 4861 02d2 FB60     		str	r3, [r7, #12]
2379:Generated_Source\PSoC4/SDCard_FS.c ****                TempLong +=  SDCard_Buffer1[x];    // Add in next byte to make a long
 4862              		.loc 1 2379 0 discriminator 3
 4863 02d4 304B     		ldr	r3, .L285
 4864 02d6 1A68     		ldr	r2, [r3]
 4865 02d8 3B69     		ldr	r3, [r7, #16]
 4866 02da D318     		adds	r3, r2, r3
 4867 02dc 1B78     		ldrb	r3, [r3]
 4868 02de 1A00     		movs	r2, r3
 4869 02e0 FB68     		ldr	r3, [r7, #12]
 4870 02e2 9B18     		adds	r3, r3, r2
 4871 02e4 FB60     		str	r3, [r7, #12]
2376:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4872              		.loc 1 2376 0 discriminator 3
 4873 02e6 3B69     		ldr	r3, [r7, #16]
 4874 02e8 013B     		subs	r3, r3, #1
 4875 02ea 3B61     		str	r3, [r7, #16]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 129


 4876              	.L277:
2376:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4877              		.loc 1 2376 0 is_stmt 0 discriminator 1
 4878 02ec 3B69     		ldr	r3, [r7, #16]
 4879 02ee 232B     		cmp	r3, #35
 4880 02f0 EDD8     		bhi	.L278
2380:Generated_Source\PSoC4/SDCard_FS.c ****                }
2381:Generated_Source\PSoC4/SDCard_FS.c **** 
2382:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_Buffer1[0x10] >= 2)
 4881              		.loc 1 2382 0 is_stmt 1
 4882 02f2 294B     		ldr	r3, .L285
 4883 02f4 1B68     		ldr	r3, [r3]
 4884 02f6 1033     		adds	r3, r3, #16
 4885 02f8 1B78     		ldrb	r3, [r3]
 4886 02fa 012B     		cmp	r3, #1
 4887 02fc 06D9     		bls	.L279
2383:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_Fat2Start = SDCard_Fat1Start + (TempLong * 512);
 4888              		.loc 1 2383 0
 4889 02fe FB68     		ldr	r3, [r7, #12]
 4890 0300 5A02     		lsls	r2, r3, #9
 4891 0302 284B     		ldr	r3, .L285+12
 4892 0304 1B68     		ldr	r3, [r3]
 4893 0306 D218     		adds	r2, r2, r3
 4894 0308 2E4B     		ldr	r3, .L285+44
 4895 030a 1A60     		str	r2, [r3]
 4896              	.L279:
2384:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DataStart = ( ( TempLong * SDCard_Buffer1[0x10] * 512) + SDCard_Fat1Start );
 4897              		.loc 1 2384 0
 4898 030c 224B     		ldr	r3, .L285
 4899 030e 1B68     		ldr	r3, [r3]
 4900 0310 1033     		adds	r3, r3, #16
 4901 0312 1B78     		ldrb	r3, [r3]
 4902 0314 1A00     		movs	r2, r3
 4903 0316 FB68     		ldr	r3, [r7, #12]
 4904 0318 5343     		muls	r3, r2
 4905 031a 5A02     		lsls	r2, r3, #9
 4906 031c 214B     		ldr	r3, .L285+12
 4907 031e 1B68     		ldr	r3, [r3]
 4908 0320 D218     		adds	r2, r2, r3
 4909 0322 2C4B     		ldr	r3, .L285+60
 4910 0324 1A60     		str	r2, [r3]
2385:Generated_Source\PSoC4/SDCard_FS.c **** 
2386:Generated_Source\PSoC4/SDCard_FS.c ****                // Calculate the start of the Root Directory ((Fat entry - 2)* 512 plus Data start a
2387:Generated_Source\PSoC4/SDCard_FS.c ****                // Note: In FAT32 the directory is actually a file using a FAT chain.
2388:Generated_Source\PSoC4/SDCard_FS.c ****                for(x=0x2F; x>=0x2C; x--)
 4911              		.loc 1 2388 0
 4912 0326 2F23     		movs	r3, #47
 4913 0328 3B61     		str	r3, [r7, #16]
 4914 032a 0EE0     		b	.L280
 4915              	.L281:
2389:Generated_Source\PSoC4/SDCard_FS.c ****                {
2390:Generated_Source\PSoC4/SDCard_FS.c ****                TempLong <<= 8;             // Put in next upper byte
 4916              		.loc 1 2390 0 discriminator 3
 4917 032c FB68     		ldr	r3, [r7, #12]
 4918 032e 1B02     		lsls	r3, r3, #8
 4919 0330 FB60     		str	r3, [r7, #12]
2391:Generated_Source\PSoC4/SDCard_FS.c ****                TempLong +=  SDCard_Buffer1[x];    // Add in next byte to make a long
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 130


 4920              		.loc 1 2391 0 discriminator 3
 4921 0332 194B     		ldr	r3, .L285
 4922 0334 1A68     		ldr	r2, [r3]
 4923 0336 3B69     		ldr	r3, [r7, #16]
 4924 0338 D318     		adds	r3, r2, r3
 4925 033a 1B78     		ldrb	r3, [r3]
 4926 033c 1A00     		movs	r2, r3
 4927 033e FB68     		ldr	r3, [r7, #12]
 4928 0340 9B18     		adds	r3, r3, r2
 4929 0342 FB60     		str	r3, [r7, #12]
2388:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4930              		.loc 1 2388 0 discriminator 3
 4931 0344 3B69     		ldr	r3, [r7, #16]
 4932 0346 013B     		subs	r3, r3, #1
 4933 0348 3B61     		str	r3, [r7, #16]
 4934              	.L280:
2388:Generated_Source\PSoC4/SDCard_FS.c ****                {
 4935              		.loc 1 2388 0 is_stmt 0 discriminator 1
 4936 034a 3B69     		ldr	r3, [r7, #16]
 4937 034c 2B2B     		cmp	r3, #43
 4938 034e EDD8     		bhi	.L281
2392:Generated_Source\PSoC4/SDCard_FS.c ****                }
2393:Generated_Source\PSoC4/SDCard_FS.c **** 
2394:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DirFat   = TempLong;        // Root Directory starting FAT entry (directory s
 4939              		.loc 1 2394 0 is_stmt 1
 4940 0350 1E4B     		ldr	r3, .L285+52
 4941 0352 FA68     		ldr	r2, [r7, #12]
 4942 0354 1A60     		str	r2, [r3]
2395:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_DirStart = ( ((TempLong - 2) * 512 ) + SDCard_DataStart);               
 4943              		.loc 1 2395 0
 4944 0356 FB68     		ldr	r3, [r7, #12]
 4945 0358 1F4A     		ldr	r2, .L285+64
 4946 035a 9446     		mov	ip, r2
 4947 035c 6344     		add	r3, r3, ip
 4948 035e 5A02     		lsls	r2, r3, #9
 4949 0360 1C4B     		ldr	r3, .L285+60
 4950 0362 1B68     		ldr	r3, [r3]
 4951 0364 D218     		adds	r2, r2, r3
 4952 0366 184B     		ldr	r3, .L285+48
 4953 0368 1A60     		str	r2, [r3]
2396:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_CurStart[SDCard_MAXFILES] = TempLong;   // Set directory to root for start   
 4954              		.loc 1 2396 0
 4955 036a 194B     		ldr	r3, .L285+56
 4956 036c FA68     		ldr	r2, [r7, #12]
 4957 036e 9A60     		str	r2, [r3, #8]
 4958 0370 08E0     		b	.L261
 4959              	.L263:
2397:Generated_Source\PSoC4/SDCard_FS.c ****             }
2398:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2399:Generated_Source\PSoC4/SDCard_FS.c **** 
2400:Generated_Source\PSoC4/SDCard_FS.c ****          }
2401:Generated_Source\PSoC4/SDCard_FS.c ****          else
2402:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;         // Set status to failed
 4960              		.loc 1 2402 0
 4961 0372 1723     		movs	r3, #23
 4962 0374 FB18     		adds	r3, r7, r3
 4963 0376 AA22     		movs	r2, #170
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 131


 4964 0378 1A70     		strb	r2, [r3]
 4965 037a 03E0     		b	.L261
 4966              	.L262:
2403:Generated_Source\PSoC4/SDCard_FS.c ****       }
2404:Generated_Source\PSoC4/SDCard_FS.c ****       else
2405:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;            // Set status to failed
 4967              		.loc 1 2405 0
 4968 037c 1723     		movs	r3, #23
 4969 037e FB18     		adds	r3, r7, r3
 4970 0380 AA22     		movs	r2, #170
 4971 0382 1A70     		strb	r2, [r3]
 4972              	.L261:
2406:Generated_Source\PSoC4/SDCard_FS.c ****    }
2407:Generated_Source\PSoC4/SDCard_FS.c ****    
2408:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();                       // Finish the command cycle
 4973              		.loc 1 2408 0
 4974 0384 FFF7FEFF 		bl	SDCard_EndCmd
2409:Generated_Source\PSoC4/SDCard_FS.c **** 
2410:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 4975              		.loc 1 2410 0
 4976 0388 1723     		movs	r3, #23
 4977 038a FB18     		adds	r3, r7, r3
 4978 038c 1B78     		ldrb	r3, [r3]
2411:Generated_Source\PSoC4/SDCard_FS.c **** }
 4979              		.loc 1 2411 0
 4980 038e 1800     		movs	r0, r3
 4981 0390 BD46     		mov	sp, r7
 4982 0392 06B0     		add	sp, sp, #24
 4983              		@ sp needed
 4984 0394 80BD     		pop	{r7, pc}
 4985              	.L286:
 4986 0396 C046     		.align	2
 4987              	.L285:
 4988 0398 00000000 		.word	SDCard_Buffer1
 4989 039c 00000000 		.word	SDCard_Buffer2
 4990 03a0 00000000 		.word	SDCard_ClusterSize
 4991 03a4 00000000 		.word	SDCard_Fat1Start
 4992 03a8 00000000 		.word	SDCard_CardType
 4993 03ac 00000000 		.word	SDCard_FatEnd
 4994 03b0 FFFF0000 		.word	65535
 4995 03b4 00000000 		.word	SDCard_FatEntrySize
 4996 03b8 FFFFFF0F 		.word	268435455
 4997 03bc 00000000 		.word	SDCard_DirSize
 4998 03c0 FEFF0000 		.word	65534
 4999 03c4 00000000 		.word	SDCard_Fat2Start
 5000 03c8 00000000 		.word	SDCard_DirStart
 5001 03cc 00000000 		.word	SDCard_DirFat
 5002 03d0 00000000 		.word	SDCard_CurStart
 5003 03d4 00000000 		.word	SDCard_DataStart
 5004 03d8 FEFF7F00 		.word	8388606
 5005              		.cfi_endproc
 5006              	.LFE72:
 5007              		.size	SDCard_GetBoot, .-SDCard_GetBoot
 5008              		.section	.text.SDCard_CheckReply,"ax",%progbits
 5009              		.align	2
 5010              		.global	SDCard_CheckReply
 5011              		.code	16
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 132


 5012              		.thumb_func
 5013              		.type	SDCard_CheckReply, %function
 5014              	SDCard_CheckReply:
 5015              	.LFB73:
2412:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2413:Generated_Source\PSoC4/SDCard_FS.c **** 
2414:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2415:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_CheckReply(uchar check)
2416:Generated_Source\PSoC4/SDCard_FS.c **** //
2417:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2418:Generated_Source\PSoC4/SDCard_FS.c **** //   Checks reply with timeout
2419:Generated_Source\PSoC4/SDCard_FS.c **** //
2420:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2421:Generated_Source\PSoC4/SDCard_FS.c **** //
2422:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2423:Generated_Source\PSoC4/SDCard_FS.c **** //    check => Reply match value
2424:Generated_Source\PSoC4/SDCard_FS.c **** //
2425:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2426:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status.  // REVIEW clarify
2427:Generated_Source\PSoC4/SDCard_FS.c **** //
2428:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2429:Generated_Source\PSoC4/SDCard_FS.c **** //
2430:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2431:Generated_Source\PSoC4/SDCard_FS.c **** //
2432:Generated_Source\PSoC4/SDCard_FS.c **** //
2433:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2434:Generated_Source\PSoC4/SDCard_FS.c **** 
2435:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_CheckReply(uchar check)
2436:Generated_Source\PSoC4/SDCard_FS.c **** {
 5016              		.loc 1 2436 0
 5017              		.cfi_startproc
 5018              		@ args = 0, pretend = 0, frame = 16
 5019              		@ frame_needed = 1, uses_anonymous_args = 0
 5020 0000 90B5     		push	{r4, r7, lr}
 5021              		.cfi_def_cfa_offset 12
 5022              		.cfi_offset 4, -12
 5023              		.cfi_offset 7, -8
 5024              		.cfi_offset 14, -4
 5025 0002 85B0     		sub	sp, sp, #20
 5026              		.cfi_def_cfa_offset 32
 5027 0004 00AF     		add	r7, sp, #0
 5028              		.cfi_def_cfa_register 7
 5029 0006 0200     		movs	r2, r0
 5030 0008 FB1D     		adds	r3, r7, #7
 5031 000a 1A70     		strb	r2, [r3]
2437:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;                        // Set initial status
 5032              		.loc 1 2437 0
 5033 000c 0F23     		movs	r3, #15
 5034 000e FB18     		adds	r3, r7, r3
 5035 0010 0022     		movs	r2, #0
 5036 0012 1A70     		strb	r2, [r3]
2438:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Timeout = 255;                     // Set number of tries until you timeout   
 5037              		.loc 1 2438 0
 5038 0014 0E23     		movs	r3, #14
 5039 0016 FB18     		adds	r3, r7, r3
 5040 0018 FF22     		movs	r2, #255
 5041 001a 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 133


2439:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Reply = check + 1;                 // Make sure check and Reply don't initially match
 5042              		.loc 1 2439 0
 5043 001c 0D23     		movs	r3, #13
 5044 001e FB18     		adds	r3, r7, r3
 5045 0020 FA1D     		adds	r2, r7, #7
 5046 0022 1278     		ldrb	r2, [r2]
 5047 0024 0132     		adds	r2, r2, #1
 5048 0026 1A70     		strb	r2, [r3]
2440:Generated_Source\PSoC4/SDCard_FS.c **** 
2441:Generated_Source\PSoC4/SDCard_FS.c ****    while((check != Reply) && (Timeout>0))     // Loop until check = Reply, or a timeout occurs
 5049              		.loc 1 2441 0
 5050 0028 20E0     		b	.L288
 5051              	.L290:
2442:Generated_Source\PSoC4/SDCard_FS.c ****    {
2443:Generated_Source\PSoC4/SDCard_FS.c ****       // Send a null byte to shift for btye read
2444:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SendTxData( 0xFF );
 5052              		.loc 1 2444 0
 5053 002a FF20     		movs	r0, #255
 5054 002c FFF7FEFF 		bl	SDCard_SendTxData
2445:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_XferWait();                             // Wait for transfer to complete
 5055              		.loc 1 2445 0
 5056 0030 FFF7FEFF 		bl	SDCard_XferWait
2446:Generated_Source\PSoC4/SDCard_FS.c **** 
2447:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2448:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("Check Reply");
2449:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(0);   
2450:Generated_Source\PSoC4/SDCard_FS.c **** 
2451:Generated_Source\PSoC4/SDCard_FS.c **** 	  Reply = SDCard_bReadRxData(); // Read the reply
 5057              		.loc 1 2451 0
 5058 0034 0D23     		movs	r3, #13
 5059 0036 FC18     		adds	r4, r7, r3
 5060 0038 FFF7FEFF 		bl	SDCard_bReadRxData
 5061 003c 0300     		movs	r3, r0
 5062 003e 2370     		strb	r3, [r4]
2452:Generated_Source\PSoC4/SDCard_FS.c **** 
2453:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_Position(1, 0);
2454:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintString("Reply:");
2455:Generated_Source\PSoC4/SDCard_FS.c **** ////LCD_PrintInt8(Reply);
2456:Generated_Source\PSoC4/SDCard_FS.c **** 
2457:Generated_Source\PSoC4/SDCard_FS.c **** 	  Timeout--;                              // Decrement loop until 0, then timeout
 5063              		.loc 1 2457 0
 5064 0040 0E23     		movs	r3, #14
 5065 0042 FB18     		adds	r3, r7, r3
 5066 0044 1A78     		ldrb	r2, [r3]
 5067 0046 0E23     		movs	r3, #14
 5068 0048 FB18     		adds	r3, r7, r3
 5069 004a 013A     		subs	r2, r2, #1
 5070 004c 1A70     		strb	r2, [r3]
 5071 004e 0F23     		movs	r3, #15
 5072 0050 FB18     		adds	r3, r7, r3
 5073 0052 0F22     		movs	r2, #15
 5074 0054 BA18     		adds	r2, r7, r2
 5075 0056 1278     		ldrb	r2, [r2]
 5076 0058 1A70     		strb	r2, [r3]
2458:Generated_Source\PSoC4/SDCard_FS.c ****       if(Timeout == 0)                        // If loop is zero, then set status for failed
 5077              		.loc 1 2458 0
 5078 005a 0E23     		movs	r3, #14
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 134


 5079 005c FB18     		adds	r3, r7, r3
 5080 005e 1B78     		ldrb	r3, [r3]
 5081 0060 002B     		cmp	r3, #0
 5082 0062 03D1     		bne	.L288
2459:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;
 5083              		.loc 1 2459 0
 5084 0064 0F23     		movs	r3, #15
 5085 0066 FB18     		adds	r3, r7, r3
 5086 0068 AA22     		movs	r2, #170
 5087 006a 1A70     		strb	r2, [r3]
 5088              	.L288:
2441:Generated_Source\PSoC4/SDCard_FS.c ****    {
 5089              		.loc 1 2441 0
 5090 006c FA1D     		adds	r2, r7, #7
 5091 006e 0D23     		movs	r3, #13
 5092 0070 FB18     		adds	r3, r7, r3
 5093 0072 1278     		ldrb	r2, [r2]
 5094 0074 1B78     		ldrb	r3, [r3]
 5095 0076 9A42     		cmp	r2, r3
 5096 0078 04D0     		beq	.L289
2441:Generated_Source\PSoC4/SDCard_FS.c ****    {
 5097              		.loc 1 2441 0 is_stmt 0 discriminator 1
 5098 007a 0E23     		movs	r3, #14
 5099 007c FB18     		adds	r3, r7, r3
 5100 007e 1B78     		ldrb	r3, [r3]
 5101 0080 002B     		cmp	r3, #0
 5102 0082 D2D1     		bne	.L290
 5103              	.L289:
2460:Generated_Source\PSoC4/SDCard_FS.c ****    }
2461:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 5104              		.loc 1 2461 0 is_stmt 1
 5105 0084 0F23     		movs	r3, #15
 5106 0086 FB18     		adds	r3, r7, r3
 5107 0088 1B78     		ldrb	r3, [r3]
2462:Generated_Source\PSoC4/SDCard_FS.c **** }
 5108              		.loc 1 2462 0
 5109 008a 1800     		movs	r0, r3
 5110 008c BD46     		mov	sp, r7
 5111 008e 05B0     		add	sp, sp, #20
 5112              		@ sp needed
 5113 0090 90BD     		pop	{r4, r7, pc}
 5114              		.cfi_endproc
 5115              	.LFE73:
 5116              		.size	SDCard_CheckReply, .-SDCard_CheckReply
 5117 0092 C046     		.section	.text.SDCard_SetSize,"ax",%progbits
 5118              		.align	2
 5119              		.global	SDCard_SetSize
 5120              		.code	16
 5121              		.thumb_func
 5122              		.type	SDCard_SetSize, %function
 5123              	SDCard_SetSize:
 5124              	.LFB74:
2463:Generated_Source\PSoC4/SDCard_FS.c **** 
2464:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2465:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_SetSize(ulong size)
2466:Generated_Source\PSoC4/SDCard_FS.c **** //
2467:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:   // REVIEW Get description
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 135


2468:Generated_Source\PSoC4/SDCard_FS.c **** //
2469:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2470:Generated_Source\PSoC4/SDCard_FS.c **** //
2471:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2472:Generated_Source\PSoC4/SDCard_FS.c **** //
2473:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2474:Generated_Source\PSoC4/SDCard_FS.c **** //
2475:Generated_Source\PSoC4/SDCard_FS.c **** //
2476:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2477:Generated_Source\PSoC4/SDCard_FS.c **** //
2478:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2479:Generated_Source\PSoC4/SDCard_FS.c **** //
2480:Generated_Source\PSoC4/SDCard_FS.c **** //
2481:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2482:Generated_Source\PSoC4/SDCard_FS.c **** 
2483:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_SetSize(ulong size)
2484:Generated_Source\PSoC4/SDCard_FS.c **** {
 5125              		.loc 1 2484 0
 5126              		.cfi_startproc
 5127              		@ args = 0, pretend = 0, frame = 16
 5128              		@ frame_needed = 1, uses_anonymous_args = 0
 5129 0000 90B5     		push	{r4, r7, lr}
 5130              		.cfi_def_cfa_offset 12
 5131              		.cfi_offset 4, -12
 5132              		.cfi_offset 7, -8
 5133              		.cfi_offset 14, -4
 5134 0002 85B0     		sub	sp, sp, #20
 5135              		.cfi_def_cfa_offset 32
 5136 0004 00AF     		add	r7, sp, #0
 5137              		.cfi_def_cfa_register 7
 5138 0006 7860     		str	r0, [r7, #4]
2485:Generated_Source\PSoC4/SDCard_FS.c ****    uchar  status = 0;
 5139              		.loc 1 2485 0
 5140 0008 0F23     		movs	r3, #15
 5141 000a FB18     		adds	r3, r7, r3
 5142 000c 0022     		movs	r2, #0
 5143 000e 1A70     		strb	r2, [r3]
2486:Generated_Source\PSoC4/SDCard_FS.c **** 
2487:Generated_Source\PSoC4/SDCard_FS.c ****    // CMD16 - Set block size command
2488:Generated_Source\PSoC4/SDCard_FS.c ****    // Byte String = 0x50 0x00 0x00 0x00 0x00 0xFF 
2489:Generated_Source\PSoC4/SDCard_FS.c **** 
2490:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Cmd(SDCard_CMD16, size);      // Send CMD16 command string
 5144              		.loc 1 2490 0
 5145 0010 7B68     		ldr	r3, [r7, #4]
 5146 0012 1900     		movs	r1, r3
 5147 0014 5020     		movs	r0, #80
 5148 0016 FFF7FEFF 		bl	SDCard_Cmd
2491:Generated_Source\PSoC4/SDCard_FS.c **** 
2492:Generated_Source\PSoC4/SDCard_FS.c ****    // Status bits: 0=Idle, 1=Erase Reset, 2=Illegal CMD, 3=CRC Error, 4=Erase_Seq_Error, 5=Address 
2493:Generated_Source\PSoC4/SDCard_FS.c ****    status = SDCard_GetR1();      // Get the R1 command respnse   
 5149              		.loc 1 2493 0
 5150 001a 0F23     		movs	r3, #15
 5151 001c FC18     		adds	r4, r7, r3
 5152 001e FFF7FEFF 		bl	SDCard_GetR1
 5153 0022 0300     		movs	r3, r0
 5154 0024 2370     		strb	r3, [r4]
2494:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 136


2495:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EndCmd();              // Finish the command cycle
 5155              		.loc 1 2495 0
 5156 0026 FFF7FEFF 		bl	SDCard_EndCmd
2496:Generated_Source\PSoC4/SDCard_FS.c ****                
2497:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 5157              		.loc 1 2497 0
 5158 002a 0F23     		movs	r3, #15
 5159 002c FB18     		adds	r3, r7, r3
 5160 002e 1B78     		ldrb	r3, [r3]
2498:Generated_Source\PSoC4/SDCard_FS.c **** }
 5161              		.loc 1 2498 0
 5162 0030 1800     		movs	r0, r3
 5163 0032 BD46     		mov	sp, r7
 5164 0034 05B0     		add	sp, sp, #20
 5165              		@ sp needed
 5166 0036 90BD     		pop	{r4, r7, pc}
 5167              		.cfi_endproc
 5168              	.LFE74:
 5169              		.size	SDCard_SetSize, .-SDCard_SetSize
 5170              		.section	.text.SDCard_XferWait,"ax",%progbits
 5171              		.align	2
 5172              		.global	SDCard_XferWait
 5173              		.code	16
 5174              		.thumb_func
 5175              		.type	SDCard_XferWait, %function
 5176              	SDCard_XferWait:
 5177              	.LFB75:
2499:Generated_Source\PSoC4/SDCard_FS.c **** 
2500:Generated_Source\PSoC4/SDCard_FS.c **** 
2501:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2502:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_XferWait(void)
2503:Generated_Source\PSoC4/SDCard_FS.c **** //
2504:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2505:Generated_Source\PSoC4/SDCard_FS.c **** //   Wait until transfer is complete
2506:Generated_Source\PSoC4/SDCard_FS.c **** //
2507:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2508:Generated_Source\PSoC4/SDCard_FS.c **** //
2509:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS: NA
2510:Generated_Source\PSoC4/SDCard_FS.c **** //
2511:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
2512:Generated_Source\PSoC4/SDCard_FS.c **** //
2513:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2514:Generated_Source\PSoC4/SDCard_FS.c **** //
2515:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2516:Generated_Source\PSoC4/SDCard_FS.c **** //
2517:Generated_Source\PSoC4/SDCard_FS.c **** //
2518:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2519:Generated_Source\PSoC4/SDCard_FS.c **** 
2520:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_XferWait(void)
2521:Generated_Source\PSoC4/SDCard_FS.c **** {
 5178              		.loc 1 2521 0
 5179              		.cfi_startproc
 5180              		@ args = 0, pretend = 0, frame = 8
 5181              		@ frame_needed = 1, uses_anonymous_args = 0
 5182 0000 90B5     		push	{r4, r7, lr}
 5183              		.cfi_def_cfa_offset 12
 5184              		.cfi_offset 4, -12
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 137


 5185              		.cfi_offset 7, -8
 5186              		.cfi_offset 14, -4
 5187 0002 83B0     		sub	sp, sp, #12
 5188              		.cfi_def_cfa_offset 24
 5189 0004 00AF     		add	r7, sp, #0
 5190              		.cfi_def_cfa_register 7
2522:Generated_Source\PSoC4/SDCard_FS.c **** 	uint8 stat;
2523:Generated_Source\PSoC4/SDCard_FS.c **** 	
2524:Generated_Source\PSoC4/SDCard_FS.c **** 	// Wait until transfer is complete
2525:Generated_Source\PSoC4/SDCard_FS.c **** 	stat = SDCard_bReadStatus();
 5191              		.loc 1 2525 0
 5192 0006 FC1D     		adds	r4, r7, #7
 5193 0008 FFF7FEFF 		bl	SDCard_bReadStatus
 5194 000c 0300     		movs	r3, r0
 5195 000e 2370     		strb	r3, [r4]
2526:Generated_Source\PSoC4/SDCard_FS.c **** 	while( !(stat > 0) )
 5196              		.loc 1 2526 0
 5197 0010 04E0     		b	.L295
 5198              	.L296:
2527:Generated_Source\PSoC4/SDCard_FS.c **** 	{
2528:Generated_Source\PSoC4/SDCard_FS.c **** 		stat = SDCard_bReadStatus();
 5199              		.loc 1 2528 0
 5200 0012 FC1D     		adds	r4, r7, #7
 5201 0014 FFF7FEFF 		bl	SDCard_bReadStatus
 5202 0018 0300     		movs	r3, r0
 5203 001a 2370     		strb	r3, [r4]
 5204              	.L295:
2526:Generated_Source\PSoC4/SDCard_FS.c **** 	while( !(stat > 0) )
 5205              		.loc 1 2526 0
 5206 001c FB1D     		adds	r3, r7, #7
 5207 001e 1B78     		ldrb	r3, [r3]
 5208 0020 002B     		cmp	r3, #0
 5209 0022 F6D0     		beq	.L296
2529:Generated_Source\PSoC4/SDCard_FS.c **** 	}
2530:Generated_Source\PSoC4/SDCard_FS.c **** }
 5210              		.loc 1 2530 0
 5211 0024 C046     		nop
 5212 0026 BD46     		mov	sp, r7
 5213 0028 03B0     		add	sp, sp, #12
 5214              		@ sp needed
 5215 002a 90BD     		pop	{r4, r7, pc}
 5216              		.cfi_endproc
 5217              	.LFE75:
 5218              		.size	SDCard_XferWait, .-SDCard_XferWait
 5219              		.section	.text.SDCard_NextFat,"ax",%progbits
 5220              		.align	2
 5221              		.global	SDCard_NextFat
 5222              		.code	16
 5223              		.thumb_func
 5224              		.type	SDCard_NextFat, %function
 5225              	SDCard_NextFat:
 5226              	.LFB76:
2531:Generated_Source\PSoC4/SDCard_FS.c **** 
2532:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2533:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_NextFat(uchar Fptr)
2534:Generated_Source\PSoC4/SDCard_FS.c **** //
2535:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 138


2536:Generated_Source\PSoC4/SDCard_FS.c **** //   Searches the FAT chain for the next cluster to be used in the file and updates the file 
2537:Generated_Source\PSoC4/SDCard_FS.c **** //   information CurFat to match. If last FAT entry in chain, write adds FAT, read does nothing.
2538:Generated_Source\PSoC4/SDCard_FS.c **** //
2539:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2540:Generated_Source\PSoC4/SDCard_FS.c **** //
2541:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2542:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File Pointer
2543:Generated_Source\PSoC4/SDCard_FS.c **** //
2544:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
2545:Generated_Source\PSoC4/SDCard_FS.c **** //
2546:Generated_Source\PSoC4/SDCard_FS.c **** //
2547:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2548:Generated_Source\PSoC4/SDCard_FS.c **** //
2549:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2550:Generated_Source\PSoC4/SDCard_FS.c **** //
2551:Generated_Source\PSoC4/SDCard_FS.c **** //
2552:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2553:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2554:Generated_Source\PSoC4/SDCard_FS.c **** 
2555:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_NextFat(uchar Fptr)
2556:Generated_Source\PSoC4/SDCard_FS.c **** {
 5227              		.loc 1 2556 0
 5228              		.cfi_startproc
 5229              		@ args = 0, pretend = 0, frame = 16
 5230              		@ frame_needed = 1, uses_anonymous_args = 0
 5231 0000 90B5     		push	{r4, r7, lr}
 5232              		.cfi_def_cfa_offset 12
 5233              		.cfi_offset 4, -12
 5234              		.cfi_offset 7, -8
 5235              		.cfi_offset 14, -4
 5236 0002 85B0     		sub	sp, sp, #20
 5237              		.cfi_def_cfa_offset 32
 5238 0004 00AF     		add	r7, sp, #0
 5239              		.cfi_def_cfa_register 7
 5240 0006 0200     		movs	r2, r0
 5241 0008 FB1D     		adds	r3, r7, #7
 5242 000a 1A70     		strb	r2, [r3]
2557:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2558:Generated_Source\PSoC4/SDCard_FS.c ****    ulong  SaveFat = SDCard_CurFat[Fptr];      // Save current FAT entry
 5243              		.loc 1 2558 0
 5244 000c FB1D     		adds	r3, r7, #7
 5245 000e 1A78     		ldrb	r2, [r3]
 5246 0010 264B     		ldr	r3, .L301
 5247 0012 9200     		lsls	r2, r2, #2
 5248 0014 D358     		ldr	r3, [r2, r3]
 5249 0016 FB60     		str	r3, [r7, #12]
2559:Generated_Source\PSoC4/SDCard_FS.c **** #else
2560:Generated_Source\PSoC4/SDCard_FS.c ****    uint   SaveFat = SDCard_CurFat[Fptr];      // Save current FAT entry
2561:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2562:Generated_Source\PSoC4/SDCard_FS.c **** 
2563:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CurFat[Fptr]!= SDCard_FatEnd)           // If not the last FAT entry, get the next FAT
 5250              		.loc 1 2563 0
 5251 0018 FB1D     		adds	r3, r7, #7
 5252 001a 1A78     		ldrb	r2, [r3]
 5253 001c 234B     		ldr	r3, .L301
 5254 001e 9200     		lsls	r2, r2, #2
 5255 0020 D258     		ldr	r2, [r2, r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 139


 5256 0022 234B     		ldr	r3, .L301+4
 5257 0024 1B68     		ldr	r3, [r3]
 5258 0026 9A42     		cmp	r2, r3
 5259 0028 3CD0     		beq	.L300
2564:Generated_Source\PSoC4/SDCard_FS.c ****    {
2565:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurFat[Fptr]  = SDCard_FatTrack(SDCard_CurFat[Fptr]);   // Get next FAT entry number
 5260              		.loc 1 2565 0
 5261 002a FB1D     		adds	r3, r7, #7
 5262 002c 1C78     		ldrb	r4, [r3]
 5263 002e FB1D     		adds	r3, r7, #7
 5264 0030 1A78     		ldrb	r2, [r3]
 5265 0032 1E4B     		ldr	r3, .L301
 5266 0034 9200     		lsls	r2, r2, #2
 5267 0036 D358     		ldr	r3, [r2, r3]
 5268 0038 1800     		movs	r0, r3
 5269 003a FFF7FEFF 		bl	SDCard_FatTrack
 5270 003e 0100     		movs	r1, r0
 5271 0040 1A4B     		ldr	r3, .L301
 5272 0042 A200     		lsls	r2, r4, #2
 5273 0044 D150     		str	r1, [r2, r3]
2566:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
2567:Generated_Source\PSoC4/SDCard_FS.c ****       if( (SDCard_CurFat[Fptr] == SDCard_FatEnd)&&((SDCard_FileMode[Fptr]& 0x01) != 0x01) )
 5274              		.loc 1 2567 0
 5275 0046 FB1D     		adds	r3, r7, #7
 5276 0048 1A78     		ldrb	r2, [r3]
 5277 004a 184B     		ldr	r3, .L301
 5278 004c 9200     		lsls	r2, r2, #2
 5279 004e D258     		ldr	r2, [r2, r3]
 5280 0050 174B     		ldr	r3, .L301+4
 5281 0052 1B68     		ldr	r3, [r3]
 5282 0054 9A42     		cmp	r2, r3
 5283 0056 20D1     		bne	.L299
 5284              		.loc 1 2567 0 is_stmt 0 discriminator 1
 5285 0058 FB1D     		adds	r3, r7, #7
 5286 005a 1B78     		ldrb	r3, [r3]
 5287 005c 154A     		ldr	r2, .L301+8
 5288 005e D35C     		ldrb	r3, [r2, r3]
 5289 0060 1A00     		movs	r2, r3
 5290 0062 0123     		movs	r3, #1
 5291 0064 1340     		ands	r3, r2
 5292 0066 18D1     		bne	.L299
2568:Generated_Source\PSoC4/SDCard_FS.c ****       {
2569:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurFat[Fptr] = SaveFat;       // Restore original current FAT entry
 5293              		.loc 1 2569 0 is_stmt 1
 5294 0068 FB1D     		adds	r3, r7, #7
 5295 006a 1A78     		ldrb	r2, [r3]
 5296 006c 0F4B     		ldr	r3, .L301
 5297 006e 9200     		lsls	r2, r2, #2
 5298 0070 F968     		ldr	r1, [r7, #12]
 5299 0072 D150     		str	r1, [r2, r3]
2570:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_AddFat(Fptr);                 // Add a new FAT entry to the chain 
 5300              		.loc 1 2570 0
 5301 0074 FB1D     		adds	r3, r7, #7
 5302 0076 1B78     		ldrb	r3, [r3]
 5303 0078 1800     		movs	r0, r3
 5304 007a FFF7FEFF 		bl	SDCard_AddFat
2571:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurFat[Fptr] = SDCard_FatTrack(SDCard_CurFat[Fptr]);   // Get next FAT entry number
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 140


 5305              		.loc 1 2571 0
 5306 007e FB1D     		adds	r3, r7, #7
 5307 0080 1C78     		ldrb	r4, [r3]
 5308 0082 FB1D     		adds	r3, r7, #7
 5309 0084 1A78     		ldrb	r2, [r3]
 5310 0086 094B     		ldr	r3, .L301
 5311 0088 9200     		lsls	r2, r2, #2
 5312 008a D358     		ldr	r3, [r2, r3]
 5313 008c 1800     		movs	r0, r3
 5314 008e FFF7FEFF 		bl	SDCard_FatTrack
 5315 0092 0100     		movs	r1, r0
 5316 0094 054B     		ldr	r3, .L301
 5317 0096 A200     		lsls	r2, r4, #2
 5318 0098 D150     		str	r1, [r2, r3]
 5319              	.L299:
2572:Generated_Source\PSoC4/SDCard_FS.c ****       }
2573:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2574:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSect[Fptr] = 0;               // Reset sector count to zero - start of a new cluste
 5320              		.loc 1 2574 0
 5321 009a FB1D     		adds	r3, r7, #7
 5322 009c 1B78     		ldrb	r3, [r3]
 5323 009e 064A     		ldr	r2, .L301+12
 5324 00a0 0021     		movs	r1, #0
 5325 00a2 D154     		strb	r1, [r2, r3]
 5326              	.L300:
2575:Generated_Source\PSoC4/SDCard_FS.c ****    }
2576:Generated_Source\PSoC4/SDCard_FS.c **** }
 5327              		.loc 1 2576 0
 5328 00a4 C046     		nop
 5329 00a6 BD46     		mov	sp, r7
 5330 00a8 05B0     		add	sp, sp, #20
 5331              		@ sp needed
 5332 00aa 90BD     		pop	{r4, r7, pc}
 5333              	.L302:
 5334              		.align	2
 5335              	.L301:
 5336 00ac 00000000 		.word	SDCard_CurFat
 5337 00b0 00000000 		.word	SDCard_FatEnd
 5338 00b4 00000000 		.word	SDCard_FileMode
 5339 00b8 00000000 		.word	SDCard_CurSect
 5340              		.cfi_endproc
 5341              	.LFE76:
 5342              		.size	SDCard_NextFat, .-SDCard_NextFat
 5343              		.section	.text.SDCard_FatTrack,"ax",%progbits
 5344              		.align	2
 5345              		.global	SDCard_FatTrack
 5346              		.code	16
 5347              		.thumb_func
 5348              		.type	SDCard_FatTrack, %function
 5349              	SDCard_FatTrack:
 5350              	.LFB77:
2577:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2578:Generated_Source\PSoC4/SDCard_FS.c **** 
2579:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2580:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_FatTrack(ulong FatNum)
2581:Generated_Source\PSoC4/SDCard_FS.c **** //                   uint SDCard_FatTrack(uint FatNum)
2582:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 141


2583:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2584:Generated_Source\PSoC4/SDCard_FS.c **** //   Searches the FAT chain for the next cluster to be used and returns the next FAT entry value. 
2585:Generated_Source\PSoC4/SDCard_FS.c **** //   If the FatNum = 0; then a search is done for the first free FAT entry.   
2586:Generated_Source\PSoC4/SDCard_FS.c **** //
2587:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2588:Generated_Source\PSoC4/SDCard_FS.c **** //
2589:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2590:Generated_Source\PSoC4/SDCard_FS.c **** //    FatNum => The last FAT entry value.
2591:Generated_Source\PSoC4/SDCard_FS.c **** //
2592:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2593:Generated_Source\PSoC4/SDCard_FS.c **** //    The next FAT entry value to be used.
2594:Generated_Source\PSoC4/SDCard_FS.c **** //
2595:Generated_Source\PSoC4/SDCard_FS.c **** //
2596:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2597:Generated_Source\PSoC4/SDCard_FS.c **** //
2598:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2599:Generated_Source\PSoC4/SDCard_FS.c **** //
2600:Generated_Source\PSoC4/SDCard_FS.c **** //
2601:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2602:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2603:Generated_Source\PSoC4/SDCard_FS.c **** 
2604:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2605:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_FatTrack(ulong FatNum)
2606:Generated_Source\PSoC4/SDCard_FS.c **** #else
2607:Generated_Source\PSoC4/SDCard_FS.c **** uint SDCard_FatTrack(uint FatNum)
2608:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2609:Generated_Source\PSoC4/SDCard_FS.c **** {
 5351              		.loc 1 2609 0
 5352              		.cfi_startproc
 5353              		@ args = 0, pretend = 0, frame = 32
 5354              		@ frame_needed = 1, uses_anonymous_args = 0
 5355 0000 80B5     		push	{r7, lr}
 5356              		.cfi_def_cfa_offset 8
 5357              		.cfi_offset 7, -8
 5358              		.cfi_offset 14, -4
 5359 0002 88B0     		sub	sp, sp, #32
 5360              		.cfi_def_cfa_offset 40
 5361 0004 00AF     		add	r7, sp, #0
 5362              		.cfi_def_cfa_register 7
 5363 0006 7860     		str	r0, [r7, #4]
2610:Generated_Source\PSoC4/SDCard_FS.c ****    // Searches the FAT chain for the next cluster to be used and returns the next FAT entry value. 
2611:Generated_Source\PSoC4/SDCard_FS.c ****    // If the FatNum = 0; then a search is done for the first free FAT entry.   
2612:Generated_Source\PSoC4/SDCard_FS.c **** 
2613:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2614:Generated_Source\PSoC4/SDCard_FS.c ****    ulong  Nfat;           // Next FAT entry number
2615:Generated_Source\PSoC4/SDCard_FS.c **** #else
2616:Generated_Source\PSoC4/SDCard_FS.c ****    uint   Nfat;           // Next FAT entry number
2617:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2618:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 5364              		.loc 1 2618 0
 5365 0008 1323     		movs	r3, #19
 5366 000a FB18     		adds	r3, r7, r3
 5367 000c 0022     		movs	r2, #0
 5368 000e 1A70     		strb	r2, [r3]
2619:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x;             // Loop variable (signed for check later)
2620:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Loop=1;        // Loop control
 5369              		.loc 1 2620 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 142


 5370 0010 1A23     		movs	r3, #26
 5371 0012 FB18     		adds	r3, r7, r3
 5372 0014 0122     		movs	r2, #1
 5373 0016 1A70     		strb	r2, [r3]
2621:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   Tmp[4];        // Temp buffer
2622:Generated_Source\PSoC4/SDCard_FS.c ****    ulong   address;       // Temp address variable
2623:Generated_Source\PSoC4/SDCard_FS.c ****    
2624:Generated_Source\PSoC4/SDCard_FS.c ****    if(FatNum == 0)        // Set loop control to search until an unused FAT entry is found
 5374              		.loc 1 2624 0
 5375 0018 7B68     		ldr	r3, [r7, #4]
 5376 001a 002B     		cmp	r3, #0
 5377 001c 06D1     		bne	.L304
2625:Generated_Source\PSoC4/SDCard_FS.c ****    {
2626:Generated_Source\PSoC4/SDCard_FS.c ****       Loop   = 2;         // Set loop to search for unused FAT entry
 5378              		.loc 1 2626 0
 5379 001e 1A23     		movs	r3, #26
 5380 0020 FB18     		adds	r3, r7, r3
 5381 0022 0222     		movs	r2, #2
 5382 0024 1A70     		strb	r2, [r3]
2627:Generated_Source\PSoC4/SDCard_FS.c ****       FatNum = SDCard_EmptyFat;  // Start search at first FAT or last known empty FAT entry
 5383              		.loc 1 2627 0
 5384 0026 444B     		ldr	r3, .L319
 5385 0028 1B68     		ldr	r3, [r3]
 5386 002a 7B60     		str	r3, [r7, #4]
 5387              	.L304:
2628:Generated_Source\PSoC4/SDCard_FS.c ****    }
2629:Generated_Source\PSoC4/SDCard_FS.c **** 
2630:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SetSize(SDCard_FatEntrySize); // Set block length back to read FAT table (2 for FAT16, 4 
 5388              		.loc 1 2630 0
 5389 002c 434B     		ldr	r3, .L319+4
 5390 002e 1B78     		ldrb	r3, [r3]
 5391 0030 1800     		movs	r0, r3
 5392 0032 FFF7FEFF 		bl	SDCard_SetSize
2631:Generated_Source\PSoC4/SDCard_FS.c **** 
2632:Generated_Source\PSoC4/SDCard_FS.c ****    while(Loop != 0)
 5393              		.loc 1 2632 0
 5394 0036 75E0     		b	.L305
 5395              	.L317:
2633:Generated_Source\PSoC4/SDCard_FS.c ****    {
2634:Generated_Source\PSoC4/SDCard_FS.c ****       // Address for current FAT equals cluster in FAT + sector offset * sector size
2635:Generated_Source\PSoC4/SDCard_FS.c **** 
2636:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2637:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_FatEntrySize == 2)
 5396              		.loc 1 2637 0
 5397 0038 404B     		ldr	r3, .L319+4
 5398 003a 1B78     		ldrb	r3, [r3]
 5399 003c 022B     		cmp	r3, #2
 5400 003e 06D1     		bne	.L306
2638:Generated_Source\PSoC4/SDCard_FS.c ****          address = (SDCard_Fat1Start + (FatNum << 1));   // Fat16
 5401              		.loc 1 2638 0
 5402 0040 7B68     		ldr	r3, [r7, #4]
 5403 0042 5A00     		lsls	r2, r3, #1
 5404 0044 3E4B     		ldr	r3, .L319+8
 5405 0046 1B68     		ldr	r3, [r3]
 5406 0048 D318     		adds	r3, r2, r3
 5407 004a 7B61     		str	r3, [r7, #20]
 5408 004c 05E0     		b	.L307
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 143


 5409              	.L306:
2639:Generated_Source\PSoC4/SDCard_FS.c ****       else
2640:Generated_Source\PSoC4/SDCard_FS.c ****          address = (SDCard_Fat1Start + (FatNum << 2));   // FAT32
 5410              		.loc 1 2640 0
 5411 004e 7B68     		ldr	r3, [r7, #4]
 5412 0050 9A00     		lsls	r2, r3, #2
 5413 0052 3B4B     		ldr	r3, .L319+8
 5414 0054 1B68     		ldr	r3, [r3]
 5415 0056 D318     		adds	r3, r2, r3
 5416 0058 7B61     		str	r3, [r7, #20]
 5417              	.L307:
2641:Generated_Source\PSoC4/SDCard_FS.c **** #else
2642:Generated_Source\PSoC4/SDCard_FS.c ****       address = (SDCard_Fat1Start + (FatNum << 1));      // FAT16
2643:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2644:Generated_Source\PSoC4/SDCard_FS.c **** 
2645:Generated_Source\PSoC4/SDCard_FS.c ****       // CMD17 - Read single block command
2646:Generated_Source\PSoC4/SDCard_FS.c ****       // Byte String = 0x51 (ulong Address) 0xFF 
2647:Generated_Source\PSoC4/SDCard_FS.c ****    
2648:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Cmd(SDCard_CMD17, address);             // Send CMD17 command string
 5418              		.loc 1 2648 0
 5419 005a 7B69     		ldr	r3, [r7, #20]
 5420 005c 1900     		movs	r1, r3
 5421 005e 5120     		movs	r0, #81
 5422 0060 FFF7FEFF 		bl	SDCard_Cmd
2649:Generated_Source\PSoC4/SDCard_FS.c **** 
2650:Generated_Source\PSoC4/SDCard_FS.c ****       // Check response
2651:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0) != SDCard_FAIL)        // Check for status good
 5423              		.loc 1 2651 0
 5424 0064 0020     		movs	r0, #0
 5425 0066 FFF7FEFF 		bl	SDCard_CheckReply
 5426 006a 0300     		movs	r3, r0
 5427 006c AA2B     		cmp	r3, #170
 5428 006e 39D0     		beq	.L308
2652:Generated_Source\PSoC4/SDCard_FS.c ****       {
2653:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CheckReply(0xFE) != SDCard_FAIL)  // Set check to Single Block Read data token
 5429              		.loc 1 2653 0
 5430 0070 FE20     		movs	r0, #254
 5431 0072 FFF7FEFF 		bl	SDCard_CheckReply
 5432 0076 0300     		movs	r3, r0
 5433 0078 AA2B     		cmp	r3, #170
 5434 007a 2ED0     		beq	.L309
2654:Generated_Source\PSoC4/SDCard_FS.c ****          {
2655:Generated_Source\PSoC4/SDCard_FS.c ****          
2656:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadBuff(Tmp, SDCard_FatEntrySize );
 5435              		.loc 1 2656 0
 5436 007c 2F4B     		ldr	r3, .L319+4
 5437 007e 1A78     		ldrb	r2, [r3]
 5438 0080 0C23     		movs	r3, #12
 5439 0082 FB18     		adds	r3, r7, r3
 5440 0084 1100     		movs	r1, r2
 5441 0086 1800     		movs	r0, r3
 5442 0088 FFF7FEFF 		bl	SDCard_ReadBuff
2657:Generated_Source\PSoC4/SDCard_FS.c **** 
2658:Generated_Source\PSoC4/SDCard_FS.c ****             Nfat = 0;                  // Clear value before use
 5443              		.loc 1 2658 0
 5444 008c 0023     		movs	r3, #0
 5445 008e FB61     		str	r3, [r7, #28]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 144


2659:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=1; x<=SDCard_FatEntrySize; x++)
 5446              		.loc 1 2659 0
 5447 0090 1B23     		movs	r3, #27
 5448 0092 FB18     		adds	r3, r7, r3
 5449 0094 0122     		movs	r2, #1
 5450 0096 1A70     		strb	r2, [r3]
 5451 0098 17E0     		b	.L310
 5452              	.L311:
2660:Generated_Source\PSoC4/SDCard_FS.c ****             {
2661:Generated_Source\PSoC4/SDCard_FS.c ****                Nfat <<=8;              // Shift to upper byte
 5453              		.loc 1 2661 0 discriminator 3
 5454 009a FB69     		ldr	r3, [r7, #28]
 5455 009c 1B02     		lsls	r3, r3, #8
 5456 009e FB61     		str	r3, [r7, #28]
2662:Generated_Source\PSoC4/SDCard_FS.c ****                Nfat += Tmp[SDCard_FatEntrySize-x];   // Add next byte
 5457              		.loc 1 2662 0 discriminator 3
 5458 00a0 264B     		ldr	r3, .L319+4
 5459 00a2 1B78     		ldrb	r3, [r3]
 5460 00a4 1A00     		movs	r2, r3
 5461 00a6 1B23     		movs	r3, #27
 5462 00a8 FB18     		adds	r3, r7, r3
 5463 00aa 1B78     		ldrb	r3, [r3]
 5464 00ac D31A     		subs	r3, r2, r3
 5465 00ae 0C22     		movs	r2, #12
 5466 00b0 BA18     		adds	r2, r7, r2
 5467 00b2 D35C     		ldrb	r3, [r2, r3]
 5468 00b4 1A00     		movs	r2, r3
 5469 00b6 FB69     		ldr	r3, [r7, #28]
 5470 00b8 9B18     		adds	r3, r3, r2
 5471 00ba FB61     		str	r3, [r7, #28]
2659:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=1; x<=SDCard_FatEntrySize; x++)
 5472              		.loc 1 2659 0 discriminator 3
 5473 00bc 1B23     		movs	r3, #27
 5474 00be FB18     		adds	r3, r7, r3
 5475 00c0 1A78     		ldrb	r2, [r3]
 5476 00c2 1B23     		movs	r3, #27
 5477 00c4 FB18     		adds	r3, r7, r3
 5478 00c6 0132     		adds	r2, r2, #1
 5479 00c8 1A70     		strb	r2, [r3]
 5480              	.L310:
2659:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=1; x<=SDCard_FatEntrySize; x++)
 5481              		.loc 1 2659 0 is_stmt 0 discriminator 1
 5482 00ca 1C4B     		ldr	r3, .L319+4
 5483 00cc 1B78     		ldrb	r3, [r3]
 5484 00ce 1B22     		movs	r2, #27
 5485 00d0 BA18     		adds	r2, r7, r2
 5486 00d2 1278     		ldrb	r2, [r2]
 5487 00d4 9A42     		cmp	r2, r3
 5488 00d6 E0D9     		bls	.L311
 5489 00d8 08E0     		b	.L313
 5490              	.L309:
2663:Generated_Source\PSoC4/SDCard_FS.c ****             }
2664:Generated_Source\PSoC4/SDCard_FS.c ****          
2665:Generated_Source\PSoC4/SDCard_FS.c ****          }
2666:Generated_Source\PSoC4/SDCard_FS.c ****          else
2667:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;             // Set status to failed
 5491              		.loc 1 2667 0 is_stmt 1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 145


 5492 00da 1323     		movs	r3, #19
 5493 00dc FB18     		adds	r3, r7, r3
 5494 00de AA22     		movs	r2, #170
 5495 00e0 1A70     		strb	r2, [r3]
 5496 00e2 03E0     		b	.L313
 5497              	.L308:
2668:Generated_Source\PSoC4/SDCard_FS.c ****       }
2669:Generated_Source\PSoC4/SDCard_FS.c ****       else
2670:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;                // Set status to failed
 5498              		.loc 1 2670 0
 5499 00e4 1323     		movs	r3, #19
 5500 00e6 FB18     		adds	r3, r7, r3
 5501 00e8 AA22     		movs	r2, #170
 5502 00ea 1A70     		strb	r2, [r3]
 5503              	.L313:
2671:Generated_Source\PSoC4/SDCard_FS.c **** 
2672:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_EndCmd();
 5504              		.loc 1 2672 0
 5505 00ec FFF7FEFF 		bl	SDCard_EndCmd
2673:Generated_Source\PSoC4/SDCard_FS.c **** 
2674:Generated_Source\PSoC4/SDCard_FS.c ****       if(Loop == 2)
 5506              		.loc 1 2674 0
 5507 00f0 1A23     		movs	r3, #26
 5508 00f2 FB18     		adds	r3, r7, r3
 5509 00f4 1B78     		ldrb	r3, [r3]
 5510 00f6 022B     		cmp	r3, #2
 5511 00f8 10D1     		bne	.L314
2675:Generated_Source\PSoC4/SDCard_FS.c ****       {
2676:Generated_Source\PSoC4/SDCard_FS.c ****          if(Nfat == 0)
 5512              		.loc 1 2676 0
 5513 00fa FB69     		ldr	r3, [r7, #28]
 5514 00fc 002B     		cmp	r3, #0
 5515 00fe 09D1     		bne	.L315
2677:Generated_Source\PSoC4/SDCard_FS.c ****          {
2678:Generated_Source\PSoC4/SDCard_FS.c ****             Nfat = FatNum;       // Return the first unused FAT entry number
 5516              		.loc 1 2678 0
 5517 0100 7B68     		ldr	r3, [r7, #4]
 5518 0102 FB61     		str	r3, [r7, #28]
2679:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_EmptyFat = FatNum;   // Next time start search where it left off
 5519              		.loc 1 2679 0
 5520 0104 0C4B     		ldr	r3, .L319
 5521 0106 7A68     		ldr	r2, [r7, #4]
 5522 0108 1A60     		str	r2, [r3]
2680:Generated_Source\PSoC4/SDCard_FS.c ****             Loop = 0;            // Break the while loop when unused FAT entry is found
 5523              		.loc 1 2680 0
 5524 010a 1A23     		movs	r3, #26
 5525 010c FB18     		adds	r3, r7, r3
 5526 010e 0022     		movs	r2, #0
 5527 0110 1A70     		strb	r2, [r3]
 5528 0112 07E0     		b	.L305
 5529              	.L315:
2681:Generated_Source\PSoC4/SDCard_FS.c ****          }
2682:Generated_Source\PSoC4/SDCard_FS.c ****          else
2683:Generated_Source\PSoC4/SDCard_FS.c ****             FatNum++;            // No match yet, check next FAT entry
 5530              		.loc 1 2683 0
 5531 0114 7B68     		ldr	r3, [r7, #4]
 5532 0116 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 146


 5533 0118 7B60     		str	r3, [r7, #4]
 5534 011a 03E0     		b	.L305
 5535              	.L314:
2684:Generated_Source\PSoC4/SDCard_FS.c ****       }
2685:Generated_Source\PSoC4/SDCard_FS.c ****       else
2686:Generated_Source\PSoC4/SDCard_FS.c ****          Loop = 0;               // Only one pass through the loop
 5536              		.loc 1 2686 0
 5537 011c 1A23     		movs	r3, #26
 5538 011e FB18     		adds	r3, r7, r3
 5539 0120 0022     		movs	r2, #0
 5540 0122 1A70     		strb	r2, [r3]
 5541              	.L305:
2632:Generated_Source\PSoC4/SDCard_FS.c ****    {
 5542              		.loc 1 2632 0
 5543 0124 1A23     		movs	r3, #26
 5544 0126 FB18     		adds	r3, r7, r3
 5545 0128 1B78     		ldrb	r3, [r3]
 5546 012a 002B     		cmp	r3, #0
 5547 012c 84D1     		bne	.L317
2687:Generated_Source\PSoC4/SDCard_FS.c ****    }   
2688:Generated_Source\PSoC4/SDCard_FS.c ****    return(Nfat);                 // Return next FAT entry (or first unused FAT entry)
 5548              		.loc 1 2688 0
 5549 012e FB69     		ldr	r3, [r7, #28]
2689:Generated_Source\PSoC4/SDCard_FS.c **** }
 5550              		.loc 1 2689 0
 5551 0130 1800     		movs	r0, r3
 5552 0132 BD46     		mov	sp, r7
 5553 0134 08B0     		add	sp, sp, #32
 5554              		@ sp needed
 5555 0136 80BD     		pop	{r7, pc}
 5556              	.L320:
 5557              		.align	2
 5558              	.L319:
 5559 0138 00000000 		.word	SDCard_EmptyFat
 5560 013c 00000000 		.word	SDCard_FatEntrySize
 5561 0140 00000000 		.word	SDCard_Fat1Start
 5562              		.cfi_endproc
 5563              	.LFE77:
 5564              		.size	SDCard_FatTrack, .-SDCard_FatTrack
 5565              		.section	.text.SDCard_LastFat,"ax",%progbits
 5566              		.align	2
 5567              		.global	SDCard_LastFat
 5568              		.code	16
 5569              		.thumb_func
 5570              		.type	SDCard_LastFat, %function
 5571              	SDCard_LastFat:
 5572              	.LFB78:
2690:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2691:Generated_Source\PSoC4/SDCard_FS.c **** 
2692:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2693:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_LastFat(uchar Fptr)
2694:Generated_Source\PSoC4/SDCard_FS.c **** //                   uint SDCard_LastFat(uchar Fptr)
2695:Generated_Source\PSoC4/SDCard_FS.c **** //
2696:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2697:Generated_Source\PSoC4/SDCard_FS.c **** //   Returns the last FAT entry used in a file chain, returns zero if no FAT chain found
2698:Generated_Source\PSoC4/SDCard_FS.c **** //
2699:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 147


2700:Generated_Source\PSoC4/SDCard_FS.c **** //
2701:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2702:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
2703:Generated_Source\PSoC4/SDCard_FS.c **** //
2704:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2705:Generated_Source\PSoC4/SDCard_FS.c **** //    Last FAT entry used.
2706:Generated_Source\PSoC4/SDCard_FS.c **** //
2707:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2708:Generated_Source\PSoC4/SDCard_FS.c **** //
2709:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2710:Generated_Source\PSoC4/SDCard_FS.c **** //
2711:Generated_Source\PSoC4/SDCard_FS.c **** //
2712:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2713:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2714:Generated_Source\PSoC4/SDCard_FS.c **** 
2715:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2716:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_LastFat(uchar Fptr)
2717:Generated_Source\PSoC4/SDCard_FS.c **** #else
2718:Generated_Source\PSoC4/SDCard_FS.c **** uint SDCard_LastFat(uchar Fptr)
2719:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2720:Generated_Source\PSoC4/SDCard_FS.c **** {
 5573              		.loc 1 2720 0
 5574              		.cfi_startproc
 5575              		@ args = 0, pretend = 0, frame = 16
 5576              		@ frame_needed = 1, uses_anonymous_args = 0
 5577 0000 80B5     		push	{r7, lr}
 5578              		.cfi_def_cfa_offset 8
 5579              		.cfi_offset 7, -8
 5580              		.cfi_offset 14, -4
 5581 0002 84B0     		sub	sp, sp, #16
 5582              		.cfi_def_cfa_offset 24
 5583 0004 00AF     		add	r7, sp, #0
 5584              		.cfi_def_cfa_register 7
 5585 0006 0200     		movs	r2, r0
 5586 0008 FB1D     		adds	r3, r7, #7
 5587 000a 1A70     		strb	r2, [r3]
2721:Generated_Source\PSoC4/SDCard_FS.c ****    
2722:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2723:Generated_Source\PSoC4/SDCard_FS.c ****    ulong Nfat;               // Temp next FAT entry variable
2724:Generated_Source\PSoC4/SDCard_FS.c ****    ulong Cfat=0;             // Temp current FAT entry variable
 5588              		.loc 1 2724 0
 5589 000c 0023     		movs	r3, #0
 5590 000e BB60     		str	r3, [r7, #8]
2725:Generated_Source\PSoC4/SDCard_FS.c **** #else
2726:Generated_Source\PSoC4/SDCard_FS.c ****    uint Nfat;                // Temp next FAT entry variable
2727:Generated_Source\PSoC4/SDCard_FS.c ****    uint Cfat=0;              // Temp current entry FAT variable
2728:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2729:Generated_Source\PSoC4/SDCard_FS.c **** 
2730:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CurStart[Fptr]!=0)     // Valid FAT entry?
 5591              		.loc 1 2730 0
 5592 0010 FB1D     		adds	r3, r7, #7
 5593 0012 1A78     		ldrb	r2, [r3]
 5594 0014 0E4B     		ldr	r3, .L326
 5595 0016 9200     		lsls	r2, r2, #2
 5596 0018 D358     		ldr	r3, [r2, r3]
 5597 001a 002B     		cmp	r3, #0
 5598 001c 13D0     		beq	.L322
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 148


2731:Generated_Source\PSoC4/SDCard_FS.c ****    {
2732:Generated_Source\PSoC4/SDCard_FS.c ****       // Yes, seach the last FAT   
2733:Generated_Source\PSoC4/SDCard_FS.c ****       Nfat = SDCard_CurFat[Fptr];   // Set next FAT entry to the current FAT entry (valid by defaul
 5599              		.loc 1 2733 0
 5600 001e FB1D     		adds	r3, r7, #7
 5601 0020 1A78     		ldrb	r2, [r3]
 5602 0022 0C4B     		ldr	r3, .L326+4
 5603 0024 9200     		lsls	r2, r2, #2
 5604 0026 D358     		ldr	r3, [r2, r3]
 5605 0028 FB60     		str	r3, [r7, #12]
2734:Generated_Source\PSoC4/SDCard_FS.c ****    
2735:Generated_Source\PSoC4/SDCard_FS.c ****       while(Nfat != SDCard_FatEnd)
 5606              		.loc 1 2735 0
 5607 002a 07E0     		b	.L323
 5608              	.L324:
2736:Generated_Source\PSoC4/SDCard_FS.c ****       {
2737:Generated_Source\PSoC4/SDCard_FS.c ****          // Loop until the last FAT entry is reached
2738:Generated_Source\PSoC4/SDCard_FS.c ****          Cfat = Nfat;         // Set the current FAT entry to the previous 'Next FAT' value
 5609              		.loc 1 2738 0
 5610 002c FB68     		ldr	r3, [r7, #12]
 5611 002e BB60     		str	r3, [r7, #8]
2739:Generated_Source\PSoC4/SDCard_FS.c ****          Nfat = SDCard_FatTrack(Cfat);   // Get the next FAT entry value
 5612              		.loc 1 2739 0
 5613 0030 BB68     		ldr	r3, [r7, #8]
 5614 0032 1800     		movs	r0, r3
 5615 0034 FFF7FEFF 		bl	SDCard_FatTrack
 5616 0038 0300     		movs	r3, r0
 5617 003a FB60     		str	r3, [r7, #12]
 5618              	.L323:
2735:Generated_Source\PSoC4/SDCard_FS.c ****       {
 5619              		.loc 1 2735 0
 5620 003c 064B     		ldr	r3, .L326+8
 5621 003e 1B68     		ldr	r3, [r3]
 5622 0040 FA68     		ldr	r2, [r7, #12]
 5623 0042 9A42     		cmp	r2, r3
 5624 0044 F2D1     		bne	.L324
 5625              	.L322:
2740:Generated_Source\PSoC4/SDCard_FS.c ****       }
2741:Generated_Source\PSoC4/SDCard_FS.c ****    }
2742:Generated_Source\PSoC4/SDCard_FS.c ****    return(Cfat);             // Return last FAT - return zero if no FAT chain found
 5626              		.loc 1 2742 0
 5627 0046 BB68     		ldr	r3, [r7, #8]
2743:Generated_Source\PSoC4/SDCard_FS.c **** }
 5628              		.loc 1 2743 0
 5629 0048 1800     		movs	r0, r3
 5630 004a BD46     		mov	sp, r7
 5631 004c 04B0     		add	sp, sp, #16
 5632              		@ sp needed
 5633 004e 80BD     		pop	{r7, pc}
 5634              	.L327:
 5635              		.align	2
 5636              	.L326:
 5637 0050 00000000 		.word	SDCard_CurStart
 5638 0054 00000000 		.word	SDCard_CurFat
 5639 0058 00000000 		.word	SDCard_FatEnd
 5640              		.cfi_endproc
 5641              	.LFE78:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 149


 5642              		.size	SDCard_LastFat, .-SDCard_LastFat
 5643              		.section	.text.SDCard_NextSect,"ax",%progbits
 5644              		.align	2
 5645              		.global	SDCard_NextSect
 5646              		.code	16
 5647              		.thumb_func
 5648              		.type	SDCard_NextSect, %function
 5649              	SDCard_NextSect:
 5650              	.LFB79:
2744:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2745:Generated_Source\PSoC4/SDCard_FS.c **** 
2746:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2747:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_NextSect(uchar Fptr)
2748:Generated_Source\PSoC4/SDCard_FS.c **** //
2749:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2750:Generated_Source\PSoC4/SDCard_FS.c **** //   Increments the next cluster to be used in the file and the next FAT if necessary
2751:Generated_Source\PSoC4/SDCard_FS.c **** //   in the file. (Will automatically allign CurOffset to the sector start.
2752:Generated_Source\PSoC4/SDCard_FS.c **** //   updates CurSect, CurOffset, and CurFat as required.
2753:Generated_Source\PSoC4/SDCard_FS.c **** //
2754:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2755:Generated_Source\PSoC4/SDCard_FS.c **** //
2756:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2757:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => Current file pointer
2758:Generated_Source\PSoC4/SDCard_FS.c **** //
2759:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2760:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status  // REVIEW clarify
2761:Generated_Source\PSoC4/SDCard_FS.c **** //
2762:Generated_Source\PSoC4/SDCard_FS.c **** //
2763:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2764:Generated_Source\PSoC4/SDCard_FS.c **** //    Note:   This routine will allow writes beyond the stated CurSize value as whole
2765:Generated_Source\PSoC4/SDCard_FS.c **** //            sectors must be written. Data values beyond file end are not guaranteed.
2766:Generated_Source\PSoC4/SDCard_FS.c **** //            Also be aware that a whole clusters are assigned not matter how little 
2767:Generated_Source\PSoC4/SDCard_FS.c **** //            of last one is used, and total access is possible during file copies.
2768:Generated_Source\PSoC4/SDCard_FS.c **** //
2769:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2770:Generated_Source\PSoC4/SDCard_FS.c **** //
2771:Generated_Source\PSoC4/SDCard_FS.c **** //
2772:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2773:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2774:Generated_Source\PSoC4/SDCard_FS.c **** 
2775:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_NextSect(uchar Fptr)
2776:Generated_Source\PSoC4/SDCard_FS.c **** {
 5651              		.loc 1 2776 0
 5652              		.cfi_startproc
 5653              		@ args = 0, pretend = 0, frame = 16
 5654              		@ frame_needed = 1, uses_anonymous_args = 0
 5655 0000 80B5     		push	{r7, lr}
 5656              		.cfi_def_cfa_offset 8
 5657              		.cfi_offset 7, -8
 5658              		.cfi_offset 14, -4
 5659 0002 84B0     		sub	sp, sp, #16
 5660              		.cfi_def_cfa_offset 24
 5661 0004 00AF     		add	r7, sp, #0
 5662              		.cfi_def_cfa_register 7
 5663 0006 0200     		movs	r2, r0
 5664 0008 FB1D     		adds	r3, r7, #7
 5665 000a 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 150


2777:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;
 5666              		.loc 1 2777 0
 5667 000c 0F23     		movs	r3, #15
 5668 000e FB18     		adds	r3, r7, r3
 5669 0010 0022     		movs	r2, #0
 5670 0012 1A70     		strb	r2, [r3]
2778:Generated_Source\PSoC4/SDCard_FS.c ****    
2779:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CurSect[Fptr] < (SDCard_ClusterSize -1))
 5671              		.loc 1 2779 0
 5672 0014 FB1D     		adds	r3, r7, #7
 5673 0016 1B78     		ldrb	r3, [r3]
 5674 0018 2C4A     		ldr	r2, .L334
 5675 001a D35C     		ldrb	r3, [r2, r3]
 5676 001c 1A00     		movs	r2, r3
 5677 001e 2C4B     		ldr	r3, .L334+4
 5678 0020 1B78     		ldrb	r3, [r3]
 5679 0022 013B     		subs	r3, r3, #1
 5680 0024 9A42     		cmp	r2, r3
 5681 0026 08DA     		bge	.L329
2780:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSect[Fptr]++;                 // If less than the last sector - increment sector
 5682              		.loc 1 2780 0
 5683 0028 FB1D     		adds	r3, r7, #7
 5684 002a 1B78     		ldrb	r3, [r3]
 5685 002c 274A     		ldr	r2, .L334
 5686 002e D25C     		ldrb	r2, [r2, r3]
 5687 0030 0132     		adds	r2, r2, #1
 5688 0032 D1B2     		uxtb	r1, r2
 5689 0034 254A     		ldr	r2, .L334
 5690 0036 D154     		strb	r1, [r2, r3]
 5691 0038 23E0     		b	.L330
 5692              	.L329:
2781:Generated_Source\PSoC4/SDCard_FS.c ****    else
2782:Generated_Source\PSoC4/SDCard_FS.c ****    {
2783:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_NextFat(Fptr);                   // Get next fat entry
 5693              		.loc 1 2783 0
 5694 003a FB1D     		adds	r3, r7, #7
 5695 003c 1B78     		ldrb	r3, [r3]
 5696 003e 1800     		movs	r0, r3
 5697 0040 FFF7FEFF 		bl	SDCard_NextFat
2784:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CurFat[Fptr] != SDCard_FatEnd)       // Was this the last FAT entry?
 5698              		.loc 1 2784 0
 5699 0044 FB1D     		adds	r3, r7, #7
 5700 0046 1A78     		ldrb	r2, [r3]
 5701 0048 224B     		ldr	r3, .L334+8
 5702 004a 9200     		lsls	r2, r2, #2
 5703 004c D258     		ldr	r2, [r2, r3]
 5704 004e 224B     		ldr	r3, .L334+12
 5705 0050 1B68     		ldr	r3, [r3]
 5706 0052 9A42     		cmp	r2, r3
 5707 0054 05D0     		beq	.L331
2785:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurSect[Fptr] = 0;            // No, Reset sector count
 5708              		.loc 1 2785 0
 5709 0056 FB1D     		adds	r3, r7, #7
 5710 0058 1B78     		ldrb	r3, [r3]
 5711 005a 1C4A     		ldr	r2, .L334
 5712 005c 0021     		movs	r1, #0
 5713 005e D154     		strb	r1, [r2, r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 151


 5714 0060 0FE0     		b	.L330
 5715              	.L331:
2786:Generated_Source\PSoC4/SDCard_FS.c ****       else
2787:Generated_Source\PSoC4/SDCard_FS.c ****       {
2788:Generated_Source\PSoC4/SDCard_FS.c ****          // Read Mode - At or past EOF
2789:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;                // Error - Already at last FAT entry
 5716              		.loc 1 2789 0
 5717 0062 0F23     		movs	r3, #15
 5718 0064 FB18     		adds	r3, r7, r3
 5719 0066 AA22     		movs	r2, #170
 5720 0068 1A70     		strb	r2, [r3]
2790:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_FileError[Fptr] |= SDCard_EOF;       // Set the end of file flag
 5721              		.loc 1 2790 0
 5722 006a FB1D     		adds	r3, r7, #7
 5723 006c 1B78     		ldrb	r3, [r3]
 5724 006e FA1D     		adds	r2, r7, #7
 5725 0070 1278     		ldrb	r2, [r2]
 5726 0072 1A49     		ldr	r1, .L334+16
 5727 0074 8A5C     		ldrb	r2, [r1, r2]
 5728 0076 8021     		movs	r1, #128
 5729 0078 4942     		rsbs	r1, r1, #0
 5730 007a 0A43     		orrs	r2, r1
 5731 007c D1B2     		uxtb	r1, r2
 5732 007e 174A     		ldr	r2, .L334+16
 5733 0080 D154     		strb	r1, [r2, r3]
 5734              	.L330:
2791:Generated_Source\PSoC4/SDCard_FS.c ****       }
2792:Generated_Source\PSoC4/SDCard_FS.c ****    }
2793:Generated_Source\PSoC4/SDCard_FS.c ****    if(status == 0)
 5735              		.loc 1 2793 0
 5736 0082 0F23     		movs	r3, #15
 5737 0084 FB18     		adds	r3, r7, r3
 5738 0086 1B78     		ldrb	r3, [r3]
 5739 0088 002B     		cmp	r3, #0
 5740 008a 18D1     		bne	.L332
2794:Generated_Source\PSoC4/SDCard_FS.c ****    {
2795:Generated_Source\PSoC4/SDCard_FS.c ****       // If no errors update the CurOffset to match
2796:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[Fptr] += 512;          // Add the sector to the offset
 5741              		.loc 1 2796 0
 5742 008c FB1D     		adds	r3, r7, #7
 5743 008e 1A78     		ldrb	r2, [r3]
 5744 0090 FB1D     		adds	r3, r7, #7
 5745 0092 1978     		ldrb	r1, [r3]
 5746 0094 124B     		ldr	r3, .L334+20
 5747 0096 8900     		lsls	r1, r1, #2
 5748 0098 CB58     		ldr	r3, [r1, r3]
 5749 009a 8021     		movs	r1, #128
 5750 009c 8900     		lsls	r1, r1, #2
 5751 009e 5918     		adds	r1, r3, r1
 5752 00a0 0F4B     		ldr	r3, .L334+20
 5753 00a2 9200     		lsls	r2, r2, #2
 5754 00a4 D150     		str	r1, [r2, r3]
2797:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[Fptr] &= 0xFFFFFE00;   // Allign the sector boundry
 5755              		.loc 1 2797 0
 5756 00a6 FB1D     		adds	r3, r7, #7
 5757 00a8 1A78     		ldrb	r2, [r3]
 5758 00aa FB1D     		adds	r3, r7, #7
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 152


 5759 00ac 1978     		ldrb	r1, [r3]
 5760 00ae 0C4B     		ldr	r3, .L334+20
 5761 00b0 8900     		lsls	r1, r1, #2
 5762 00b2 CB58     		ldr	r3, [r1, r3]
 5763 00b4 5B0A     		lsrs	r3, r3, #9
 5764 00b6 5902     		lsls	r1, r3, #9
 5765 00b8 094B     		ldr	r3, .L334+20
 5766 00ba 9200     		lsls	r2, r2, #2
 5767 00bc D150     		str	r1, [r2, r3]
 5768              	.L332:
2798:Generated_Source\PSoC4/SDCard_FS.c ****    }
2799:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 5769              		.loc 1 2799 0
 5770 00be 0F23     		movs	r3, #15
 5771 00c0 FB18     		adds	r3, r7, r3
 5772 00c2 1B78     		ldrb	r3, [r3]
2800:Generated_Source\PSoC4/SDCard_FS.c **** }
 5773              		.loc 1 2800 0
 5774 00c4 1800     		movs	r0, r3
 5775 00c6 BD46     		mov	sp, r7
 5776 00c8 04B0     		add	sp, sp, #16
 5777              		@ sp needed
 5778 00ca 80BD     		pop	{r7, pc}
 5779              	.L335:
 5780              		.align	2
 5781              	.L334:
 5782 00cc 00000000 		.word	SDCard_CurSect
 5783 00d0 00000000 		.word	SDCard_ClusterSize
 5784 00d4 00000000 		.word	SDCard_CurFat
 5785 00d8 00000000 		.word	SDCard_FatEnd
 5786 00dc 00000000 		.word	SDCard_FileError
 5787 00e0 00000000 		.word	SDCard_CurOffset
 5788              		.cfi_endproc
 5789              	.LFE79:
 5790              		.size	SDCard_NextSect, .-SDCard_NextSect
 5791              		.section	.text.SDCard_FindFile,"ax",%progbits
 5792              		.align	2
 5793              		.global	SDCard_FindFile
 5794              		.code	16
 5795              		.thumb_func
 5796              		.type	SDCard_FindFile, %function
 5797              	SDCard_FindFile:
 5798              	.LFB80:
2801:Generated_Source\PSoC4/SDCard_FS.c **** #endif
2802:Generated_Source\PSoC4/SDCard_FS.c **** 
2803:Generated_Source\PSoC4/SDCard_FS.c **** 
2804:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2805:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_FindFile(uchar Fptr, uint FileNum)
2806:Generated_Source\PSoC4/SDCard_FS.c **** //
2807:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
2808:Generated_Source\PSoC4/SDCard_FS.c **** //   Finds a file in the root directory. 
2809:Generated_Source\PSoC4/SDCard_FS.c **** //
2810:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2811:Generated_Source\PSoC4/SDCard_FS.c **** //
2812:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
2813:Generated_Source\PSoC4/SDCard_FS.c **** // Fptr    - If less than MAXFILES then the pointer is used for file info, if it equals maxfiles no
2814:Generated_Source\PSoC4/SDCard_FS.c **** //           file information is passed. (Used for just returning filenames)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 153


2815:Generated_Source\PSoC4/SDCard_FS.c **** //
2816:Generated_Source\PSoC4/SDCard_FS.c **** // FileNum - If zero, it searches by filename, matching the first 11 characters in Buffer1 to Buffe
2817:Generated_Source\PSoC4/SDCard_FS.c **** //           If non-zero it searches by file number, if number is greater than the number of  
2818:Generated_Source\PSoC4/SDCard_FS.c **** //           files no match will be found. (Only valid files are counted). (A limit of 0xFFFE valid
2819:Generated_Source\PSoC4/SDCard_FS.c **** //           If 0xFFFF it searches for the first unused directory entry (E5 or 00 for first charact
2820:Generated_Source\PSoC4/SDCard_FS.c **** //
2821:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
2822:Generated_Source\PSoC4/SDCard_FS.c **** //    Number of files found at point of match, or all valid files if no match found.
2823:Generated_Source\PSoC4/SDCard_FS.c **** //    Note: Using a FileNum >= 512/0xFFFE will always result in no match, returning a valid file co
2824:Generated_Source\PSoC4/SDCard_FS.c **** //
2825:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
2826:Generated_Source\PSoC4/SDCard_FS.c **** //
2827:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
2828:Generated_Source\PSoC4/SDCard_FS.c **** //
2829:Generated_Source\PSoC4/SDCard_FS.c **** //
2830:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
2831:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
2832:Generated_Source\PSoC4/SDCard_FS.c **** 
2833:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_FindFile(uchar Fptr, uint FileNum)
2834:Generated_Source\PSoC4/SDCard_FS.c **** {
 5799              		.loc 1 2834 0
 5800              		.cfi_startproc
 5801              		@ args = 0, pretend = 0, frame = 24
 5802              		@ frame_needed = 1, uses_anonymous_args = 0
 5803 0000 90B5     		push	{r4, r7, lr}
 5804              		.cfi_def_cfa_offset 12
 5805              		.cfi_offset 4, -12
 5806              		.cfi_offset 7, -8
 5807              		.cfi_offset 14, -4
 5808 0002 87B0     		sub	sp, sp, #28
 5809              		.cfi_def_cfa_offset 40
 5810 0004 00AF     		add	r7, sp, #0
 5811              		.cfi_def_cfa_register 7
 5812 0006 0200     		movs	r2, r0
 5813 0008 3960     		str	r1, [r7]
 5814 000a FB1D     		adds	r3, r7, #7
 5815 000c 1A70     		strb	r2, [r3]
2835:Generated_Source\PSoC4/SDCard_FS.c **** 
2836:Generated_Source\PSoC4/SDCard_FS.c ****    // Sends the sector read card command for the Directory and reads directory entries into buffer 
2837:Generated_Source\PSoC4/SDCard_FS.c ****    // Buffer1 it finds a match for the first 11 characters of Buffer2 and confirms that this is a 
2838:Generated_Source\PSoC4/SDCard_FS.c ****    // valid filename. (not a sub-directory or a volume label).
2839:Generated_Source\PSoC4/SDCard_FS.c ****    
2840:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   match  = 0;   // Set to 1 if a match is found
 5816              		.loc 1 2840 0
 5817 000e 1723     		movs	r3, #23
 5818 0010 FB18     		adds	r3, r7, r3
 5819 0012 0022     		movs	r2, #0
 5820 0014 1A70     		strb	r2, [r3]
2841:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   end = 0;      // Flag for directory end found
 5821              		.loc 1 2841 0
 5822 0016 1623     		movs	r3, #22
 5823 0018 FB18     		adds	r3, r7, r3
 5824 001a 0022     		movs	r2, #0
 5825 001c 1A70     		strb	r2, [r3]
2842:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   x;            // Loop variables
2843:Generated_Source\PSoC4/SDCard_FS.c ****    uint    y = 0;
 5826              		.loc 1 2843 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 154


 5827 001e 0023     		movs	r3, #0
 5828 0020 3B61     		str	r3, [r7, #16]
2844:Generated_Source\PSoC4/SDCard_FS.c ****    uint    files = 0;    // Current count of valid files
 5829              		.loc 1 2844 0
 5830 0022 0023     		movs	r3, #0
 5831 0024 FB60     		str	r3, [r7, #12]
2845:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;   // Temp status variable
 5832              		.loc 1 2845 0
 5833 0026 0B23     		movs	r3, #11
 5834 0028 FB18     		adds	r3, r7, r3
 5835 002a 0022     		movs	r2, #0
 5836 002c 1A70     		strb	r2, [r3]
2846:Generated_Source\PSoC4/SDCard_FS.c ****    
2847:Generated_Source\PSoC4/SDCard_FS.c **** //   SDCard_SetSize(32);        // Set block length to 32 for directory reads
2848:Generated_Source\PSoC4/SDCard_FS.c **** 
2849:Generated_Source\PSoC4/SDCard_FS.c **** //  Directory Entry information - 32 bytes each for short file names (long filenames not supported)
2850:Generated_Source\PSoC4/SDCard_FS.c **** //
2851:Generated_Source\PSoC4/SDCard_FS.c **** //   0x00     8      Filename   - 8 Uppercase ASCII characters, right padded with spaces
2852:Generated_Source\PSoC4/SDCard_FS.c **** //                                (First character special, 0x00=Unused, 0x2E=Sub-directory, 0xE5=E
2853:Generated_Source\PSoC4/SDCard_FS.c **** //   0x08     3      Extension  - 3 Uppercase ASCII characters, right padded with spaces
2854:Generated_Source\PSoC4/SDCard_FS.c **** //   0x0B     1      Attribtes  - File attributes - bits 0-5 used, bits 6 and 7 are reserved
2855:Generated_Source\PSoC4/SDCard_FS.c **** //                                (Bits 0=Read Only, 1=Hidden, 2=System, 3=Volume Label, 4=SubDir, 
2856:Generated_Source\PSoC4/SDCard_FS.c **** //   0x0C     10     Reserved bytes
2857:Generated_Source\PSoC4/SDCard_FS.c **** //  (0x14)    2     (Upper two bytes of FAT for FAT32 entry)
2858:Generated_Source\PSoC4/SDCard_FS.c **** //   0x16     2      Creation/modification time in compressed format
2859:Generated_Source\PSoC4/SDCard_FS.c **** //   0x18     2      Creation/modification date in compressed format
2860:Generated_Source\PSoC4/SDCard_FS.c **** //   0x1A     2      Starting FAT entry in FAT table (first FAT entry is always 2 not 0)
2861:Generated_Source\PSoC4/SDCard_FS.c **** //   0x1C     4      File size (long)
2862:Generated_Source\PSoC4/SDCard_FS.c **** 
2863:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CurStart[SDCard_MAXFILES] != 0)      
 5837              		.loc 1 2863 0
 5838 002e D14B     		ldr	r3, .L370
 5839 0030 9B68     		ldr	r3, [r3, #8]
 5840 0032 002B     		cmp	r3, #0
 5841 0034 00D1     		bne	.LCB5061
 5842 0036 04E1     		b	.L338	@long jump
 5843              	.LCB5061:
2864:Generated_Source\PSoC4/SDCard_FS.c ****    {
2865:Generated_Source\PSoC4/SDCard_FS.c ****       // Directory is FAT based - set up FAT values
2866:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurFat[SDCard_MAXFILES] = SDCard_CurStart[SDCard_MAXFILES];
 5844              		.loc 1 2866 0
 5845 0038 CE4B     		ldr	r3, .L370
 5846 003a 9A68     		ldr	r2, [r3, #8]
 5847 003c CE4B     		ldr	r3, .L370+4
 5848 003e 9A60     		str	r2, [r3, #8]
2867:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSect[SDCard_MAXFILES] = 0;
 5849              		.loc 1 2867 0
 5850 0040 CE4B     		ldr	r3, .L370+8
 5851 0042 0022     		movs	r2, #0
 5852 0044 9A70     		strb	r2, [r3, #2]
2868:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[SDCard_MAXFILES] = 0;   
 5853              		.loc 1 2868 0
 5854 0046 CE4B     		ldr	r3, .L370+12
 5855 0048 0022     		movs	r2, #0
 5856 004a 9A60     		str	r2, [r3, #8]
2869:Generated_Source\PSoC4/SDCard_FS.c ****    }
2870:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 155


2871:Generated_Source\PSoC4/SDCard_FS.c ****    while((match==0)&&(end==0))           // Search directory until match in Buffer2 is found
 5857              		.loc 1 2871 0
 5858 004c F9E0     		b	.L338
 5859              	.L360:
2872:Generated_Source\PSoC4/SDCard_FS.c ****    {
2873:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CurStart[SDCard_MAXFILES] == 0)
 5860              		.loc 1 2873 0
 5861 004e C94B     		ldr	r3, .L370
 5862 0050 9B68     		ldr	r3, [r3, #8]
 5863 0052 002B     		cmp	r3, #0
 5864 0054 07D1     		bne	.L339
2874:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_Address = SDCard_DirStart + (y * 32);  // Calculate directory entry to try - Fixed 
 5865              		.loc 1 2874 0
 5866 0056 3B69     		ldr	r3, [r7, #16]
 5867 0058 5A01     		lsls	r2, r3, #5
 5868 005a CA4B     		ldr	r3, .L370+16
 5869 005c 1B68     		ldr	r3, [r3]
 5870 005e D218     		adds	r2, r2, r3
 5871 0060 C94B     		ldr	r3, .L370+20
 5872 0062 1A60     		str	r2, [r3]
 5873 0064 03E0     		b	.L340
 5874              	.L339:
2875:Generated_Source\PSoC4/SDCard_FS.c ****       else
2876:Generated_Source\PSoC4/SDCard_FS.c ****       {
2877:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_GetAddress(SDCard_MAXFILES, 1);        // Calculate directory address
 5875              		.loc 1 2877 0
 5876 0066 0121     		movs	r1, #1
 5877 0068 0220     		movs	r0, #2
 5878 006a FFF7FEFF 		bl	SDCard_GetAddress
 5879              	.L340:
2878:Generated_Source\PSoC4/SDCard_FS.c ****       }
2879:Generated_Source\PSoC4/SDCard_FS.c ****       
2880:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SetSize(32);                       // Set block length to 32 for directory reads
 5880              		.loc 1 2880 0
 5881 006e 2020     		movs	r0, #32
 5882 0070 FFF7FEFF 		bl	SDCard_SetSize
2881:Generated_Source\PSoC4/SDCard_FS.c ****       
2882:Generated_Source\PSoC4/SDCard_FS.c ****       // CMD17 - Read single block command
2883:Generated_Source\PSoC4/SDCard_FS.c ****       // Byte String = 0x51 (ulong Address) 0xFF 
2884:Generated_Source\PSoC4/SDCard_FS.c **** 
2885:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Cmd(SDCard_CMD17, SDCard_Address);               // Send CMD17 command string
 5883              		.loc 1 2885 0
 5884 0074 C44B     		ldr	r3, .L370+20
 5885 0076 1B68     		ldr	r3, [r3]
 5886 0078 1900     		movs	r1, r3
 5887 007a 5120     		movs	r0, #81
 5888 007c FFF7FEFF 		bl	SDCard_Cmd
2886:Generated_Source\PSoC4/SDCard_FS.c ****    
2887:Generated_Source\PSoC4/SDCard_FS.c ****       // Check response
2888:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0) != SDCard_FAIL)          // Check for status good
 5889              		.loc 1 2888 0
 5890 0080 0020     		movs	r0, #0
 5891 0082 FFF7FEFF 		bl	SDCard_CheckReply
 5892 0086 0300     		movs	r3, r0
 5893 0088 AA2B     		cmp	r3, #170
 5894 008a 15D0     		beq	.L341
2889:Generated_Source\PSoC4/SDCard_FS.c ****       {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 156


2890:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CheckReply(0xFE) != SDCard_FAIL)    // Set check to Single Block Read data token
 5895              		.loc 1 2890 0
 5896 008c FE20     		movs	r0, #254
 5897 008e FFF7FEFF 		bl	SDCard_CheckReply
 5898 0092 0300     		movs	r3, r0
 5899 0094 AA2B     		cmp	r3, #170
 5900 0096 06D0     		beq	.L342
2891:Generated_Source\PSoC4/SDCard_FS.c ****          {
2892:Generated_Source\PSoC4/SDCard_FS.c ****             // Get directory entry and save it   
2893:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadBuff(SDCard_Buffer1, 32 );
 5901              		.loc 1 2893 0
 5902 0098 BC4B     		ldr	r3, .L370+24
 5903 009a 1B68     		ldr	r3, [r3]
 5904 009c 2021     		movs	r1, #32
 5905 009e 1800     		movs	r0, r3
 5906 00a0 FFF7FEFF 		bl	SDCard_ReadBuff
 5907 00a4 10E0     		b	.L344
 5908              	.L342:
2894:Generated_Source\PSoC4/SDCard_FS.c **** 
2895:Generated_Source\PSoC4/SDCard_FS.c ****          }
2896:Generated_Source\PSoC4/SDCard_FS.c ****          else
2897:Generated_Source\PSoC4/SDCard_FS.c ****             status |= SDCard_CE;                // Card Error - Set status to failed
 5909              		.loc 1 2897 0
 5910 00a6 0B23     		movs	r3, #11
 5911 00a8 FB18     		adds	r3, r7, r3
 5912 00aa 0B22     		movs	r2, #11
 5913 00ac BA18     		adds	r2, r7, r2
 5914 00ae 1278     		ldrb	r2, [r2]
 5915 00b0 0821     		movs	r1, #8
 5916 00b2 0A43     		orrs	r2, r1
 5917 00b4 1A70     		strb	r2, [r3]
 5918 00b6 07E0     		b	.L344
 5919              	.L341:
2898:Generated_Source\PSoC4/SDCard_FS.c ****       }
2899:Generated_Source\PSoC4/SDCard_FS.c ****       else
2900:Generated_Source\PSoC4/SDCard_FS.c ****          status |= SDCard_CE;                   // Card Error - Set status to failed
 5920              		.loc 1 2900 0
 5921 00b8 0B23     		movs	r3, #11
 5922 00ba FB18     		adds	r3, r7, r3
 5923 00bc 0B22     		movs	r2, #11
 5924 00be BA18     		adds	r2, r7, r2
 5925 00c0 1278     		ldrb	r2, [r2]
 5926 00c2 0821     		movs	r1, #8
 5927 00c4 0A43     		orrs	r2, r1
 5928 00c6 1A70     		strb	r2, [r3]
 5929              	.L344:
2901:Generated_Source\PSoC4/SDCard_FS.c **** 
2902:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_EndCmd();                          // Finish the command cycle
 5930              		.loc 1 2902 0
 5931 00c8 FFF7FEFF 		bl	SDCard_EndCmd
2903:Generated_Source\PSoC4/SDCard_FS.c **** 
2904:Generated_Source\PSoC4/SDCard_FS.c ****       if(status == 0)
 5932              		.loc 1 2904 0
 5933 00cc 0B23     		movs	r3, #11
 5934 00ce FB18     		adds	r3, r7, r3
 5935 00d0 1B78     		ldrb	r3, [r3]
 5936 00d2 002B     		cmp	r3, #0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 157


 5937 00d4 00D0     		beq	.LCB5149
 5938 00d6 AAE0     		b	.L345	@long jump
 5939              	.LCB5149:
2905:Generated_Source\PSoC4/SDCard_FS.c ****       {
2906:Generated_Source\PSoC4/SDCard_FS.c **** 
2907:Generated_Source\PSoC4/SDCard_FS.c ****          // If first byte is zero and not looking for unused directories - must be directory end
2908:Generated_Source\PSoC4/SDCard_FS.c ****          if((SDCard_Buffer1[0]==0)&&(FileNum != SDCard_UNUSED))
 5940              		.loc 1 2908 0
 5941 00d8 AC4B     		ldr	r3, .L370+24
 5942 00da 1B68     		ldr	r3, [r3]
 5943 00dc 1B78     		ldrb	r3, [r3]
 5944 00de 002B     		cmp	r3, #0
 5945 00e0 07D1     		bne	.L346
 5946              		.loc 1 2908 0 is_stmt 0 discriminator 1
 5947 00e2 3B68     		ldr	r3, [r7]
 5948 00e4 AA4A     		ldr	r2, .L370+28
 5949 00e6 9342     		cmp	r3, r2
 5950 00e8 03D0     		beq	.L346
2909:Generated_Source\PSoC4/SDCard_FS.c ****             end=1;      // Set end of directory flag
 5951              		.loc 1 2909 0 is_stmt 1
 5952 00ea 1623     		movs	r3, #22
 5953 00ec FB18     		adds	r3, r7, r3
 5954 00ee 0122     		movs	r2, #1
 5955 00f0 1A70     		strb	r2, [r3]
 5956              	.L346:
2910:Generated_Source\PSoC4/SDCard_FS.c **** 
2911:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CurStart[SDCard_MAXFILES] == 0)
 5957              		.loc 1 2911 0
 5958 00f2 A04B     		ldr	r3, .L370
 5959 00f4 9B68     		ldr	r3, [r3, #8]
 5960 00f6 002B     		cmp	r3, #0
 5961 00f8 0BD1     		bne	.L347
2912:Generated_Source\PSoC4/SDCard_FS.c ****          {
2913:Generated_Source\PSoC4/SDCard_FS.c ****             // Fixed directory length of 512 entries
2914:Generated_Source\PSoC4/SDCard_FS.c ****             y++;
 5962              		.loc 1 2914 0
 5963 00fa 3B69     		ldr	r3, [r7, #16]
 5964 00fc 0133     		adds	r3, r3, #1
 5965 00fe 3B61     		str	r3, [r7, #16]
2915:Generated_Source\PSoC4/SDCard_FS.c ****             if(y >=512)
 5966              		.loc 1 2915 0
 5967 0100 3B69     		ldr	r3, [r7, #16]
 5968 0102 A44A     		ldr	r2, .L370+32
 5969 0104 9342     		cmp	r3, r2
 5970 0106 2ED9     		bls	.L349
2916:Generated_Source\PSoC4/SDCard_FS.c ****                end=1;   // Set end of directory flag
 5971              		.loc 1 2916 0
 5972 0108 1623     		movs	r3, #22
 5973 010a FB18     		adds	r3, r7, r3
 5974 010c 0122     		movs	r2, #1
 5975 010e 1A70     		strb	r2, [r3]
 5976 0110 29E0     		b	.L349
 5977              	.L347:
2917:Generated_Source\PSoC4/SDCard_FS.c ****          }
2918:Generated_Source\PSoC4/SDCard_FS.c ****          else
2919:Generated_Source\PSoC4/SDCard_FS.c ****          {
2920:Generated_Source\PSoC4/SDCard_FS.c ****             // Variable entry size - Fat based
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 158


2921:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurOffset[SDCard_MAXFILES] += 0x20;    // Add directory size to offset
 5978              		.loc 1 2921 0
 5979 0112 9B4B     		ldr	r3, .L370+12
 5980 0114 9B68     		ldr	r3, [r3, #8]
 5981 0116 2033     		adds	r3, r3, #32
 5982 0118 1A00     		movs	r2, r3
 5983 011a 994B     		ldr	r3, .L370+12
 5984 011c 9A60     		str	r2, [r3, #8]
2922:Generated_Source\PSoC4/SDCard_FS.c ****             if(SDCard_CurOffset[SDCard_MAXFILES] >= 512)  // If more than a sector update 
 5985              		.loc 1 2922 0
 5986 011e 984B     		ldr	r3, .L370+12
 5987 0120 9B68     		ldr	r3, [r3, #8]
 5988 0122 9C4A     		ldr	r2, .L370+32
 5989 0124 9342     		cmp	r3, r2
 5990 0126 1ED9     		bls	.L349
2923:Generated_Source\PSoC4/SDCard_FS.c ****             {
2924:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_CurOffset[SDCard_MAXFILES] = 0;     // Reset count
 5991              		.loc 1 2924 0
 5992 0128 954B     		ldr	r3, .L370+12
 5993 012a 0022     		movs	r2, #0
 5994 012c 9A60     		str	r2, [r3, #8]
2925:Generated_Source\PSoC4/SDCard_FS.c ****                // Increment sector
2926:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_CurSect[SDCard_MAXFILES]++;         // Increment sector count
 5995              		.loc 1 2926 0
 5996 012e 934B     		ldr	r3, .L370+8
 5997 0130 9B78     		ldrb	r3, [r3, #2]
 5998 0132 0133     		adds	r3, r3, #1
 5999 0134 DAB2     		uxtb	r2, r3
 6000 0136 914B     		ldr	r3, .L370+8
 6001 0138 9A70     		strb	r2, [r3, #2]
2927:Generated_Source\PSoC4/SDCard_FS.c ****                if(SDCard_CurSect[SDCard_MAXFILES] >= SDCard_ClusterSize)
 6002              		.loc 1 2927 0
 6003 013a 904B     		ldr	r3, .L370+8
 6004 013c 9A78     		ldrb	r2, [r3, #2]
 6005 013e 964B     		ldr	r3, .L370+36
 6006 0140 1B78     		ldrb	r3, [r3]
 6007 0142 9A42     		cmp	r2, r3
 6008 0144 0FD3     		bcc	.L349
2928:Generated_Source\PSoC4/SDCard_FS.c ****                {
2929:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_CurSect[SDCard_MAXFILES] = 0;    // Reset count
 6009              		.loc 1 2929 0
 6010 0146 8D4B     		ldr	r3, .L370+8
 6011 0148 0022     		movs	r2, #0
 6012 014a 9A70     		strb	r2, [r3, #2]
2930:Generated_Source\PSoC4/SDCard_FS.c ****                   // Increment FAT entry
2931:Generated_Source\PSoC4/SDCard_FS.c ****                   SDCard_NextFat(SDCard_MAXFILES);        // Get next FAT entry
 6013              		.loc 1 2931 0
 6014 014c 0220     		movs	r0, #2
 6015 014e FFF7FEFF 		bl	SDCard_NextFat
2932:Generated_Source\PSoC4/SDCard_FS.c ****                   if(SDCard_CurFat[SDCard_MAXFILES] == SDCard_FatEnd)   // Was this the last FAT en
 6016              		.loc 1 2932 0
 6017 0152 894B     		ldr	r3, .L370+4
 6018 0154 9A68     		ldr	r2, [r3, #8]
 6019 0156 914B     		ldr	r3, .L370+40
 6020 0158 1B68     		ldr	r3, [r3]
 6021 015a 9A42     		cmp	r2, r3
 6022 015c 03D1     		bne	.L349
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 159


2933:Generated_Source\PSoC4/SDCard_FS.c ****                      end=1;                 // Yes, end of directory chain
 6023              		.loc 1 2933 0
 6024 015e 1623     		movs	r3, #22
 6025 0160 FB18     		adds	r3, r7, r3
 6026 0162 0122     		movs	r2, #1
 6027 0164 1A70     		strb	r2, [r3]
 6028              	.L349:
2934:Generated_Source\PSoC4/SDCard_FS.c ****                }
2935:Generated_Source\PSoC4/SDCard_FS.c ****             }            
2936:Generated_Source\PSoC4/SDCard_FS.c ****          }
2937:Generated_Source\PSoC4/SDCard_FS.c ****             
2938:Generated_Source\PSoC4/SDCard_FS.c ****          // Check for valid filename - first character must be upper ASCII and attributes set to fi
2939:Generated_Source\PSoC4/SDCard_FS.c ****          if((SDCard_Buffer1[0]>='A')&&(SDCard_Buffer1[0]<='Z')&&((SDCard_Buffer1[0x0B] & 0x18) == 0
 6029              		.loc 1 2939 0
 6030 0166 894B     		ldr	r3, .L370+24
 6031 0168 1B68     		ldr	r3, [r3]
 6032 016a 1B78     		ldrb	r3, [r3]
 6033 016c 402B     		cmp	r3, #64
 6034 016e 46D9     		bls	.L350
 6035              		.loc 1 2939 0 is_stmt 0 discriminator 1
 6036 0170 864B     		ldr	r3, .L370+24
 6037 0172 1B68     		ldr	r3, [r3]
 6038 0174 1B78     		ldrb	r3, [r3]
 6039 0176 5A2B     		cmp	r3, #90
 6040 0178 41D8     		bhi	.L350
 6041              		.loc 1 2939 0 discriminator 2
 6042 017a 844B     		ldr	r3, .L370+24
 6043 017c 1B68     		ldr	r3, [r3]
 6044 017e 0B33     		adds	r3, r3, #11
 6045 0180 1B78     		ldrb	r3, [r3]
 6046 0182 1A00     		movs	r2, r3
 6047 0184 1823     		movs	r3, #24
 6048 0186 1340     		ands	r3, r2
 6049 0188 39D1     		bne	.L350
2940:Generated_Source\PSoC4/SDCard_FS.c ****          {
2941:Generated_Source\PSoC4/SDCard_FS.c ****             files++;              // Valid filename - increment valid files
 6050              		.loc 1 2941 0 is_stmt 1
 6051 018a FB68     		ldr	r3, [r7, #12]
 6052 018c 0133     		adds	r3, r3, #1
 6053 018e FB60     		str	r3, [r7, #12]
2942:Generated_Source\PSoC4/SDCard_FS.c **** 
2943:Generated_Source\PSoC4/SDCard_FS.c ****             if(FileNum == 0)      // Match by filename or filenumber?
 6054              		.loc 1 2943 0
 6055 0190 3B68     		ldr	r3, [r7]
 6056 0192 002B     		cmp	r3, #0
 6057 0194 2AD1     		bne	.L351
2944:Generated_Source\PSoC4/SDCard_FS.c ****             {
2945:Generated_Source\PSoC4/SDCard_FS.c ****                // Compare the filenames in the first 11 bytes of Buffer1 and Buffer2
2946:Generated_Source\PSoC4/SDCard_FS.c ****                x = 0;             // Init compare count
 6058              		.loc 1 2946 0
 6059 0196 1523     		movs	r3, #21
 6060 0198 FB18     		adds	r3, r7, r3
 6061 019a 0022     		movs	r2, #0
 6062 019c 1A70     		strb	r2, [r3]
2947:Generated_Source\PSoC4/SDCard_FS.c ****                while( (SDCard_Buffer1[x] == SDCard_Buffer2[x]) && (x < 11) )
 6063              		.loc 1 2947 0
 6064 019e 06E0     		b	.L352
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 160


 6065              	.L354:
2948:Generated_Source\PSoC4/SDCard_FS.c ****                   x++;            // get next byte to match
 6066              		.loc 1 2948 0
 6067 01a0 1523     		movs	r3, #21
 6068 01a2 FB18     		adds	r3, r7, r3
 6069 01a4 1A78     		ldrb	r2, [r3]
 6070 01a6 1523     		movs	r3, #21
 6071 01a8 FB18     		adds	r3, r7, r3
 6072 01aa 0132     		adds	r2, r2, #1
 6073 01ac 1A70     		strb	r2, [r3]
 6074              	.L352:
2947:Generated_Source\PSoC4/SDCard_FS.c ****                while( (SDCard_Buffer1[x] == SDCard_Buffer2[x]) && (x < 11) )
 6075              		.loc 1 2947 0
 6076 01ae 774B     		ldr	r3, .L370+24
 6077 01b0 1A68     		ldr	r2, [r3]
 6078 01b2 1523     		movs	r3, #21
 6079 01b4 FB18     		adds	r3, r7, r3
 6080 01b6 1B78     		ldrb	r3, [r3]
 6081 01b8 D318     		adds	r3, r2, r3
 6082 01ba 1A78     		ldrb	r2, [r3]
 6083 01bc 784B     		ldr	r3, .L370+44
 6084 01be 1968     		ldr	r1, [r3]
 6085 01c0 1523     		movs	r3, #21
 6086 01c2 FB18     		adds	r3, r7, r3
 6087 01c4 1B78     		ldrb	r3, [r3]
 6088 01c6 CB18     		adds	r3, r1, r3
 6089 01c8 1B78     		ldrb	r3, [r3]
 6090 01ca 9A42     		cmp	r2, r3
 6091 01cc 04D1     		bne	.L353
2947:Generated_Source\PSoC4/SDCard_FS.c ****                while( (SDCard_Buffer1[x] == SDCard_Buffer2[x]) && (x < 11) )
 6092              		.loc 1 2947 0 is_stmt 0 discriminator 1
 6093 01ce 1523     		movs	r3, #21
 6094 01d0 FB18     		adds	r3, r7, r3
 6095 01d2 1B78     		ldrb	r3, [r3]
 6096 01d4 0A2B     		cmp	r3, #10
 6097 01d6 E3D9     		bls	.L354
 6098              	.L353:
2949:Generated_Source\PSoC4/SDCard_FS.c ****                if(x>10)           // Check if filename matched
 6099              		.loc 1 2949 0 is_stmt 1
 6100 01d8 1523     		movs	r3, #21
 6101 01da FB18     		adds	r3, r7, r3
 6102 01dc 1B78     		ldrb	r3, [r3]
 6103 01de 0A2B     		cmp	r3, #10
 6104 01e0 23D9     		bls	.L369
2950:Generated_Source\PSoC4/SDCard_FS.c ****                   match = 1;      // Match found exit and save values
 6105              		.loc 1 2950 0
 6106 01e2 1723     		movs	r3, #23
 6107 01e4 FB18     		adds	r3, r7, r3
 6108 01e6 0122     		movs	r2, #1
 6109 01e8 1A70     		strb	r2, [r3]
2943:Generated_Source\PSoC4/SDCard_FS.c ****             {
 6110              		.loc 1 2943 0
 6111 01ea 1EE0     		b	.L369
 6112              	.L351:
2951:Generated_Source\PSoC4/SDCard_FS.c ****             }
2952:Generated_Source\PSoC4/SDCard_FS.c ****             else
2953:Generated_Source\PSoC4/SDCard_FS.c ****             {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 161


2954:Generated_Source\PSoC4/SDCard_FS.c ****                if(files == FileNum)  // Does the file number match?
 6113              		.loc 1 2954 0
 6114 01ec FA68     		ldr	r2, [r7, #12]
 6115 01ee 3B68     		ldr	r3, [r7]
 6116 01f0 9A42     		cmp	r2, r3
 6117 01f2 1AD1     		bne	.L369
2955:Generated_Source\PSoC4/SDCard_FS.c ****                   match = 1;         // Match found exit and save values
 6118              		.loc 1 2955 0
 6119 01f4 1723     		movs	r3, #23
 6120 01f6 FB18     		adds	r3, r7, r3
 6121 01f8 0122     		movs	r2, #1
 6122 01fa 1A70     		strb	r2, [r3]
2943:Generated_Source\PSoC4/SDCard_FS.c ****             {
 6123              		.loc 1 2943 0
 6124 01fc 15E0     		b	.L369
 6125              	.L350:
2956:Generated_Source\PSoC4/SDCard_FS.c ****             }
2957:Generated_Source\PSoC4/SDCard_FS.c ****             
2958:Generated_Source\PSoC4/SDCard_FS.c ****          }
2959:Generated_Source\PSoC4/SDCard_FS.c ****          else if(FileNum == SDCard_UNUSED)  // Check for unused entries?
 6126              		.loc 1 2959 0
 6127 01fe 3B68     		ldr	r3, [r7]
 6128 0200 634A     		ldr	r2, .L370+28
 6129 0202 9342     		cmp	r3, r2
 6130 0204 1DD1     		bne	.L338
2960:Generated_Source\PSoC4/SDCard_FS.c ****          {
2961:Generated_Source\PSoC4/SDCard_FS.c ****             if((SDCard_Buffer1[0] == 0xE5)||(SDCard_Buffer1[0] == 0x00))
 6131              		.loc 1 2961 0
 6132 0206 614B     		ldr	r3, .L370+24
 6133 0208 1B68     		ldr	r3, [r3]
 6134 020a 1B78     		ldrb	r3, [r3]
 6135 020c E52B     		cmp	r3, #229
 6136 020e 04D0     		beq	.L358
 6137              		.loc 1 2961 0 is_stmt 0 discriminator 1
 6138 0210 5E4B     		ldr	r3, .L370+24
 6139 0212 1B68     		ldr	r3, [r3]
 6140 0214 1B78     		ldrb	r3, [r3]
 6141 0216 002B     		cmp	r3, #0
 6142 0218 13D1     		bne	.L338
 6143              	.L358:
2962:Generated_Source\PSoC4/SDCard_FS.c ****             {
2963:Generated_Source\PSoC4/SDCard_FS.c ****                // Found unused directory entry to use/reuse
2964:Generated_Source\PSoC4/SDCard_FS.c ****                files++;              // Valid filename - increment valid files
 6144              		.loc 1 2964 0 is_stmt 1
 6145 021a FB68     		ldr	r3, [r7, #12]
 6146 021c 0133     		adds	r3, r3, #1
 6147 021e FB60     		str	r3, [r7, #12]
2965:Generated_Source\PSoC4/SDCard_FS.c ****                match = 1;            // Match found exit and save values
 6148              		.loc 1 2965 0
 6149 0220 1723     		movs	r3, #23
 6150 0222 FB18     		adds	r3, r7, r3
 6151 0224 0122     		movs	r2, #1
 6152 0226 1A70     		strb	r2, [r3]
 6153 0228 0BE0     		b	.L338
 6154              	.L369:
2943:Generated_Source\PSoC4/SDCard_FS.c ****             {
 6155              		.loc 1 2943 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 162


 6156 022a C046     		nop
 6157 022c 09E0     		b	.L338
 6158              	.L345:
2966:Generated_Source\PSoC4/SDCard_FS.c ****             }
2967:Generated_Source\PSoC4/SDCard_FS.c ****          }
2968:Generated_Source\PSoC4/SDCard_FS.c ****       }
2969:Generated_Source\PSoC4/SDCard_FS.c ****       else
2970:Generated_Source\PSoC4/SDCard_FS.c ****          end=1;   // Read error - Set end of directory flag
 6159              		.loc 1 2970 0
 6160 022e 1623     		movs	r3, #22
 6161 0230 FB18     		adds	r3, r7, r3
 6162 0232 0122     		movs	r2, #1
 6163 0234 1A70     		strb	r2, [r3]
 6164 0236 1723     		movs	r3, #23
 6165 0238 FB18     		adds	r3, r7, r3
 6166 023a 1722     		movs	r2, #23
 6167 023c BA18     		adds	r2, r7, r2
 6168 023e 1278     		ldrb	r2, [r2]
 6169 0240 1A70     		strb	r2, [r3]
 6170              	.L338:
2871:Generated_Source\PSoC4/SDCard_FS.c ****    {
 6171              		.loc 1 2871 0
 6172 0242 1723     		movs	r3, #23
 6173 0244 FB18     		adds	r3, r7, r3
 6174 0246 1B78     		ldrb	r3, [r3]
 6175 0248 002B     		cmp	r3, #0
 6176 024a 05D1     		bne	.L359
2871:Generated_Source\PSoC4/SDCard_FS.c ****    {
 6177              		.loc 1 2871 0 is_stmt 0 discriminator 1
 6178 024c 1623     		movs	r3, #22
 6179 024e FB18     		adds	r3, r7, r3
 6180 0250 1B78     		ldrb	r3, [r3]
 6181 0252 002B     		cmp	r3, #0
 6182 0254 00D1     		bne	.LCB5368
 6183 0256 FAE6     		b	.L360	@long jump
 6184              	.LCB5368:
 6185              	.L359:
2971:Generated_Source\PSoC4/SDCard_FS.c ****    }
2972:Generated_Source\PSoC4/SDCard_FS.c ****       
2973:Generated_Source\PSoC4/SDCard_FS.c ****    // Search complete - either file was found or it was not
2974:Generated_Source\PSoC4/SDCard_FS.c ****    
2975:Generated_Source\PSoC4/SDCard_FS.c ****    if(Fptr<SDCard_MAXFILES)                 // If true - set file information
 6186              		.loc 1 2975 0 is_stmt 1
 6187 0258 FB1D     		adds	r3, r7, #7
 6188 025a 1B78     		ldrb	r3, [r3]
 6189 025c 012B     		cmp	r3, #1
 6190 025e 00D9     		bls	.LCB5373
 6191 0260 E5E0     		b	.L361	@long jump
 6192              	.LCB5373:
2976:Generated_Source\PSoC4/SDCard_FS.c ****    {
2977:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FileError[Fptr] |= status;     // Set file error flags depending on status
 6193              		.loc 1 2977 0
 6194 0262 FB1D     		adds	r3, r7, #7
 6195 0264 1B78     		ldrb	r3, [r3]
 6196 0266 FA1D     		adds	r2, r7, #7
 6197 0268 1278     		ldrb	r2, [r2]
 6198 026a 4E49     		ldr	r1, .L370+48
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 163


 6199 026c 895C     		ldrb	r1, [r1, r2]
 6200 026e 0B22     		movs	r2, #11
 6201 0270 BA18     		adds	r2, r7, r2
 6202 0272 1278     		ldrb	r2, [r2]
 6203 0274 0A43     		orrs	r2, r1
 6204 0276 D1B2     		uxtb	r1, r2
 6205 0278 4A4A     		ldr	r2, .L370+48
 6206 027a D154     		strb	r1, [r2, r3]
2978:Generated_Source\PSoC4/SDCard_FS.c **** 
2979:Generated_Source\PSoC4/SDCard_FS.c ****       if(match==1)                                 
 6207              		.loc 1 2979 0
 6208 027c 1723     		movs	r3, #23
 6209 027e FB18     		adds	r3, r7, r3
 6210 0280 1B78     		ldrb	r3, [r3]
 6211 0282 012B     		cmp	r3, #1
 6212 0284 00D0     		beq	.LCB5391
 6213 0286 C6E0     		b	.L362	@long jump
 6214              	.LCB5391:
2980:Generated_Source\PSoC4/SDCard_FS.c ****       {            
2981:Generated_Source\PSoC4/SDCard_FS.c ****          // Match found - Buffer1 contains valid data
2982:Generated_Source\PSoC4/SDCard_FS.c ****    
2983:Generated_Source\PSoC4/SDCard_FS.c ****          // Get starting FAT location and convert it
2984:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
2985:Generated_Source\PSoC4/SDCard_FS.c ****          if((SDCard_CardType & SDCard_XFAT) == 0xB0)   // FAT32 Values
 6215              		.loc 1 2985 0
 6216 0288 474B     		ldr	r3, .L370+52
 6217 028a 1B78     		ldrb	r3, [r3]
 6218 028c 1A00     		movs	r2, r3
 6219 028e F023     		movs	r3, #240
 6220 0290 1340     		ands	r3, r2
 6221 0292 B02B     		cmp	r3, #176
 6222 0294 2ED1     		bne	.L363
2986:Generated_Source\PSoC4/SDCard_FS.c ****          {
2987:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurFat[Fptr]  = SDCard_Buffer1[0x15];   // Get upper FAT32 bytes and convert the
 6223              		.loc 1 2987 0
 6224 0296 FB1D     		adds	r3, r7, #7
 6225 0298 1A78     		ldrb	r2, [r3]
 6226 029a 3C4B     		ldr	r3, .L370+24
 6227 029c 1B68     		ldr	r3, [r3]
 6228 029e 1533     		adds	r3, r3, #21
 6229 02a0 1B78     		ldrb	r3, [r3]
 6230 02a2 1900     		movs	r1, r3
 6231 02a4 344B     		ldr	r3, .L370+4
 6232 02a6 9200     		lsls	r2, r2, #2
 6233 02a8 D150     		str	r1, [r2, r3]
2988:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurFat[Fptr] <<=8;               // Shift to upper byte
 6234              		.loc 1 2988 0
 6235 02aa FB1D     		adds	r3, r7, #7
 6236 02ac 1A78     		ldrb	r2, [r3]
 6237 02ae FB1D     		adds	r3, r7, #7
 6238 02b0 1978     		ldrb	r1, [r3]
 6239 02b2 314B     		ldr	r3, .L370+4
 6240 02b4 8900     		lsls	r1, r1, #2
 6241 02b6 CB58     		ldr	r3, [r1, r3]
 6242 02b8 1902     		lsls	r1, r3, #8
 6243 02ba 2F4B     		ldr	r3, .L370+4
 6244 02bc 9200     		lsls	r2, r2, #2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 164


 6245 02be D150     		str	r1, [r2, r3]
2989:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurFat[Fptr] += SDCard_Buffer1[0x14];   // Add next byte
 6246              		.loc 1 2989 0
 6247 02c0 FB1D     		adds	r3, r7, #7
 6248 02c2 1A78     		ldrb	r2, [r3]
 6249 02c4 FB1D     		adds	r3, r7, #7
 6250 02c6 1978     		ldrb	r1, [r3]
 6251 02c8 2B4B     		ldr	r3, .L370+4
 6252 02ca 8900     		lsls	r1, r1, #2
 6253 02cc C958     		ldr	r1, [r1, r3]
 6254 02ce 2F4B     		ldr	r3, .L370+24
 6255 02d0 1B68     		ldr	r3, [r3]
 6256 02d2 1433     		adds	r3, r3, #20
 6257 02d4 1B78     		ldrb	r3, [r3]
 6258 02d6 C918     		adds	r1, r1, r3
 6259 02d8 274B     		ldr	r3, .L370+4
 6260 02da 9200     		lsls	r2, r2, #2
 6261 02dc D150     		str	r1, [r2, r3]
2990:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurFat[Fptr] <<=8;               // Shift to upper byte
 6262              		.loc 1 2990 0
 6263 02de FB1D     		adds	r3, r7, #7
 6264 02e0 1A78     		ldrb	r2, [r3]
 6265 02e2 FB1D     		adds	r3, r7, #7
 6266 02e4 1978     		ldrb	r1, [r3]
 6267 02e6 244B     		ldr	r3, .L370+4
 6268 02e8 8900     		lsls	r1, r1, #2
 6269 02ea CB58     		ldr	r3, [r1, r3]
 6270 02ec 1902     		lsls	r1, r3, #8
 6271 02ee 224B     		ldr	r3, .L370+4
 6272 02f0 9200     		lsls	r2, r2, #2
 6273 02f2 D150     		str	r1, [r2, r3]
 6274              	.L363:
2991:Generated_Source\PSoC4/SDCard_FS.c ****          }
2992:Generated_Source\PSoC4/SDCard_FS.c **** #endif   
2993:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurFat[Fptr] += SDCard_Buffer1[0x1B];      // Add next byte to starting FAT
 6275              		.loc 1 2993 0
 6276 02f4 FB1D     		adds	r3, r7, #7
 6277 02f6 1A78     		ldrb	r2, [r3]
 6278 02f8 FB1D     		adds	r3, r7, #7
 6279 02fa 1978     		ldrb	r1, [r3]
 6280 02fc 1E4B     		ldr	r3, .L370+4
 6281 02fe 8900     		lsls	r1, r1, #2
 6282 0300 C958     		ldr	r1, [r1, r3]
 6283 0302 224B     		ldr	r3, .L370+24
 6284 0304 1B68     		ldr	r3, [r3]
 6285 0306 1B33     		adds	r3, r3, #27
 6286 0308 1B78     		ldrb	r3, [r3]
 6287 030a C918     		adds	r1, r1, r3
 6288 030c 1A4B     		ldr	r3, .L370+4
 6289 030e 9200     		lsls	r2, r2, #2
 6290 0310 D150     		str	r1, [r2, r3]
2994:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurFat[Fptr] <<=8;                  // Shift to upper byte
 6291              		.loc 1 2994 0
 6292 0312 FB1D     		adds	r3, r7, #7
 6293 0314 1A78     		ldrb	r2, [r3]
 6294 0316 FB1D     		adds	r3, r7, #7
 6295 0318 1978     		ldrb	r1, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 165


 6296 031a 174B     		ldr	r3, .L370+4
 6297 031c 8900     		lsls	r1, r1, #2
 6298 031e CB58     		ldr	r3, [r1, r3]
 6299 0320 1902     		lsls	r1, r3, #8
 6300 0322 154B     		ldr	r3, .L370+4
 6301 0324 9200     		lsls	r2, r2, #2
 6302 0326 D150     		str	r1, [r2, r3]
2995:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurFat[Fptr] += SDCard_Buffer1[0x1A];      // Add last byte
 6303              		.loc 1 2995 0
 6304 0328 FB1D     		adds	r3, r7, #7
 6305 032a 1A78     		ldrb	r2, [r3]
 6306 032c FB1D     		adds	r3, r7, #7
 6307 032e 1978     		ldrb	r1, [r3]
 6308 0330 114B     		ldr	r3, .L370+4
 6309 0332 8900     		lsls	r1, r1, #2
 6310 0334 C958     		ldr	r1, [r1, r3]
 6311 0336 154B     		ldr	r3, .L370+24
 6312 0338 1B68     		ldr	r3, [r3]
 6313 033a 1A33     		adds	r3, r3, #26
 6314 033c 1B78     		ldrb	r3, [r3]
 6315 033e C918     		adds	r1, r1, r3
 6316 0340 0D4B     		ldr	r3, .L370+4
 6317 0342 9200     		lsls	r2, r2, #2
 6318 0344 D150     		str	r1, [r2, r3]
2996:Generated_Source\PSoC4/SDCard_FS.c ****       
2997:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurDir[Fptr] = SDCard_Address;             // Copy the current directory entry addr
 6319              		.loc 1 2997 0
 6320 0346 FB1D     		adds	r3, r7, #7
 6321 0348 1A78     		ldrb	r2, [r3]
 6322 034a 0F4B     		ldr	r3, .L370+20
 6323 034c 1968     		ldr	r1, [r3]
 6324 034e 174B     		ldr	r3, .L370+56
 6325 0350 9200     		lsls	r2, r2, #2
 6326 0352 D150     		str	r1, [r2, r3]
2998:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurStart[Fptr] = SDCard_CurFat[Fptr];      // Copy FAT info into current FAT start
 6327              		.loc 1 2998 0
 6328 0354 FB1D     		adds	r3, r7, #7
 6329 0356 1A78     		ldrb	r2, [r3]
 6330 0358 FB1D     		adds	r3, r7, #7
 6331 035a 1978     		ldrb	r1, [r3]
 6332 035c 064B     		ldr	r3, .L370+4
 6333 035e 8900     		lsls	r1, r1, #2
 6334 0360 C958     		ldr	r1, [r1, r3]
 6335 0362 044B     		ldr	r3, .L370
 6336 0364 9200     		lsls	r2, r2, #2
 6337 0366 D150     		str	r1, [r2, r3]
2999:Generated_Source\PSoC4/SDCard_FS.c **** 
3000:Generated_Source\PSoC4/SDCard_FS.c ****          for(x=0; x<4; x++)
 6338              		.loc 1 3000 0
 6339 0368 1523     		movs	r3, #21
 6340 036a FB18     		adds	r3, r7, r3
 6341 036c 0022     		movs	r2, #0
 6342 036e 1A70     		strb	r2, [r3]
 6343 0370 44E0     		b	.L364
 6344              	.L371:
 6345 0372 C046     		.align	2
 6346              	.L370:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 166


 6347 0374 00000000 		.word	SDCard_CurStart
 6348 0378 00000000 		.word	SDCard_CurFat
 6349 037c 00000000 		.word	SDCard_CurSect
 6350 0380 00000000 		.word	SDCard_CurOffset
 6351 0384 00000000 		.word	SDCard_DirStart
 6352 0388 00000000 		.word	SDCard_Address
 6353 038c 00000000 		.word	SDCard_Buffer1
 6354 0390 FFFF0000 		.word	65535
 6355 0394 FF010000 		.word	511
 6356 0398 00000000 		.word	SDCard_ClusterSize
 6357 039c 00000000 		.word	SDCard_FatEnd
 6358 03a0 00000000 		.word	SDCard_Buffer2
 6359 03a4 00000000 		.word	SDCard_FileError
 6360 03a8 00000000 		.word	SDCard_CardType
 6361 03ac 00000000 		.word	SDCard_CurDir
 6362              	.L365:
3001:Generated_Source\PSoC4/SDCard_FS.c ****          {
3002:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSize[Fptr] <<=8;              // Shift in upper byte
 6363              		.loc 1 3002 0 discriminator 3
 6364 03b0 FB1D     		adds	r3, r7, #7
 6365 03b2 1A78     		ldrb	r2, [r3]
 6366 03b4 FB1D     		adds	r3, r7, #7
 6367 03b6 1978     		ldrb	r1, [r3]
 6368 03b8 264B     		ldr	r3, .L372
 6369 03ba 8900     		lsls	r1, r1, #2
 6370 03bc CB58     		ldr	r3, [r1, r3]
 6371 03be 1902     		lsls	r1, r3, #8
 6372 03c0 244B     		ldr	r3, .L372
 6373 03c2 9200     		lsls	r2, r2, #2
 6374 03c4 D150     		str	r1, [r2, r3]
3003:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSize[Fptr] += SDCard_Buffer1[0x1C+(3-x)];   // Add next byte
 6375              		.loc 1 3003 0 discriminator 3
 6376 03c6 FB1D     		adds	r3, r7, #7
 6377 03c8 1A78     		ldrb	r2, [r3]
 6378 03ca FB1D     		adds	r3, r7, #7
 6379 03cc 1978     		ldrb	r1, [r3]
 6380 03ce 214B     		ldr	r3, .L372
 6381 03d0 8900     		lsls	r1, r1, #2
 6382 03d2 C958     		ldr	r1, [r1, r3]
 6383 03d4 204B     		ldr	r3, .L372+4
 6384 03d6 1B68     		ldr	r3, [r3]
 6385 03d8 1520     		movs	r0, #21
 6386 03da 3818     		adds	r0, r7, r0
 6387 03dc 0078     		ldrb	r0, [r0]
 6388 03de 1F24     		movs	r4, #31
 6389 03e0 201A     		subs	r0, r4, r0
 6390 03e2 1B18     		adds	r3, r3, r0
 6391 03e4 1B78     		ldrb	r3, [r3]
 6392 03e6 C918     		adds	r1, r1, r3
 6393 03e8 1A4B     		ldr	r3, .L372
 6394 03ea 9200     		lsls	r2, r2, #2
 6395 03ec D150     		str	r1, [r2, r3]
3000:Generated_Source\PSoC4/SDCard_FS.c ****          {
 6396              		.loc 1 3000 0 discriminator 3
 6397 03ee 1523     		movs	r3, #21
 6398 03f0 FB18     		adds	r3, r7, r3
 6399 03f2 1A78     		ldrb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 167


 6400 03f4 1523     		movs	r3, #21
 6401 03f6 FB18     		adds	r3, r7, r3
 6402 03f8 0132     		adds	r2, r2, #1
 6403 03fa 1A70     		strb	r2, [r3]
 6404              	.L364:
3000:Generated_Source\PSoC4/SDCard_FS.c ****          {
 6405              		.loc 1 3000 0 is_stmt 0 discriminator 1
 6406 03fc 1523     		movs	r3, #21
 6407 03fe FB18     		adds	r3, r7, r3
 6408 0400 1B78     		ldrb	r3, [r3]
 6409 0402 032B     		cmp	r3, #3
 6410 0404 D4D9     		bls	.L365
3004:Generated_Source\PSoC4/SDCard_FS.c ****          }
3005:Generated_Source\PSoC4/SDCard_FS.c **** 
3006:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_CurAttr[Fptr]= SDCard_Buffer1[0x0B];       // Copy file attribute byte
 6411              		.loc 1 3006 0 is_stmt 1
 6412 0406 FB1D     		adds	r3, r7, #7
 6413 0408 1A78     		ldrb	r2, [r3]
 6414 040a 134B     		ldr	r3, .L372+4
 6415 040c 1B68     		ldr	r3, [r3]
 6416 040e D97A     		ldrb	r1, [r3, #11]
 6417 0410 124B     		ldr	r3, .L372+8
 6418 0412 9954     		strb	r1, [r3, r2]
 6419 0414 14E0     		b	.L367
 6420              	.L362:
3007:Generated_Source\PSoC4/SDCard_FS.c ****                   
3008:Generated_Source\PSoC4/SDCard_FS.c ****       }
3009:Generated_Source\PSoC4/SDCard_FS.c ****       else
3010:Generated_Source\PSoC4/SDCard_FS.c ****       {
3011:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_FileError[Fptr] |= SDCard_FNF;          // File Not Found - return error
 6421              		.loc 1 3011 0
 6422 0416 FB1D     		adds	r3, r7, #7
 6423 0418 1B78     		ldrb	r3, [r3]
 6424 041a FA1D     		adds	r2, r7, #7
 6425 041c 1278     		ldrb	r2, [r2]
 6426 041e 1049     		ldr	r1, .L372+12
 6427 0420 8A5C     		ldrb	r2, [r1, r2]
 6428 0422 0221     		movs	r1, #2
 6429 0424 0A43     		orrs	r2, r1
 6430 0426 D1B2     		uxtb	r1, r2
 6431 0428 0D4A     		ldr	r2, .L372+12
 6432 042a D154     		strb	r1, [r2, r3]
 6433 042c 08E0     		b	.L367
 6434              	.L361:
3012:Generated_Source\PSoC4/SDCard_FS.c ****       }
3013:Generated_Source\PSoC4/SDCard_FS.c ****    }
3014:Generated_Source\PSoC4/SDCard_FS.c ****    else if(match==0)
 6435              		.loc 1 3014 0
 6436 042e 1723     		movs	r3, #23
 6437 0430 FB18     		adds	r3, r7, r3
 6438 0432 1B78     		ldrb	r3, [r3]
 6439 0434 002B     		cmp	r3, #0
 6440 0436 03D1     		bne	.L367
3015:Generated_Source\PSoC4/SDCard_FS.c ****    {
3016:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Buffer1[0]=0;                     // Force Buffer1 directory error just to be sure tha
 6441              		.loc 1 3016 0
 6442 0438 074B     		ldr	r3, .L372+4
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 168


 6443 043a 1B68     		ldr	r3, [r3]
 6444 043c 0022     		movs	r2, #0
 6445 043e 1A70     		strb	r2, [r3]
 6446              	.L367:
3017:Generated_Source\PSoC4/SDCard_FS.c ****    }
3018:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_BuffLoc = 0;         // Force update of buffer on next read/write (address zero is parame
 6447              		.loc 1 3018 0
 6448 0440 084B     		ldr	r3, .L372+16
 6449 0442 0022     		movs	r2, #0
 6450 0444 1A60     		str	r2, [r3]
3019:Generated_Source\PSoC4/SDCard_FS.c ****    return(files);       // Returns number of valid files found at time of match,
 6451              		.loc 1 3019 0
 6452 0446 FB68     		ldr	r3, [r7, #12]
 6453 0448 DBB2     		uxtb	r3, r3
3020:Generated_Source\PSoC4/SDCard_FS.c ****                         // or total number of valid files if no match was found.
3021:Generated_Source\PSoC4/SDCard_FS.c **** }
 6454              		.loc 1 3021 0
 6455 044a 1800     		movs	r0, r3
 6456 044c BD46     		mov	sp, r7
 6457 044e 07B0     		add	sp, sp, #28
 6458              		@ sp needed
 6459 0450 90BD     		pop	{r4, r7, pc}
 6460              	.L373:
 6461 0452 C046     		.align	2
 6462              	.L372:
 6463 0454 00000000 		.word	SDCard_CurSize
 6464 0458 00000000 		.word	SDCard_Buffer1
 6465 045c 00000000 		.word	SDCard_CurAttr
 6466 0460 00000000 		.word	SDCard_FileError
 6467 0464 00000000 		.word	SDCard_BuffLoc
 6468              		.cfi_endproc
 6469              	.LFE80:
 6470              		.size	SDCard_FindFile, .-SDCard_FindFile
 6471              		.section	.text.SDCard_WriteFileSect,"ax",%progbits
 6472              		.align	2
 6473              		.global	SDCard_WriteFileSect
 6474              		.code	16
 6475              		.thumb_func
 6476              		.type	SDCard_WriteFileSect, %function
 6477              	SDCard_WriteFileSect:
 6478              	.LFB81:
3022:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3023:Generated_Source\PSoC4/SDCard_FS.c **** 
3024:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3025:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_WriteFileSect(uchar Fptr)
3026:Generated_Source\PSoC4/SDCard_FS.c **** //
3027:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3028:Generated_Source\PSoC4/SDCard_FS.c **** //   Routine that will write one sector to a file. Offset must be set to the beginning
3029:Generated_Source\PSoC4/SDCard_FS.c **** //
3030:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3031:Generated_Source\PSoC4/SDCard_FS.c **** //
3032:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3033:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3034:Generated_Source\PSoC4/SDCard_FS.c **** //
3035:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3036:Generated_Source\PSoC4/SDCard_FS.c **** //     Pass/Fail status
3037:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 169


3038:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3039:Generated_Source\PSoC4/SDCard_FS.c **** //    Routine that will write one sector to a file. Offset must be set to the beginning
3040:Generated_Source\PSoC4/SDCard_FS.c **** //    of a valid sector boundry before the call is made. (Multiple of 512, or zero)
3041:Generated_Source\PSoC4/SDCard_FS.c **** //    It DOES NOT check to see if the file is at least one sector long - non-zero.
3042:Generated_Source\PSoC4/SDCard_FS.c **** //    Must have an valid Fptr previously loaded by the SDCard_fopen(Filename) subroutine.
3043:Generated_Source\PSoC4/SDCard_FS.c **** //
3044:Generated_Source\PSoC4/SDCard_FS.c **** //              ***   Global variables required   ***     
3045:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize       - the size of a cluster on the current disk
3046:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Index]     - contains the starting fat entry for the file
3047:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Index]    - contains the size of the file
3048:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Index]  - contains the current byte position in the file
3049:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Index]    - contains the current sector in use of a cluster
3050:Generated_Source\PSoC4/SDCard_FS.c **** //    Index             - is the passed variable of which file handle to use
3051:Generated_Source\PSoC4/SDCard_FS.c **** //
3052:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3053:Generated_Source\PSoC4/SDCard_FS.c **** //
3054:Generated_Source\PSoC4/SDCard_FS.c **** //
3055:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3056:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3057:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3058:Generated_Source\PSoC4/SDCard_FS.c **** 
3059:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_WriteFileSect(uchar Fptr)
3060:Generated_Source\PSoC4/SDCard_FS.c **** {
 6479              		.loc 1 3060 0
 6480              		.cfi_startproc
 6481              		@ args = 0, pretend = 0, frame = 16
 6482              		@ frame_needed = 1, uses_anonymous_args = 0
 6483 0000 90B5     		push	{r4, r7, lr}
 6484              		.cfi_def_cfa_offset 12
 6485              		.cfi_offset 4, -12
 6486              		.cfi_offset 7, -8
 6487              		.cfi_offset 14, -4
 6488 0002 85B0     		sub	sp, sp, #20
 6489              		.cfi_def_cfa_offset 32
 6490 0004 00AF     		add	r7, sp, #0
 6491              		.cfi_def_cfa_register 7
 6492 0006 0200     		movs	r2, r0
 6493 0008 FB1D     		adds	r3, r7, #7
 6494 000a 1A70     		strb	r2, [r3]
3061:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;                 // command status
 6495              		.loc 1 3061 0
 6496 000c 0F23     		movs	r3, #15
 6497 000e FB18     		adds	r3, r7, r3
 6498 0010 0022     		movs	r2, #0
 6499 0012 1A70     		strb	r2, [r3]
3062:Generated_Source\PSoC4/SDCard_FS.c **** 
3063:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_CurFat[Fptr] != SDCard_FatEnd))
 6500              		.loc 1 3063 0
 6501 0014 FB1D     		adds	r3, r7, #7
 6502 0016 1A78     		ldrb	r2, [r3]
 6503 0018 104B     		ldr	r3, .L378
 6504 001a 9200     		lsls	r2, r2, #2
 6505 001c D258     		ldr	r2, [r2, r3]
 6506 001e 104B     		ldr	r3, .L378+4
 6507 0020 1B68     		ldr	r3, [r3]
 6508 0022 9A42     		cmp	r2, r3
 6509 0024 0FD0     		beq	.L375
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 170


3064:Generated_Source\PSoC4/SDCard_FS.c ****    {
3065:Generated_Source\PSoC4/SDCard_FS.c ****       // Write out one sector
3066:Generated_Source\PSoC4/SDCard_FS.c **** 
3067:Generated_Source\PSoC4/SDCard_FS.c ****       // Address equals ((FAT entry - 2) * cluster size + sector offset) * sector size + DataStart
3068:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_GetAddress(Fptr, 0);             // Calculate sector address
 6510              		.loc 1 3068 0
 6511 0026 FB1D     		adds	r3, r7, #7
 6512 0028 1B78     		ldrb	r3, [r3]
 6513 002a 0021     		movs	r1, #0
 6514 002c 1800     		movs	r0, r3
 6515 002e FFF7FEFF 		bl	SDCard_GetAddress
3069:Generated_Source\PSoC4/SDCard_FS.c **** 
3070:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_WriteSect(SDCard_Address);     // Write sector function
 6516              		.loc 1 3070 0
 6517 0032 0C4B     		ldr	r3, .L378+8
 6518 0034 1B68     		ldr	r3, [r3]
 6519 0036 0F22     		movs	r2, #15
 6520 0038 BC18     		adds	r4, r7, r2
 6521 003a 1800     		movs	r0, r3
 6522 003c FFF7FEFF 		bl	SDCard_WriteSect
 6523 0040 0300     		movs	r3, r0
 6524 0042 2370     		strb	r3, [r4]
 6525 0044 03E0     		b	.L376
 6526              	.L375:
3071:Generated_Source\PSoC4/SDCard_FS.c ****    }
3072:Generated_Source\PSoC4/SDCard_FS.c ****    else
3073:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                   // Error - Not a valid entry
 6527              		.loc 1 3073 0
 6528 0046 0F23     		movs	r3, #15
 6529 0048 FB18     		adds	r3, r7, r3
 6530 004a AA22     		movs	r2, #170
 6531 004c 1A70     		strb	r2, [r3]
 6532              	.L376:
3074:Generated_Source\PSoC4/SDCard_FS.c ****       
3075:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 6533              		.loc 1 3075 0
 6534 004e 0F23     		movs	r3, #15
 6535 0050 FB18     		adds	r3, r7, r3
 6536 0052 1B78     		ldrb	r3, [r3]
3076:Generated_Source\PSoC4/SDCard_FS.c **** }
 6537              		.loc 1 3076 0
 6538 0054 1800     		movs	r0, r3
 6539 0056 BD46     		mov	sp, r7
 6540 0058 05B0     		add	sp, sp, #20
 6541              		@ sp needed
 6542 005a 90BD     		pop	{r4, r7, pc}
 6543              	.L379:
 6544              		.align	2
 6545              	.L378:
 6546 005c 00000000 		.word	SDCard_CurFat
 6547 0060 00000000 		.word	SDCard_FatEnd
 6548 0064 00000000 		.word	SDCard_Address
 6549              		.cfi_endproc
 6550              	.LFE81:
 6551              		.size	SDCard_WriteFileSect, .-SDCard_WriteFileSect
 6552              		.section	.text.SDCard_WriteSect,"ax",%progbits
 6553              		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 171


 6554              		.global	SDCard_WriteSect
 6555              		.code	16
 6556              		.thumb_func
 6557              		.type	SDCard_WriteSect, %function
 6558              	SDCard_WriteSect:
 6559              	.LFB82:
3077:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3078:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3079:Generated_Source\PSoC4/SDCard_FS.c **** 
3080:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3081:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_WriteSect(ulong address)
3082:Generated_Source\PSoC4/SDCard_FS.c **** //
3083:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3084:Generated_Source\PSoC4/SDCard_FS.c **** //   Routine that will write one absolute sector. Address must be set to the beginning
3085:Generated_Source\PSoC4/SDCard_FS.c **** //   of a valid sector boundry before the call is made. (Multiple of 512, or zero)
3086:Generated_Source\PSoC4/SDCard_FS.c **** //
3087:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3088:Generated_Source\PSoC4/SDCard_FS.c **** //
3089:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3090:Generated_Source\PSoC4/SDCard_FS.c **** //    address => Address of sector to write
3091:Generated_Source\PSoC4/SDCard_FS.c **** //
3092:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3093:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status
3094:Generated_Source\PSoC4/SDCard_FS.c **** //
3095:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3096:Generated_Source\PSoC4/SDCard_FS.c **** //
3097:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3098:Generated_Source\PSoC4/SDCard_FS.c **** //
3099:Generated_Source\PSoC4/SDCard_FS.c **** //
3100:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3101:Generated_Source\PSoC4/SDCard_FS.c **** 
3102:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_WriteSect(ulong address)
3103:Generated_Source\PSoC4/SDCard_FS.c **** {
 6560              		.loc 1 3103 0
 6561              		.cfi_startproc
 6562              		@ args = 0, pretend = 0, frame = 16
 6563              		@ frame_needed = 1, uses_anonymous_args = 0
 6564 0000 90B5     		push	{r4, r7, lr}
 6565              		.cfi_def_cfa_offset 12
 6566              		.cfi_offset 4, -12
 6567              		.cfi_offset 7, -8
 6568              		.cfi_offset 14, -4
 6569 0002 85B0     		sub	sp, sp, #20
 6570              		.cfi_def_cfa_offset 32
 6571 0004 00AF     		add	r7, sp, #0
 6572              		.cfi_def_cfa_register 7
 6573 0006 7860     		str	r0, [r7, #4]
3104:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;            // command status
 6574              		.loc 1 3104 0
 6575 0008 0F23     		movs	r3, #15
 6576 000a FB18     		adds	r3, r7, r3
 6577 000c 0022     		movs	r2, #0
 6578 000e 1A70     		strb	r2, [r3]
3105:Generated_Source\PSoC4/SDCard_FS.c ****    uint   y;                      // Loop variables
3106:Generated_Source\PSoC4/SDCard_FS.c **** 
3107:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
3108:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_WriteProtect()==0)       // If write protect is on skip writes, flag error   
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 172


3109:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3110:Generated_Source\PSoC4/SDCard_FS.c ****    {
3111:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SetSize(512);               // Set block length to a 512 sector (512)
 6579              		.loc 1 3111 0
 6580 0010 8023     		movs	r3, #128
 6581 0012 9B00     		lsls	r3, r3, #2
 6582 0014 1800     		movs	r0, r3
 6583 0016 FFF7FEFF 		bl	SDCard_SetSize
3112:Generated_Source\PSoC4/SDCard_FS.c **** 
3113:Generated_Source\PSoC4/SDCard_FS.c ****       // Write out one sector
3114:Generated_Source\PSoC4/SDCard_FS.c **** 
3115:Generated_Source\PSoC4/SDCard_FS.c ****       // CMD24 - Write single block command
3116:Generated_Source\PSoC4/SDCard_FS.c ****       // Byte String = 0x58 (ulong Address) 0xFF
3117:Generated_Source\PSoC4/SDCard_FS.c ****       
3118:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Cmd(SDCard_CMD24, address);                         // Send CMD24 command string
 6584              		.loc 1 3118 0
 6585 001a 7B68     		ldr	r3, [r7, #4]
 6586 001c 1900     		movs	r1, r3
 6587 001e 5820     		movs	r0, #88
 6588 0020 FFF7FEFF 		bl	SDCard_Cmd
3119:Generated_Source\PSoC4/SDCard_FS.c **** 
3120:Generated_Source\PSoC4/SDCard_FS.c ****       // Get the data response token
3121:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SendTxData( 0xFF );
 6589              		.loc 1 3121 0
 6590 0024 FF20     		movs	r0, #255
 6591 0026 FFF7FEFF 		bl	SDCard_SendTxData
3122:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_XferWait();                                  // Wait for transfer to complete
 6592              		.loc 1 3122 0
 6593 002a FFF7FEFF 		bl	SDCard_XferWait
3123:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_bReadRxData();     // Read the data response byte but ignore it.
 6594              		.loc 1 3123 0
 6595 002e 0F23     		movs	r3, #15
 6596 0030 FC18     		adds	r4, r7, r3
 6597 0032 FFF7FEFF 		bl	SDCard_bReadRxData
 6598 0036 0300     		movs	r3, r0
 6599 0038 2370     		strb	r3, [r4]
3124:Generated_Source\PSoC4/SDCard_FS.c ****       
3125:Generated_Source\PSoC4/SDCard_FS.c ****       // Check response
3126:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0) != SDCard_FAIL)                    // Check for status good
 6600              		.loc 1 3126 0
 6601 003a 0020     		movs	r0, #0
 6602 003c FFF7FEFF 		bl	SDCard_CheckReply
 6603 0040 0300     		movs	r3, r0
 6604 0042 AA2B     		cmp	r3, #170
 6605 0044 00D1     		bne	.LCB5756
 6606 0046 77E0     		b	.L381	@long jump
 6607              	.LCB5756:
3127:Generated_Source\PSoC4/SDCard_FS.c ****       {
3128:Generated_Source\PSoC4/SDCard_FS.c ****          // Send an FE to the byte shift out
3129:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_SendTxData( 0xFE );
 6608              		.loc 1 3129 0
 6609 0048 FE20     		movs	r0, #254
 6610 004a FFF7FEFF 		bl	SDCard_SendTxData
3130:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_XferWait();                               // Wait for transfer to complete
 6611              		.loc 1 3130 0
 6612 004e FFF7FEFF 		bl	SDCard_XferWait
3131:Generated_Source\PSoC4/SDCard_FS.c **** 		 rbuff = SDCard_bReadRxData();
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 173


 6613              		.loc 1 3131 0
 6614 0052 FFF7FEFF 		bl	SDCard_bReadRxData
 6615 0056 0300     		movs	r3, r0
 6616 0058 1A00     		movs	r2, r3
 6617 005a 434B     		ldr	r3, .L391
 6618 005c 1A70     		strb	r2, [r3]
3132:Generated_Source\PSoC4/SDCard_FS.c **** 
3133:Generated_Source\PSoC4/SDCard_FS.c ****          // Write one sector at a time  
3134:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_WriteBuff256( SDCard_Buffer1 ); // Write first half of sector
 6619              		.loc 1 3134 0
 6620 005e 434B     		ldr	r3, .L391+4
 6621 0060 1B68     		ldr	r3, [r3]
 6622 0062 1800     		movs	r0, r3
 6623 0064 FFF7FEFF 		bl	SDCard_WriteBuff256
3135:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_WriteBuff256( SDCard_Buffer2 ); // Write second half of sector
 6624              		.loc 1 3135 0
 6625 0068 414B     		ldr	r3, .L391+8
 6626 006a 1B68     		ldr	r3, [r3]
 6627 006c 1800     		movs	r0, r3
 6628 006e FFF7FEFF 		bl	SDCard_WriteBuff256
3136:Generated_Source\PSoC4/SDCard_FS.c **** 
3137:Generated_Source\PSoC4/SDCard_FS.c ****          // Send byte two of checksum
3138:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_SendTxData( 0xFF );
 6629              		.loc 1 3138 0
 6630 0072 FF20     		movs	r0, #255
 6631 0074 FFF7FEFF 		bl	SDCard_SendTxData
3139:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_XferWait();                               // Wait for transfer to complete
 6632              		.loc 1 3139 0
 6633 0078 FFF7FEFF 		bl	SDCard_XferWait
3140:Generated_Source\PSoC4/SDCard_FS.c **** 		 rbuff = SDCard_bReadRxData();
 6634              		.loc 1 3140 0
 6635 007c FFF7FEFF 		bl	SDCard_bReadRxData
 6636 0080 0300     		movs	r3, r0
 6637 0082 1A00     		movs	r2, r3
 6638 0084 384B     		ldr	r3, .L391
 6639 0086 1A70     		strb	r2, [r3]
3141:Generated_Source\PSoC4/SDCard_FS.c **** 
3142:Generated_Source\PSoC4/SDCard_FS.c ****          // Send Byte one of checksum
3143:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_SendTxData( 0xFF );
 6640              		.loc 1 3143 0
 6641 0088 FF20     		movs	r0, #255
 6642 008a FFF7FEFF 		bl	SDCard_SendTxData
3144:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_XferWait();                               // Wait for transfer to complete
 6643              		.loc 1 3144 0
 6644 008e FFF7FEFF 		bl	SDCard_XferWait
3145:Generated_Source\PSoC4/SDCard_FS.c **** 		 rbuff = SDCard_bReadRxData();
 6645              		.loc 1 3145 0
 6646 0092 FFF7FEFF 		bl	SDCard_bReadRxData
 6647 0096 0300     		movs	r3, r0
 6648 0098 1A00     		movs	r2, r3
 6649 009a 334B     		ldr	r3, .L391
 6650 009c 1A70     		strb	r2, [r3]
3146:Generated_Source\PSoC4/SDCard_FS.c ****       
3147:Generated_Source\PSoC4/SDCard_FS.c ****          // Get the data response token
3148:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_SendTxData( 0xFF );
 6651              		.loc 1 3148 0
 6652 009e FF20     		movs	r0, #255
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 174


 6653 00a0 FFF7FEFF 		bl	SDCard_SendTxData
3149:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_XferWait();                               // Wait for transfer to complete
 6654              		.loc 1 3149 0
 6655 00a4 FFF7FEFF 		bl	SDCard_XferWait
3150:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_bReadRxData();  // Read the data response byte
 6656              		.loc 1 3150 0
 6657 00a8 0F23     		movs	r3, #15
 6658 00aa FC18     		adds	r4, r7, r3
 6659 00ac FFF7FEFF 		bl	SDCard_bReadRxData
 6660 00b0 0300     		movs	r3, r0
 6661 00b2 2370     		strb	r3, [r4]
3151:Generated_Source\PSoC4/SDCard_FS.c ****       
3152:Generated_Source\PSoC4/SDCard_FS.c ****          if((status&0x0F)==5)                      // Was the token valid?
 6662              		.loc 1 3152 0
 6663 00b4 0F23     		movs	r3, #15
 6664 00b6 FB18     		adds	r3, r7, r3
 6665 00b8 1B78     		ldrb	r3, [r3]
 6666 00ba 0F22     		movs	r2, #15
 6667 00bc 1340     		ands	r3, r2
 6668 00be 052B     		cmp	r3, #5
 6669 00c0 35D1     		bne	.L382
3153:Generated_Source\PSoC4/SDCard_FS.c ****          {
3154:Generated_Source\PSoC4/SDCard_FS.c **** 
3155:Generated_Source\PSoC4/SDCard_FS.c ****             // Get the data response token
3156:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_SendTxData( 0xFF );
 6670              		.loc 1 3156 0
 6671 00c2 FF20     		movs	r0, #255
 6672 00c4 FFF7FEFF 		bl	SDCard_SendTxData
3157:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_XferWait();                            // Wait for transfer to complete
 6673              		.loc 1 3157 0
 6674 00c8 FFF7FEFF 		bl	SDCard_XferWait
3158:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_bReadRxData();  // Read the data response byte but ignore it.
 6675              		.loc 1 3158 0
 6676 00cc 0F23     		movs	r3, #15
 6677 00ce FC18     		adds	r4, r7, r3
 6678 00d0 FFF7FEFF 		bl	SDCard_bReadRxData
 6679 00d4 0300     		movs	r3, r0
 6680 00d6 2370     		strb	r3, [r4]
3159:Generated_Source\PSoC4/SDCard_FS.c ****       
3160:Generated_Source\PSoC4/SDCard_FS.c ****             status=0;                              // Clear status before entering loop
 6681              		.loc 1 3160 0
 6682 00d8 0F23     		movs	r3, #15
 6683 00da FB18     		adds	r3, r7, r3
 6684 00dc 0022     		movs	r2, #0
 6685 00de 1A70     		strb	r2, [r3]
3161:Generated_Source\PSoC4/SDCard_FS.c ****             y=0x8000;                              // Set timeout value to 4X max time so far
 6686              		.loc 1 3161 0
 6687 00e0 8023     		movs	r3, #128
 6688 00e2 1B02     		lsls	r3, r3, #8
 6689 00e4 BB60     		str	r3, [r7, #8]
3162:Generated_Source\PSoC4/SDCard_FS.c ****          
3163:Generated_Source\PSoC4/SDCard_FS.c ****             while(( status == 0) && (y>0))         // Loop until status is non-zero, or a timeout o
 6690              		.loc 1 3163 0
 6691 00e6 0DE0     		b	.L383
 6692              	.L385:
3164:Generated_Source\PSoC4/SDCard_FS.c ****             {
3165:Generated_Source\PSoC4/SDCard_FS.c ****                // Send a null byte to shift for btye read
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 175


3166:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_SendTxData( 0xFF );
 6693              		.loc 1 3166 0
 6694 00e8 FF20     		movs	r0, #255
 6695 00ea FFF7FEFF 		bl	SDCard_SendTxData
3167:Generated_Source\PSoC4/SDCard_FS.c ****                SDCard_XferWait();                         // Wait for transfer to complete
 6696              		.loc 1 3167 0
 6697 00ee FFF7FEFF 		bl	SDCard_XferWait
3168:Generated_Source\PSoC4/SDCard_FS.c ****    
3169:Generated_Source\PSoC4/SDCard_FS.c ****                status = SDCard_bReadRxData(); // Read the reply
 6698              		.loc 1 3169 0
 6699 00f2 0F23     		movs	r3, #15
 6700 00f4 FC18     		adds	r4, r7, r3
 6701 00f6 FFF7FEFF 		bl	SDCard_bReadRxData
 6702 00fa 0300     		movs	r3, r0
 6703 00fc 2370     		strb	r3, [r4]
3170:Generated_Source\PSoC4/SDCard_FS.c ****                y--;                                // Decrement loop until 0, then timeout
 6704              		.loc 1 3170 0
 6705 00fe BB68     		ldr	r3, [r7, #8]
 6706 0100 013B     		subs	r3, r3, #1
 6707 0102 BB60     		str	r3, [r7, #8]
 6708              	.L383:
3163:Generated_Source\PSoC4/SDCard_FS.c ****             {
 6709              		.loc 1 3163 0
 6710 0104 0F23     		movs	r3, #15
 6711 0106 FB18     		adds	r3, r7, r3
 6712 0108 1B78     		ldrb	r3, [r3]
 6713 010a 002B     		cmp	r3, #0
 6714 010c 02D1     		bne	.L384
3163:Generated_Source\PSoC4/SDCard_FS.c ****             {
 6715              		.loc 1 3163 0 is_stmt 0 discriminator 1
 6716 010e BB68     		ldr	r3, [r7, #8]
 6717 0110 002B     		cmp	r3, #0
 6718 0112 E9D1     		bne	.L385
 6719              	.L384:
3171:Generated_Source\PSoC4/SDCard_FS.c ****             }
3172:Generated_Source\PSoC4/SDCard_FS.c ****             if(y == 0)                             // If loop is zero, then set status for failed
 6720              		.loc 1 3172 0 is_stmt 1
 6721 0114 BB68     		ldr	r3, [r7, #8]
 6722 0116 002B     		cmp	r3, #0
 6723 0118 04D1     		bne	.L386
3173:Generated_Source\PSoC4/SDCard_FS.c ****                status = SDCard_FAIL;
 6724              		.loc 1 3173 0
 6725 011a 0F23     		movs	r3, #15
 6726 011c FB18     		adds	r3, r7, r3
 6727 011e AA22     		movs	r2, #170
 6728 0120 1A70     		strb	r2, [r3]
 6729 0122 0DE0     		b	.L389
 6730              	.L386:
3174:Generated_Source\PSoC4/SDCard_FS.c ****             else
3175:Generated_Source\PSoC4/SDCard_FS.c ****                status = SDCard_PASS;
 6731              		.loc 1 3175 0
 6732 0124 0F23     		movs	r3, #15
 6733 0126 FB18     		adds	r3, r7, r3
 6734 0128 0022     		movs	r2, #0
 6735 012a 1A70     		strb	r2, [r3]
 6736 012c 08E0     		b	.L389
 6737              	.L382:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 176


3176:Generated_Source\PSoC4/SDCard_FS.c ****          }
3177:Generated_Source\PSoC4/SDCard_FS.c ****          else
3178:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;            // Set status to failed
 6738              		.loc 1 3178 0
 6739 012e 0F23     		movs	r3, #15
 6740 0130 FB18     		adds	r3, r7, r3
 6741 0132 AA22     		movs	r2, #170
 6742 0134 1A70     		strb	r2, [r3]
 6743 0136 03E0     		b	.L389
 6744              	.L381:
3179:Generated_Source\PSoC4/SDCard_FS.c ****       }
3180:Generated_Source\PSoC4/SDCard_FS.c ****       else
3181:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;               // Set status to failed
 6745              		.loc 1 3181 0
 6746 0138 0F23     		movs	r3, #15
 6747 013a FB18     		adds	r3, r7, r3
 6748 013c AA22     		movs	r2, #170
 6749 013e 1A70     		strb	r2, [r3]
 6750              	.L389:
3182:Generated_Source\PSoC4/SDCard_FS.c ****       
3183:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_EndCmd();                       // Finish the command cycle
 6751              		.loc 1 3183 0
 6752 0140 FFF7FEFF 		bl	SDCard_EndCmd
3184:Generated_Source\PSoC4/SDCard_FS.c **** 
3185:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_BuffLoc = address;              // Update write location
 6753              		.loc 1 3185 0
 6754 0144 0B4B     		ldr	r3, .L391+12
 6755 0146 7A68     		ldr	r2, [r7, #4]
 6756 0148 1A60     		str	r2, [r3]
3186:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_DirtyFlag &= 0xFE;              // Clear dirty buffer flag
 6757              		.loc 1 3186 0
 6758 014a 0B4B     		ldr	r3, .L391+16
 6759 014c 1B78     		ldrb	r3, [r3]
 6760 014e 0122     		movs	r2, #1
 6761 0150 9343     		bics	r3, r2
 6762 0152 DAB2     		uxtb	r2, r3
 6763 0154 084B     		ldr	r3, .L391+16
 6764 0156 1A70     		strb	r2, [r3]
3187:Generated_Source\PSoC4/SDCard_FS.c ****    }
3188:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WPROTECT
3189:Generated_Source\PSoC4/SDCard_FS.c ****    else
3190:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                  // Write protect on - set fail
3191:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3192:Generated_Source\PSoC4/SDCard_FS.c ****    
3193:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 6765              		.loc 1 3193 0
 6766 0158 0F23     		movs	r3, #15
 6767 015a FB18     		adds	r3, r7, r3
 6768 015c 1B78     		ldrb	r3, [r3]
3194:Generated_Source\PSoC4/SDCard_FS.c **** }
 6769              		.loc 1 3194 0
 6770 015e 1800     		movs	r0, r3
 6771 0160 BD46     		mov	sp, r7
 6772 0162 05B0     		add	sp, sp, #20
 6773              		@ sp needed
 6774 0164 90BD     		pop	{r4, r7, pc}
 6775              	.L392:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 177


 6776 0166 C046     		.align	2
 6777              	.L391:
 6778 0168 00000000 		.word	rbuff
 6779 016c 00000000 		.word	SDCard_Buffer1
 6780 0170 00000000 		.word	SDCard_Buffer2
 6781 0174 00000000 		.word	SDCard_BuffLoc
 6782 0178 00000000 		.word	SDCard_DirtyFlag
 6783              		.cfi_endproc
 6784              	.LFE82:
 6785              		.size	SDCard_WriteSect, .-SDCard_WriteSect
 6786              		.section	.text.SDCard_ReadFileSect,"ax",%progbits
 6787              		.align	2
 6788              		.global	SDCard_ReadFileSect
 6789              		.code	16
 6790              		.thumb_func
 6791              		.type	SDCard_ReadFileSect, %function
 6792              	SDCard_ReadFileSect:
 6793              	.LFB83:
3195:Generated_Source\PSoC4/SDCard_FS.c **** 
3196:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3197:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_ReadFileSect(uchar Fptr)
3198:Generated_Source\PSoC4/SDCard_FS.c **** //
3199:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3200:Generated_Source\PSoC4/SDCard_FS.c **** //    Routine that will read one sector of a file. 
3201:Generated_Source\PSoC4/SDCard_FS.c **** //
3202:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3203:Generated_Source\PSoC4/SDCard_FS.c **** //
3204:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3205:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3206:Generated_Source\PSoC4/SDCard_FS.c **** //
3207:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3208:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status
3209:Generated_Source\PSoC4/SDCard_FS.c **** //
3210:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3211:Generated_Source\PSoC4/SDCard_FS.c **** //    Routine that will read one sector of a file. Offset must be set to the beginning
3212:Generated_Source\PSoC4/SDCard_FS.c **** //    of a valid sector boundry before the call is made. (Multiple of 512, or zero)
3213:Generated_Source\PSoC4/SDCard_FS.c **** //    It DOES NOT check to see if the file is at least one sector long - non-zero.
3214:Generated_Source\PSoC4/SDCard_FS.c **** //    Must have an valid Fptr previously loaded by the SDCard_fopen(Filename) subroutine.
3215:Generated_Source\PSoC4/SDCard_FS.c **** //
3216:Generated_Source\PSoC4/SDCard_FS.c **** //              ***   Global variable required   ***     
3217:Generated_Source\PSoC4/SDCard_FS.c **** //    ClusterSize      - the size of a cluster on the current disk
3218:Generated_Source\PSoC4/SDCard_FS.c **** //
3219:Generated_Source\PSoC4/SDCard_FS.c **** //    CurFat[Index]    - contains the starting FAT entry for the file
3220:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSize[Index]   - contains the size of the file
3221:Generated_Source\PSoC4/SDCard_FS.c **** //    CurOffset[Index] - contains the current byte position in the file
3222:Generated_Source\PSoC4/SDCard_FS.c **** //    CurSect[Index]   - contains the current sector in use of a cluster
3223:Generated_Source\PSoC4/SDCard_FS.c **** //    Index            - is the passed variable of which file handle to use
3224:Generated_Source\PSoC4/SDCard_FS.c **** //
3225:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3226:Generated_Source\PSoC4/SDCard_FS.c **** //
3227:Generated_Source\PSoC4/SDCard_FS.c **** //
3228:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3229:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3230:Generated_Source\PSoC4/SDCard_FS.c **** 
3231:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_ReadFileSect(uchar Fptr)
3232:Generated_Source\PSoC4/SDCard_FS.c **** {
 6794              		.loc 1 3232 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 178


 6795              		.cfi_startproc
 6796              		@ args = 0, pretend = 0, frame = 16
 6797              		@ frame_needed = 1, uses_anonymous_args = 0
 6798 0000 90B5     		push	{r4, r7, lr}
 6799              		.cfi_def_cfa_offset 12
 6800              		.cfi_offset 4, -12
 6801              		.cfi_offset 7, -8
 6802              		.cfi_offset 14, -4
 6803 0002 85B0     		sub	sp, sp, #20
 6804              		.cfi_def_cfa_offset 32
 6805 0004 00AF     		add	r7, sp, #0
 6806              		.cfi_def_cfa_register 7
 6807 0006 0200     		movs	r2, r0
 6808 0008 FB1D     		adds	r3, r7, #7
 6809 000a 1A70     		strb	r2, [r3]
3233:Generated_Source\PSoC4/SDCard_FS.c ****    uchar   status = 0;              // command status
 6810              		.loc 1 3233 0
 6811 000c 0F23     		movs	r3, #15
 6812 000e FB18     		adds	r3, r7, r3
 6813 0010 0022     		movs	r2, #0
 6814 0012 1A70     		strb	r2, [r3]
3234:Generated_Source\PSoC4/SDCard_FS.c **** 
3235:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_SetSize(512);                    // Set block length to a 512 sector (512)
 6815              		.loc 1 3235 0
 6816 0014 8023     		movs	r3, #128
 6817 0016 9B00     		lsls	r3, r3, #2
 6818 0018 1800     		movs	r0, r3
 6819 001a FFF7FEFF 		bl	SDCard_SetSize
3236:Generated_Source\PSoC4/SDCard_FS.c **** 
3237:Generated_Source\PSoC4/SDCard_FS.c ****    if((SDCard_CurFat[Fptr] != SDCard_FatEnd))
 6820              		.loc 1 3237 0
 6821 001e FB1D     		adds	r3, r7, #7
 6822 0020 1A78     		ldrb	r2, [r3]
 6823 0022 114B     		ldr	r3, .L397
 6824 0024 9200     		lsls	r2, r2, #2
 6825 0026 D258     		ldr	r2, [r2, r3]
 6826 0028 104B     		ldr	r3, .L397+4
 6827 002a 1B68     		ldr	r3, [r3]
 6828 002c 9A42     		cmp	r2, r3
 6829 002e 0FD0     		beq	.L394
3238:Generated_Source\PSoC4/SDCard_FS.c ****    {
3239:Generated_Source\PSoC4/SDCard_FS.c ****       // Read in one sector
3240:Generated_Source\PSoC4/SDCard_FS.c **** 
3241:Generated_Source\PSoC4/SDCard_FS.c ****       // Address equals ((FAT entry - 2) * cluster size + sector offset) * sector size + DataStart
3242:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_GetAddress(Fptr, 0);          // Calculate sector address
 6830              		.loc 1 3242 0
 6831 0030 FB1D     		adds	r3, r7, #7
 6832 0032 1B78     		ldrb	r3, [r3]
 6833 0034 0021     		movs	r1, #0
 6834 0036 1800     		movs	r0, r3
 6835 0038 FFF7FEFF 		bl	SDCard_GetAddress
3243:Generated_Source\PSoC4/SDCard_FS.c **** 
3244:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_ReadSect(SDCard_Address);   // Read sector function
 6836              		.loc 1 3244 0
 6837 003c 0C4B     		ldr	r3, .L397+8
 6838 003e 1B68     		ldr	r3, [r3]
 6839 0040 0F22     		movs	r2, #15
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 179


 6840 0042 BC18     		adds	r4, r7, r2
 6841 0044 1800     		movs	r0, r3
 6842 0046 FFF7FEFF 		bl	SDCard_ReadSect
 6843 004a 0300     		movs	r3, r0
 6844 004c 2370     		strb	r3, [r4]
 6845 004e 03E0     		b	.L395
 6846              	.L394:
3245:Generated_Source\PSoC4/SDCard_FS.c ****    }
3246:Generated_Source\PSoC4/SDCard_FS.c ****    else
3247:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                // Error - Not a valid entry
 6847              		.loc 1 3247 0
 6848 0050 0F23     		movs	r3, #15
 6849 0052 FB18     		adds	r3, r7, r3
 6850 0054 AA22     		movs	r2, #170
 6851 0056 1A70     		strb	r2, [r3]
 6852              	.L395:
3248:Generated_Source\PSoC4/SDCard_FS.c **** 
3249:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 6853              		.loc 1 3249 0
 6854 0058 0F23     		movs	r3, #15
 6855 005a FB18     		adds	r3, r7, r3
 6856 005c 1B78     		ldrb	r3, [r3]
3250:Generated_Source\PSoC4/SDCard_FS.c **** }
 6857              		.loc 1 3250 0
 6858 005e 1800     		movs	r0, r3
 6859 0060 BD46     		mov	sp, r7
 6860 0062 05B0     		add	sp, sp, #20
 6861              		@ sp needed
 6862 0064 90BD     		pop	{r4, r7, pc}
 6863              	.L398:
 6864 0066 C046     		.align	2
 6865              	.L397:
 6866 0068 00000000 		.word	SDCard_CurFat
 6867 006c 00000000 		.word	SDCard_FatEnd
 6868 0070 00000000 		.word	SDCard_Address
 6869              		.cfi_endproc
 6870              	.LFE83:
 6871              		.size	SDCard_ReadFileSect, .-SDCard_ReadFileSect
 6872              		.section	.text.SDCard_ReadSect,"ax",%progbits
 6873              		.align	2
 6874              		.global	SDCard_ReadSect
 6875              		.code	16
 6876              		.thumb_func
 6877              		.type	SDCard_ReadSect, %function
 6878              	SDCard_ReadSect:
 6879              	.LFB84:
3251:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3252:Generated_Source\PSoC4/SDCard_FS.c **** 
3253:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3254:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_ReadSect(ulong address)
3255:Generated_Source\PSoC4/SDCard_FS.c **** //
3256:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3257:Generated_Source\PSoC4/SDCard_FS.c **** //   Routine that will read one absolute sector. Address must be set to the beginning
3258:Generated_Source\PSoC4/SDCard_FS.c **** //   of a valid sector boundry before the call is made. (Multiple of 512, or zero)
3259:Generated_Source\PSoC4/SDCard_FS.c **** //
3260:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3261:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 180


3262:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3263:Generated_Source\PSoC4/SDCard_FS.c **** //    address => Sector address
3264:Generated_Source\PSoC4/SDCard_FS.c **** //
3265:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3266:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status
3267:Generated_Source\PSoC4/SDCard_FS.c **** //
3268:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3269:Generated_Source\PSoC4/SDCard_FS.c **** //
3270:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3271:Generated_Source\PSoC4/SDCard_FS.c **** //
3272:Generated_Source\PSoC4/SDCard_FS.c **** //
3273:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3274:Generated_Source\PSoC4/SDCard_FS.c **** 
3275:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_ReadSect(ulong address)
3276:Generated_Source\PSoC4/SDCard_FS.c **** {
 6880              		.loc 1 3276 0
 6881              		.cfi_startproc
 6882              		@ args = 0, pretend = 0, frame = 16
 6883              		@ frame_needed = 1, uses_anonymous_args = 0
 6884 0000 80B5     		push	{r7, lr}
 6885              		.cfi_def_cfa_offset 8
 6886              		.cfi_offset 7, -8
 6887              		.cfi_offset 14, -4
 6888 0002 84B0     		sub	sp, sp, #16
 6889              		.cfi_def_cfa_offset 24
 6890 0004 00AF     		add	r7, sp, #0
 6891              		.cfi_def_cfa_register 7
 6892 0006 7860     		str	r0, [r7, #4]
3277:Generated_Source\PSoC4/SDCard_FS.c ****    uchar  status = 0;         // command status
 6893              		.loc 1 3277 0
 6894 0008 0F23     		movs	r3, #15
 6895 000a FB18     		adds	r3, r7, r3
 6896 000c 0022     		movs	r2, #0
 6897 000e 1A70     		strb	r2, [r3]
3278:Generated_Source\PSoC4/SDCard_FS.c **** 
3279:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3280:Generated_Source\PSoC4/SDCard_FS.c ****    // If sector changes flush the buffer if dirty
3281:Generated_Source\PSoC4/SDCard_FS.c ****    if( ((SDCard_DirtyFlag&0x01)==0x01)&&(address != SDCard_BuffLoc) )
 6898              		.loc 1 3281 0
 6899 0010 284B     		ldr	r3, .L407
 6900 0012 1B78     		ldrb	r3, [r3]
 6901 0014 1A00     		movs	r2, r3
 6902 0016 0123     		movs	r3, #1
 6903 0018 1340     		ands	r3, r2
 6904 001a 10D0     		beq	.L400
 6905              		.loc 1 3281 0 is_stmt 0 discriminator 1
 6906 001c 264B     		ldr	r3, .L407+4
 6907 001e 1B68     		ldr	r3, [r3]
 6908 0020 7A68     		ldr	r2, [r7, #4]
 6909 0022 9A42     		cmp	r2, r3
 6910 0024 0BD0     		beq	.L400
3282:Generated_Source\PSoC4/SDCard_FS.c ****    {
3283:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_WriteSect(SDCard_BuffLoc);     // Flush buffer if data is dirty
 6911              		.loc 1 3283 0 is_stmt 1
 6912 0026 244B     		ldr	r3, .L407+4
 6913 0028 1B68     		ldr	r3, [r3]
 6914 002a 1800     		movs	r0, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 181


 6915 002c FFF7FEFF 		bl	SDCard_WriteSect
3284:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_DirtyFlag &= 0xFE;      // Clear dirty flag for buffer
 6916              		.loc 1 3284 0
 6917 0030 204B     		ldr	r3, .L407
 6918 0032 1B78     		ldrb	r3, [r3]
 6919 0034 0122     		movs	r2, #1
 6920 0036 9343     		bics	r3, r2
 6921 0038 DAB2     		uxtb	r2, r3
 6922 003a 1E4B     		ldr	r3, .L407
 6923 003c 1A70     		strb	r2, [r3]
 6924              	.L400:
3285:Generated_Source\PSoC4/SDCard_FS.c ****    }
3286:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3287:Generated_Source\PSoC4/SDCard_FS.c ****    
3288:Generated_Source\PSoC4/SDCard_FS.c ****    if(address != SDCard_BuffLoc)
 6925              		.loc 1 3288 0
 6926 003e 1E4B     		ldr	r3, .L407+4
 6927 0040 1B68     		ldr	r3, [r3]
 6928 0042 7A68     		ldr	r2, [r7, #4]
 6929 0044 9A42     		cmp	r2, r3
 6930 0046 2ED0     		beq	.L401
3289:Generated_Source\PSoC4/SDCard_FS.c ****    {
3290:Generated_Source\PSoC4/SDCard_FS.c ****       // If the sector is not already loaded, read in one sector
3291:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_SetSize(512);           // Set block length to a 512 sector (512)
 6931              		.loc 1 3291 0
 6932 0048 8023     		movs	r3, #128
 6933 004a 9B00     		lsls	r3, r3, #2
 6934 004c 1800     		movs	r0, r3
 6935 004e FFF7FEFF 		bl	SDCard_SetSize
3292:Generated_Source\PSoC4/SDCard_FS.c ****                
3293:Generated_Source\PSoC4/SDCard_FS.c ****       // CMD17 - Read single block command
3294:Generated_Source\PSoC4/SDCard_FS.c ****       // Byte String = 0x51 (ulong Address) 0xFF 
3295:Generated_Source\PSoC4/SDCard_FS.c **** 
3296:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Cmd(SDCard_CMD17, address);    // Send CMD17 command string
 6936              		.loc 1 3296 0
 6937 0052 7B68     		ldr	r3, [r7, #4]
 6938 0054 1900     		movs	r1, r3
 6939 0056 5120     		movs	r0, #81
 6940 0058 FFF7FEFF 		bl	SDCard_Cmd
3297:Generated_Source\PSoC4/SDCard_FS.c **** 
3298:Generated_Source\PSoC4/SDCard_FS.c ****       // Check response
3299:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_CheckReply(0) != SDCard_FAIL)            // Check for status good
 6941              		.loc 1 3299 0
 6942 005c 0020     		movs	r0, #0
 6943 005e FFF7FEFF 		bl	SDCard_CheckReply
 6944 0062 0300     		movs	r3, r0
 6945 0064 AA2B     		cmp	r3, #170
 6946 0066 15D0     		beq	.L402
3300:Generated_Source\PSoC4/SDCard_FS.c ****       {
3301:Generated_Source\PSoC4/SDCard_FS.c ****          if(SDCard_CheckReply(0xFE) != SDCard_FAIL)      // Set check to Single Block Read data tok
 6947              		.loc 1 3301 0
 6948 0068 FE20     		movs	r0, #254
 6949 006a FFF7FEFF 		bl	SDCard_CheckReply
 6950 006e 0300     		movs	r3, r0
 6951 0070 AA2B     		cmp	r3, #170
 6952 0072 0AD0     		beq	.L403
3302:Generated_Source\PSoC4/SDCard_FS.c ****          {
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 182


3303:Generated_Source\PSoC4/SDCard_FS.c **** 	         // Read an entire sector 
3304:Generated_Source\PSoC4/SDCard_FS.c ****              SDCard_ReadBuff256( SDCard_Buffer1 );  // Read first half of sector
 6953              		.loc 1 3304 0
 6954 0074 114B     		ldr	r3, .L407+8
 6955 0076 1B68     		ldr	r3, [r3]
 6956 0078 1800     		movs	r0, r3
 6957 007a FFF7FEFF 		bl	SDCard_ReadBuff256
3305:Generated_Source\PSoC4/SDCard_FS.c ****              SDCard_ReadBuff256( SDCard_Buffer2 );  // Read second half of sector
 6958              		.loc 1 3305 0
 6959 007e 104B     		ldr	r3, .L407+12
 6960 0080 1B68     		ldr	r3, [r3]
 6961 0082 1800     		movs	r0, r3
 6962 0084 FFF7FEFF 		bl	SDCard_ReadBuff256
 6963 0088 08E0     		b	.L405
 6964              	.L403:
3306:Generated_Source\PSoC4/SDCard_FS.c ****          }
3307:Generated_Source\PSoC4/SDCard_FS.c ****          else
3308:Generated_Source\PSoC4/SDCard_FS.c ****             status = SDCard_FAIL;          // Set status to failed
 6965              		.loc 1 3308 0
 6966 008a 0F23     		movs	r3, #15
 6967 008c FB18     		adds	r3, r7, r3
 6968 008e AA22     		movs	r2, #170
 6969 0090 1A70     		strb	r2, [r3]
 6970 0092 03E0     		b	.L405
 6971              	.L402:
3309:Generated_Source\PSoC4/SDCard_FS.c ****       }
3310:Generated_Source\PSoC4/SDCard_FS.c ****       else
3311:Generated_Source\PSoC4/SDCard_FS.c ****          status = SDCard_FAIL;             // Set status to failed
 6972              		.loc 1 3311 0
 6973 0094 0F23     		movs	r3, #15
 6974 0096 FB18     		adds	r3, r7, r3
 6975 0098 AA22     		movs	r2, #170
 6976 009a 1A70     		strb	r2, [r3]
 6977              	.L405:
3312:Generated_Source\PSoC4/SDCard_FS.c ****          
3313:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_EndCmd();                     // Finish the command cycle
 6978              		.loc 1 3313 0
 6979 009c FFF7FEFF 		bl	SDCard_EndCmd
3314:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_BuffLoc = address;            // Update write location
 6980              		.loc 1 3314 0
 6981 00a0 054B     		ldr	r3, .L407+4
 6982 00a2 7A68     		ldr	r2, [r7, #4]
 6983 00a4 1A60     		str	r2, [r3]
 6984              	.L401:
3315:Generated_Source\PSoC4/SDCard_FS.c ****    }
3316:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 6985              		.loc 1 3316 0
 6986 00a6 0F23     		movs	r3, #15
 6987 00a8 FB18     		adds	r3, r7, r3
 6988 00aa 1B78     		ldrb	r3, [r3]
3317:Generated_Source\PSoC4/SDCard_FS.c **** }
 6989              		.loc 1 3317 0
 6990 00ac 1800     		movs	r0, r3
 6991 00ae BD46     		mov	sp, r7
 6992 00b0 04B0     		add	sp, sp, #16
 6993              		@ sp needed
 6994 00b2 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 183


 6995              	.L408:
 6996              		.align	2
 6997              	.L407:
 6998 00b4 00000000 		.word	SDCard_DirtyFlag
 6999 00b8 00000000 		.word	SDCard_BuffLoc
 7000 00bc 00000000 		.word	SDCard_Buffer1
 7001 00c0 00000000 		.word	SDCard_Buffer2
 7002              		.cfi_endproc
 7003              	.LFE84:
 7004              		.size	SDCard_ReadSect, .-SDCard_ReadSect
 7005              		.section	.text.SDCard_NewFile,"ax",%progbits
 7006              		.align	2
 7007              		.global	SDCard_NewFile
 7008              		.code	16
 7009              		.thumb_func
 7010              		.type	SDCard_NewFile, %function
 7011              	SDCard_NewFile:
 7012              	.LFB85:
3318:Generated_Source\PSoC4/SDCard_FS.c **** 
3319:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3320:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_NewFile(uchar Fptr, uchar Filename[])
3321:Generated_Source\PSoC4/SDCard_FS.c **** //
3322:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3323:Generated_Source\PSoC4/SDCard_FS.c **** //   Create new file using filename  
3324:Generated_Source\PSoC4/SDCard_FS.c **** //
3325:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3326:Generated_Source\PSoC4/SDCard_FS.c **** //
3327:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3328:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr - File pointer for file to create
3329:Generated_Source\PSoC4/SDCard_FS.c **** //
3330:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3331:Generated_Source\PSoC4/SDCard_FS.c **** //    Returns new file pointer value.
3332:Generated_Source\PSoC4/SDCard_FS.c **** //
3333:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3334:Generated_Source\PSoC4/SDCard_FS.c **** //
3335:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3336:Generated_Source\PSoC4/SDCard_FS.c **** //
3337:Generated_Source\PSoC4/SDCard_FS.c **** //
3338:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3339:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3340:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3341:Generated_Source\PSoC4/SDCard_FS.c **** 
3342:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_NewFile(uchar Fptr, uchar Filename[])
3343:Generated_Source\PSoC4/SDCard_FS.c **** {
 7013              		.loc 1 3343 0
 7014              		.cfi_startproc
 7015              		@ args = 0, pretend = 0, frame = 32
 7016              		@ frame_needed = 1, uses_anonymous_args = 0
 7017 0000 80B5     		push	{r7, lr}
 7018              		.cfi_def_cfa_offset 8
 7019              		.cfi_offset 7, -8
 7020              		.cfi_offset 14, -4
 7021 0002 88B0     		sub	sp, sp, #32
 7022              		.cfi_def_cfa_offset 40
 7023 0004 00AF     		add	r7, sp, #0
 7024              		.cfi_def_cfa_register 7
 7025 0006 0200     		movs	r2, r0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 184


 7026 0008 3960     		str	r1, [r7]
 7027 000a FB1D     		adds	r3, r7, #7
 7028 000c 1A70     		strb	r2, [r3]
3344:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;                    // Temp counter
3345:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Tmp[11];              // Temp holder for filename
3346:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;               // Create a temporary pointer for directory entry in the buffer
3347:Generated_Source\PSoC4/SDCard_FS.c ****    
3348:Generated_Source\PSoC4/SDCard_FS.c ****    // Make temporary copy of the filename (buffer will be overwritten)
3349:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<11; x++)
 7029              		.loc 1 3349 0
 7030 000e 1F23     		movs	r3, #31
 7031 0010 FB18     		adds	r3, r7, r3
 7032 0012 0022     		movs	r2, #0
 7033 0014 1A70     		strb	r2, [r3]
 7034 0016 12E0     		b	.L410
 7035              	.L411:
3350:Generated_Source\PSoC4/SDCard_FS.c ****       Tmp[x] = Filename[x];
 7036              		.loc 1 3350 0 discriminator 3
 7037 0018 1F23     		movs	r3, #31
 7038 001a FB18     		adds	r3, r7, r3
 7039 001c 1B78     		ldrb	r3, [r3]
 7040 001e 1F22     		movs	r2, #31
 7041 0020 BA18     		adds	r2, r7, r2
 7042 0022 1278     		ldrb	r2, [r2]
 7043 0024 3968     		ldr	r1, [r7]
 7044 0026 8A18     		adds	r2, r1, r2
 7045 0028 1178     		ldrb	r1, [r2]
 7046 002a 0C22     		movs	r2, #12
 7047 002c BA18     		adds	r2, r7, r2
 7048 002e D154     		strb	r1, [r2, r3]
3349:Generated_Source\PSoC4/SDCard_FS.c ****       Tmp[x] = Filename[x];
 7049              		.loc 1 3349 0 discriminator 3
 7050 0030 1F23     		movs	r3, #31
 7051 0032 FB18     		adds	r3, r7, r3
 7052 0034 1A78     		ldrb	r2, [r3]
 7053 0036 1F23     		movs	r3, #31
 7054 0038 FB18     		adds	r3, r7, r3
 7055 003a 0132     		adds	r2, r2, #1
 7056 003c 1A70     		strb	r2, [r3]
 7057              	.L410:
3349:Generated_Source\PSoC4/SDCard_FS.c ****       Tmp[x] = Filename[x];
 7058              		.loc 1 3349 0 is_stmt 0 discriminator 1
 7059 003e 1F23     		movs	r3, #31
 7060 0040 FB18     		adds	r3, r7, r3
 7061 0042 1B78     		ldrb	r3, [r3]
 7062 0044 0A2B     		cmp	r3, #10
 7063 0046 E7D9     		bls	.L411
3351:Generated_Source\PSoC4/SDCard_FS.c **** 
3352:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_FindFile(Fptr, SDCard_UNUSED);     // Get first unused directory entry
 7064              		.loc 1 3352 0 is_stmt 1
 7065 0048 394A     		ldr	r2, .L417
 7066 004a FB1D     		adds	r3, r7, #7
 7067 004c 1B78     		ldrb	r3, [r3]
 7068 004e 1100     		movs	r1, r2
 7069 0050 1800     		movs	r0, r3
 7070 0052 FFF7FEFF 		bl	SDCard_FindFile
3353:Generated_Source\PSoC4/SDCard_FS.c ****    Dptr = SDCard_ReadDirSect(Fptr);   // Read  directory sector into buffers and return pointer
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 185


 7071              		.loc 1 3353 0
 7072 0056 FB1D     		adds	r3, r7, #7
 7073 0058 1B78     		ldrb	r3, [r3]
 7074 005a 1800     		movs	r0, r3
 7075 005c FFF7FEFF 		bl	SDCard_ReadDirSect
 7076 0060 0300     		movs	r3, r0
 7077 0062 BB61     		str	r3, [r7, #24]
3354:Generated_Source\PSoC4/SDCard_FS.c **** 
3355:Generated_Source\PSoC4/SDCard_FS.c ****    // Write the filename into the directory entry in the buffer
3356:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<11; x++)
 7078              		.loc 1 3356 0
 7079 0064 1F23     		movs	r3, #31
 7080 0066 FB18     		adds	r3, r7, r3
 7081 0068 0022     		movs	r2, #0
 7082 006a 1A70     		strb	r2, [r3]
 7083 006c 12E0     		b	.L412
 7084              	.L413:
3357:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = Tmp[x];
 7085              		.loc 1 3357 0 discriminator 3
 7086 006e 1F23     		movs	r3, #31
 7087 0070 FB18     		adds	r3, r7, r3
 7088 0072 1B78     		ldrb	r3, [r3]
 7089 0074 BA69     		ldr	r2, [r7, #24]
 7090 0076 D318     		adds	r3, r2, r3
 7091 0078 1F22     		movs	r2, #31
 7092 007a BA18     		adds	r2, r7, r2
 7093 007c 1278     		ldrb	r2, [r2]
 7094 007e 0C21     		movs	r1, #12
 7095 0080 7918     		adds	r1, r7, r1
 7096 0082 8A5C     		ldrb	r2, [r1, r2]
 7097 0084 1A70     		strb	r2, [r3]
3356:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = Tmp[x];
 7098              		.loc 1 3356 0 discriminator 3
 7099 0086 1F23     		movs	r3, #31
 7100 0088 FB18     		adds	r3, r7, r3
 7101 008a 1A78     		ldrb	r2, [r3]
 7102 008c 1F23     		movs	r3, #31
 7103 008e FB18     		adds	r3, r7, r3
 7104 0090 0132     		adds	r2, r2, #1
 7105 0092 1A70     		strb	r2, [r3]
 7106              	.L412:
3356:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = Tmp[x];
 7107              		.loc 1 3356 0 is_stmt 0 discriminator 1
 7108 0094 1F23     		movs	r3, #31
 7109 0096 FB18     		adds	r3, r7, r3
 7110 0098 1B78     		ldrb	r3, [r3]
 7111 009a 0A2B     		cmp	r3, #10
 7112 009c E7D9     		bls	.L413
3358:Generated_Source\PSoC4/SDCard_FS.c ****    
3359:Generated_Source\PSoC4/SDCard_FS.c ****    // Write the blank directory entry into the buffer
3360:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=11; x<32; x++)
 7113              		.loc 1 3360 0 is_stmt 1
 7114 009e 1F23     		movs	r3, #31
 7115 00a0 FB18     		adds	r3, r7, r3
 7116 00a2 0B22     		movs	r2, #11
 7117 00a4 1A70     		strb	r2, [r3]
 7118 00a6 11E0     		b	.L414
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 186


 7119              	.L415:
3361:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = SDCard_BlankDir[x];
 7120              		.loc 1 3361 0 discriminator 3
 7121 00a8 1F23     		movs	r3, #31
 7122 00aa FB18     		adds	r3, r7, r3
 7123 00ac 1B78     		ldrb	r3, [r3]
 7124 00ae BA69     		ldr	r2, [r7, #24]
 7125 00b0 D318     		adds	r3, r2, r3
 7126 00b2 1F22     		movs	r2, #31
 7127 00b4 BA18     		adds	r2, r7, r2
 7128 00b6 1278     		ldrb	r2, [r2]
 7129 00b8 1E49     		ldr	r1, .L417+4
 7130 00ba 8A5C     		ldrb	r2, [r1, r2]
 7131 00bc 1A70     		strb	r2, [r3]
3360:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = SDCard_BlankDir[x];
 7132              		.loc 1 3360 0 discriminator 3
 7133 00be 1F23     		movs	r3, #31
 7134 00c0 FB18     		adds	r3, r7, r3
 7135 00c2 1A78     		ldrb	r2, [r3]
 7136 00c4 1F23     		movs	r3, #31
 7137 00c6 FB18     		adds	r3, r7, r3
 7138 00c8 0132     		adds	r2, r2, #1
 7139 00ca 1A70     		strb	r2, [r3]
 7140              	.L414:
3360:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = SDCard_BlankDir[x];
 7141              		.loc 1 3360 0 is_stmt 0 discriminator 1
 7142 00cc 1F23     		movs	r3, #31
 7143 00ce FB18     		adds	r3, r7, r3
 7144 00d0 1B78     		ldrb	r3, [r3]
 7145 00d2 1F2B     		cmp	r3, #31
 7146 00d4 E8D9     		bls	.L415
3362:Generated_Source\PSoC4/SDCard_FS.c **** 
3363:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteDirSect(Fptr);         // Write directory sector from buffers
 7147              		.loc 1 3363 0 is_stmt 1
 7148 00d6 FB1D     		adds	r3, r7, #7
 7149 00d8 1B78     		ldrb	r3, [r3]
 7150 00da 1800     		movs	r0, r3
 7151 00dc FFF7FEFF 		bl	SDCard_WriteDirSect
3364:Generated_Source\PSoC4/SDCard_FS.c ****    
3365:Generated_Source\PSoC4/SDCard_FS.c ****    // Clear the file info fields accordingly
3366:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurAttr[Fptr]=0;
 7152              		.loc 1 3366 0
 7153 00e0 FB1D     		adds	r3, r7, #7
 7154 00e2 1B78     		ldrb	r3, [r3]
 7155 00e4 144A     		ldr	r2, .L417+8
 7156 00e6 0021     		movs	r1, #0
 7157 00e8 D154     		strb	r1, [r2, r3]
3367:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurStart[Fptr]=0;
 7158              		.loc 1 3367 0
 7159 00ea FB1D     		adds	r3, r7, #7
 7160 00ec 1A78     		ldrb	r2, [r3]
 7161 00ee 134B     		ldr	r3, .L417+12
 7162 00f0 9200     		lsls	r2, r2, #2
 7163 00f2 0021     		movs	r1, #0
 7164 00f4 D150     		str	r1, [r2, r3]
3368:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurFat[Fptr]=0;
 7165              		.loc 1 3368 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 187


 7166 00f6 FB1D     		adds	r3, r7, #7
 7167 00f8 1A78     		ldrb	r2, [r3]
 7168 00fa 114B     		ldr	r3, .L417+16
 7169 00fc 9200     		lsls	r2, r2, #2
 7170 00fe 0021     		movs	r1, #0
 7171 0100 D150     		str	r1, [r2, r3]
3369:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurSize[Fptr]=0;
 7172              		.loc 1 3369 0
 7173 0102 FB1D     		adds	r3, r7, #7
 7174 0104 1A78     		ldrb	r2, [r3]
 7175 0106 0F4B     		ldr	r3, .L417+20
 7176 0108 9200     		lsls	r2, r2, #2
 7177 010a 0021     		movs	r1, #0
 7178 010c D150     		str	r1, [r2, r3]
3370:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurOffset[Fptr]=0;
 7179              		.loc 1 3370 0
 7180 010e FB1D     		adds	r3, r7, #7
 7181 0110 1A78     		ldrb	r2, [r3]
 7182 0112 0D4B     		ldr	r3, .L417+24
 7183 0114 9200     		lsls	r2, r2, #2
 7184 0116 0021     		movs	r1, #0
 7185 0118 D150     		str	r1, [r2, r3]
3371:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurSect[Fptr]=0;
 7186              		.loc 1 3371 0
 7187 011a FB1D     		adds	r3, r7, #7
 7188 011c 1B78     		ldrb	r3, [r3]
 7189 011e 0B4A     		ldr	r2, .L417+28
 7190 0120 0021     		movs	r1, #0
 7191 0122 D154     		strb	r1, [r2, r3]
3372:Generated_Source\PSoC4/SDCard_FS.c ****    
3373:Generated_Source\PSoC4/SDCard_FS.c ****    return(Fptr);
 7192              		.loc 1 3373 0
 7193 0124 FB1D     		adds	r3, r7, #7
 7194 0126 1B78     		ldrb	r3, [r3]
3374:Generated_Source\PSoC4/SDCard_FS.c **** }
 7195              		.loc 1 3374 0
 7196 0128 1800     		movs	r0, r3
 7197 012a BD46     		mov	sp, r7
 7198 012c 08B0     		add	sp, sp, #32
 7199              		@ sp needed
 7200 012e 80BD     		pop	{r7, pc}
 7201              	.L418:
 7202              		.align	2
 7203              	.L417:
 7204 0130 FFFF0000 		.word	65535
 7205 0134 00000000 		.word	SDCard_BlankDir
 7206 0138 00000000 		.word	SDCard_CurAttr
 7207 013c 00000000 		.word	SDCard_CurStart
 7208 0140 00000000 		.word	SDCard_CurFat
 7209 0144 00000000 		.word	SDCard_CurSize
 7210 0148 00000000 		.word	SDCard_CurOffset
 7211 014c 00000000 		.word	SDCard_CurSect
 7212              		.cfi_endproc
 7213              	.LFE85:
 7214              		.size	SDCard_NewFile, .-SDCard_NewFile
 7215              		.section	.text.SDCard_FileZero,"ax",%progbits
 7216              		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 188


 7217              		.global	SDCard_FileZero
 7218              		.code	16
 7219              		.thumb_func
 7220              		.type	SDCard_FileZero, %function
 7221              	SDCard_FileZero:
 7222              	.LFB86:
3375:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3376:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3377:Generated_Source\PSoC4/SDCard_FS.c **** 
3378:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3379:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:  uchar SDCard_FileZero(uchar Fptr, uchar Del)
3380:Generated_Source\PSoC4/SDCard_FS.c **** //
3381:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3382:Generated_Source\PSoC4/SDCard_FS.c **** //   Sets file size to zero and resets FAT entries or deletes and closes file
3383:Generated_Source\PSoC4/SDCard_FS.c **** //
3384:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3385:Generated_Source\PSoC4/SDCard_FS.c **** //
3386:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3387:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr - File pointer for file to zero out
3388:Generated_Source\PSoC4/SDCard_FS.c **** //    Del  - 0 = zero file, 1 = delete file
3389:Generated_Source\PSoC4/SDCard_FS.c **** //
3390:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3391:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status
3392:Generated_Source\PSoC4/SDCard_FS.c **** //
3393:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3394:Generated_Source\PSoC4/SDCard_FS.c **** //
3395:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3396:Generated_Source\PSoC4/SDCard_FS.c **** //
3397:Generated_Source\PSoC4/SDCard_FS.c **** //
3398:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3399:Generated_Source\PSoC4/SDCard_FS.c **** 
3400:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3401:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3402:Generated_Source\PSoC4/SDCard_FS.c **** 
3403:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_FileZero(uchar Fptr, uchar Del)
3404:Generated_Source\PSoC4/SDCard_FS.c **** {
 7223              		.loc 1 3404 0
 7224              		.cfi_startproc
 7225              		@ args = 0, pretend = 0, frame = 24
 7226              		@ frame_needed = 1, uses_anonymous_args = 0
 7227 0000 90B5     		push	{r4, r7, lr}
 7228              		.cfi_def_cfa_offset 12
 7229              		.cfi_offset 4, -12
 7230              		.cfi_offset 7, -8
 7231              		.cfi_offset 14, -4
 7232 0002 87B0     		sub	sp, sp, #28
 7233              		.cfi_def_cfa_offset 40
 7234 0004 00AF     		add	r7, sp, #0
 7235              		.cfi_def_cfa_register 7
 7236 0006 0200     		movs	r2, r0
 7237 0008 FB1D     		adds	r3, r7, #7
 7238 000a 1A70     		strb	r2, [r3]
 7239 000c BB1D     		adds	r3, r7, #6
 7240 000e 0A1C     		adds	r2, r1, #0
 7241 0010 1A70     		strb	r2, [r3]
3405:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;                                 // Temp counter
3406:Generated_Source\PSoC4/SDCard_FS.c ****    uint Offset;                             // Offset to Entry
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 189


3407:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;                            // Create a temporary pointer for directory entry in th
3408:Generated_Source\PSoC4/SDCard_FS.c ****    uchar status = SDCard_FAIL;              // Temp status
 7242              		.loc 1 3408 0
 7243 0012 1623     		movs	r3, #22
 7244 0014 FB18     		adds	r3, r7, r3
 7245 0016 AA22     		movs	r2, #170
 7246 0018 1A70     		strb	r2, [r3]
3409:Generated_Source\PSoC4/SDCard_FS.c **** 
3410:Generated_Source\PSoC4/SDCard_FS.c ****    if(SDCard_CurStart[Fptr] != 0)                  // Is there a starting FAT entry present?
 7247              		.loc 1 3410 0
 7248 001a FB1D     		adds	r3, r7, #7
 7249 001c 1A78     		ldrb	r2, [r3]
 7250 001e 464B     		ldr	r3, .L428
 7251 0020 9200     		lsls	r2, r2, #2
 7252 0022 D358     		ldr	r3, [r2, r3]
 7253 0024 002B     		cmp	r3, #0
 7254 0026 07D0     		beq	.L420
3411:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_FatReclaim(SDCard_CurStart[Fptr]);           // Yes, delete the fat chain
 7255              		.loc 1 3411 0
 7256 0028 FB1D     		adds	r3, r7, #7
 7257 002a 1A78     		ldrb	r2, [r3]
 7258 002c 424B     		ldr	r3, .L428
 7259 002e 9200     		lsls	r2, r2, #2
 7260 0030 D358     		ldr	r3, [r2, r3]
 7261 0032 1800     		movs	r0, r3
 7262 0034 FFF7FEFF 		bl	SDCard_FatReclaim
 7263              	.L420:
3412:Generated_Source\PSoC4/SDCard_FS.c ****    
3413:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_ReadSect(SDCard_CurDir[Fptr] & 0xFFFFFE00);     // Read directory sector into buffers
 7264              		.loc 1 3413 0
 7265 0038 FB1D     		adds	r3, r7, #7
 7266 003a 1A78     		ldrb	r2, [r3]
 7267 003c 3F4B     		ldr	r3, .L428+4
 7268 003e 9200     		lsls	r2, r2, #2
 7269 0040 D358     		ldr	r3, [r2, r3]
 7270 0042 5B0A     		lsrs	r3, r3, #9
 7271 0044 5B02     		lsls	r3, r3, #9
 7272 0046 1800     		movs	r0, r3
 7273 0048 FFF7FEFF 		bl	SDCard_ReadSect
3414:Generated_Source\PSoC4/SDCard_FS.c **** 
3415:Generated_Source\PSoC4/SDCard_FS.c ****    Offset = ((uint)(SDCard_CurDir[Fptr] & 0x1FF)); // Figure out the offset
 7274              		.loc 1 3415 0
 7275 004c FB1D     		adds	r3, r7, #7
 7276 004e 1A78     		ldrb	r2, [r3]
 7277 0050 3A4B     		ldr	r3, .L428+4
 7278 0052 9200     		lsls	r2, r2, #2
 7279 0054 D358     		ldr	r3, [r2, r3]
 7280 0056 DB05     		lsls	r3, r3, #23
 7281 0058 DB0D     		lsrs	r3, r3, #23
 7282 005a 3B61     		str	r3, [r7, #16]
3416:Generated_Source\PSoC4/SDCard_FS.c **** 
3417:Generated_Source\PSoC4/SDCard_FS.c ****    Dptr = SDCard_GetBuffPtr(Offset);               // Get the buffer pointer offset
 7283              		.loc 1 3417 0
 7284 005c 3B69     		ldr	r3, [r7, #16]
 7285 005e 1800     		movs	r0, r3
 7286 0060 FFF7FEFF 		bl	SDCard_GetBuffPtr
 7287 0064 0300     		movs	r3, r0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 190


 7288 0066 FB60     		str	r3, [r7, #12]
3418:Generated_Source\PSoC4/SDCard_FS.c ****    
3419:Generated_Source\PSoC4/SDCard_FS.c ****    if(Del == 0)                             // Should the file be deleted or just zeroed?   
 7289              		.loc 1 3419 0
 7290 0068 BB1D     		adds	r3, r7, #6
 7291 006a 1B78     		ldrb	r3, [r3]
 7292 006c 002B     		cmp	r3, #0
 7293 006e 41D1     		bne	.L421
3420:Generated_Source\PSoC4/SDCard_FS.c ****    {
3421:Generated_Source\PSoC4/SDCard_FS.c ****       // Zero the file
3422:Generated_Source\PSoC4/SDCard_FS.c ****       for(x=0x1A; x<0x20; x++)              // Zero the FAT entry and size fields
 7294              		.loc 1 3422 0
 7295 0070 1723     		movs	r3, #23
 7296 0072 FB18     		adds	r3, r7, r3
 7297 0074 1A22     		movs	r2, #26
 7298 0076 1A70     		strb	r2, [r3]
 7299 0078 0DE0     		b	.L422
 7300              	.L423:
3423:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[x] = 0;
 7301              		.loc 1 3423 0 discriminator 3
 7302 007a 1723     		movs	r3, #23
 7303 007c FB18     		adds	r3, r7, r3
 7304 007e 1B78     		ldrb	r3, [r3]
 7305 0080 FA68     		ldr	r2, [r7, #12]
 7306 0082 D318     		adds	r3, r2, r3
 7307 0084 0022     		movs	r2, #0
 7308 0086 1A70     		strb	r2, [r3]
3422:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[x] = 0;
 7309              		.loc 1 3422 0 discriminator 3
 7310 0088 1723     		movs	r3, #23
 7311 008a FB18     		adds	r3, r7, r3
 7312 008c 1A78     		ldrb	r2, [r3]
 7313 008e 1723     		movs	r3, #23
 7314 0090 FB18     		adds	r3, r7, r3
 7315 0092 0132     		adds	r2, r2, #1
 7316 0094 1A70     		strb	r2, [r3]
 7317              	.L422:
3422:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[x] = 0;
 7318              		.loc 1 3422 0 is_stmt 0 discriminator 1
 7319 0096 1723     		movs	r3, #23
 7320 0098 FB18     		adds	r3, r7, r3
 7321 009a 1B78     		ldrb	r3, [r3]
 7322 009c 1F2B     		cmp	r3, #31
 7323 009e ECD9     		bls	.L423
3424:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_FatEntrySize ==4)                  // If 32 bit FAT delete the upper FAT entry byte
 7324              		.loc 1 3424 0 is_stmt 1
 7325 00a0 274B     		ldr	r3, .L428+8
 7326 00a2 1B78     		ldrb	r3, [r3]
 7327 00a4 042B     		cmp	r3, #4
 7328 00a6 07D1     		bne	.L424
3425:Generated_Source\PSoC4/SDCard_FS.c ****       {
3426:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[0x14] = 0;
 7329              		.loc 1 3426 0
 7330 00a8 FB68     		ldr	r3, [r7, #12]
 7331 00aa 1433     		adds	r3, r3, #20
 7332 00ac 0022     		movs	r2, #0
 7333 00ae 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 191


3427:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[0x15] = 0;
 7334              		.loc 1 3427 0
 7335 00b0 FB68     		ldr	r3, [r7, #12]
 7336 00b2 1533     		adds	r3, r3, #21
 7337 00b4 0022     		movs	r2, #0
 7338 00b6 1A70     		strb	r2, [r3]
 7339              	.L424:
3428:Generated_Source\PSoC4/SDCard_FS.c ****       }   
3429:Generated_Source\PSoC4/SDCard_FS.c **** 
3430:Generated_Source\PSoC4/SDCard_FS.c ****       // Clear the file info fields accordingly
3431:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurStart[Fptr]=0;
 7340              		.loc 1 3431 0
 7341 00b8 FB1D     		adds	r3, r7, #7
 7342 00ba 1A78     		ldrb	r2, [r3]
 7343 00bc 1E4B     		ldr	r3, .L428
 7344 00be 9200     		lsls	r2, r2, #2
 7345 00c0 0021     		movs	r1, #0
 7346 00c2 D150     		str	r1, [r2, r3]
3432:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurFat[Fptr]=0;
 7347              		.loc 1 3432 0
 7348 00c4 FB1D     		adds	r3, r7, #7
 7349 00c6 1A78     		ldrb	r2, [r3]
 7350 00c8 1E4B     		ldr	r3, .L428+12
 7351 00ca 9200     		lsls	r2, r2, #2
 7352 00cc 0021     		movs	r1, #0
 7353 00ce D150     		str	r1, [r2, r3]
3433:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSize[Fptr]=0;
 7354              		.loc 1 3433 0
 7355 00d0 FB1D     		adds	r3, r7, #7
 7356 00d2 1A78     		ldrb	r2, [r3]
 7357 00d4 1C4B     		ldr	r3, .L428+16
 7358 00d6 9200     		lsls	r2, r2, #2
 7359 00d8 0021     		movs	r1, #0
 7360 00da D150     		str	r1, [r2, r3]
3434:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurOffset[Fptr]=0;
 7361              		.loc 1 3434 0
 7362 00dc FB1D     		adds	r3, r7, #7
 7363 00de 1A78     		ldrb	r2, [r3]
 7364 00e0 1A4B     		ldr	r3, .L428+20
 7365 00e2 9200     		lsls	r2, r2, #2
 7366 00e4 0021     		movs	r1, #0
 7367 00e6 D150     		str	r1, [r2, r3]
3435:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurSect[Fptr]=0;
 7368              		.loc 1 3435 0
 7369 00e8 FB1D     		adds	r3, r7, #7
 7370 00ea 1B78     		ldrb	r3, [r3]
 7371 00ec 184A     		ldr	r2, .L428+24
 7372 00ee 0021     		movs	r1, #0
 7373 00f0 D154     		strb	r1, [r2, r3]
 7374 00f2 02E0     		b	.L425
 7375              	.L421:
3436:Generated_Source\PSoC4/SDCard_FS.c ****    }
3437:Generated_Source\PSoC4/SDCard_FS.c ****    else
3438:Generated_Source\PSoC4/SDCard_FS.c ****    {
3439:Generated_Source\PSoC4/SDCard_FS.c ****       // Delete the file from the directory
3440:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[0] = 0xE5;                      // Mark entry as deleted   
 7376              		.loc 1 3440 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 192


 7377 00f4 FB68     		ldr	r3, [r7, #12]
 7378 00f6 E522     		movs	r2, #229
 7379 00f8 1A70     		strb	r2, [r3]
 7380              	.L425:
3441:Generated_Source\PSoC4/SDCard_FS.c ****    }
3442:Generated_Source\PSoC4/SDCard_FS.c ****    
3443:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteSect(SDCard_CurDir[Fptr] & 0xFFFFFE00);   // Write directory sector from buffers
 7381              		.loc 1 3443 0
 7382 00fa FB1D     		adds	r3, r7, #7
 7383 00fc 1A78     		ldrb	r2, [r3]
 7384 00fe 0F4B     		ldr	r3, .L428+4
 7385 0100 9200     		lsls	r2, r2, #2
 7386 0102 D358     		ldr	r3, [r2, r3]
 7387 0104 5B0A     		lsrs	r3, r3, #9
 7388 0106 5B02     		lsls	r3, r3, #9
 7389 0108 1800     		movs	r0, r3
 7390 010a FFF7FEFF 		bl	SDCard_WriteSect
3444:Generated_Source\PSoC4/SDCard_FS.c ****    
3445:Generated_Source\PSoC4/SDCard_FS.c ****    if(Del == 1)                            // If deleting, the file must be Closed   
 7391              		.loc 1 3445 0
 7392 010e BB1D     		adds	r3, r7, #6
 7393 0110 1B78     		ldrb	r3, [r3]
 7394 0112 012B     		cmp	r3, #1
 7395 0114 08D1     		bne	.L426
3446:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_fclose(Fptr);
 7396              		.loc 1 3446 0
 7397 0116 1623     		movs	r3, #22
 7398 0118 FC18     		adds	r4, r7, r3
 7399 011a FB1D     		adds	r3, r7, #7
 7400 011c 1B78     		ldrb	r3, [r3]
 7401 011e 1800     		movs	r0, r3
 7402 0120 FFF7FEFF 		bl	SDCard_fclose
 7403 0124 0300     		movs	r3, r0
 7404 0126 2370     		strb	r3, [r4]
 7405              	.L426:
3447:Generated_Source\PSoC4/SDCard_FS.c ****       
3448:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 7406              		.loc 1 3448 0
 7407 0128 1623     		movs	r3, #22
 7408 012a FB18     		adds	r3, r7, r3
 7409 012c 1B78     		ldrb	r3, [r3]
3449:Generated_Source\PSoC4/SDCard_FS.c **** }
 7410              		.loc 1 3449 0
 7411 012e 1800     		movs	r0, r3
 7412 0130 BD46     		mov	sp, r7
 7413 0132 07B0     		add	sp, sp, #28
 7414              		@ sp needed
 7415 0134 90BD     		pop	{r4, r7, pc}
 7416              	.L429:
 7417 0136 C046     		.align	2
 7418              	.L428:
 7419 0138 00000000 		.word	SDCard_CurStart
 7420 013c 00000000 		.word	SDCard_CurDir
 7421 0140 00000000 		.word	SDCard_FatEntrySize
 7422 0144 00000000 		.word	SDCard_CurFat
 7423 0148 00000000 		.word	SDCard_CurSize
 7424 014c 00000000 		.word	SDCard_CurOffset
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 193


 7425 0150 00000000 		.word	SDCard_CurSect
 7426              		.cfi_endproc
 7427              	.LFE86:
 7428              		.size	SDCard_FileZero, .-SDCard_FileZero
 7429              		.section	.text.SDCard_FatReclaim,"ax",%progbits
 7430              		.align	2
 7431              		.global	SDCard_FatReclaim
 7432              		.code	16
 7433              		.thumb_func
 7434              		.type	SDCard_FatReclaim, %function
 7435              	SDCard_FatReclaim:
 7436              	.LFB87:
3450:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3451:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3452:Generated_Source\PSoC4/SDCard_FS.c **** 
3453:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3454:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_FatReclaim(ulong FirstFat)
3455:Generated_Source\PSoC4/SDCard_FS.c **** //                  uchar SDCard_FatReclaim(uint FirstFat)
3456:Generated_Source\PSoC4/SDCard_FS.c **** //
3457:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3458:Generated_Source\PSoC4/SDCard_FS.c **** //   Zero FAT chain starting at first FAT entry
3459:Generated_Source\PSoC4/SDCard_FS.c **** //
3460:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3461:Generated_Source\PSoC4/SDCard_FS.c **** //
3462:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3463:Generated_Source\PSoC4/SDCard_FS.c **** //    FirstFat => Top of FAT chain to clear
3464:Generated_Source\PSoC4/SDCard_FS.c **** //
3465:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3466:Generated_Source\PSoC4/SDCard_FS.c **** //    Always 0  // REVIEW check this out.
3467:Generated_Source\PSoC4/SDCard_FS.c **** //
3468:Generated_Source\PSoC4/SDCard_FS.c **** //
3469:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3470:Generated_Source\PSoC4/SDCard_FS.c **** //
3471:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3472:Generated_Source\PSoC4/SDCard_FS.c **** //
3473:Generated_Source\PSoC4/SDCard_FS.c **** //
3474:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3475:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3476:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3477:Generated_Source\PSoC4/SDCard_FS.c **** 
3478:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3479:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_FatReclaim(ulong FirstFat)
3480:Generated_Source\PSoC4/SDCard_FS.c **** #else
3481:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_FatReclaim(uint FirstFat)
3482:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3483:Generated_Source\PSoC4/SDCard_FS.c **** {
 7437              		.loc 1 3483 0
 7438              		.cfi_startproc
 7439              		@ args = 0, pretend = 0, frame = 24
 7440              		@ frame_needed = 1, uses_anonymous_args = 0
 7441 0000 80B5     		push	{r7, lr}
 7442              		.cfi_def_cfa_offset 8
 7443              		.cfi_offset 7, -8
 7444              		.cfi_offset 14, -4
 7445 0002 86B0     		sub	sp, sp, #24
 7446              		.cfi_def_cfa_offset 32
 7447 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 194


 7448              		.cfi_def_cfa_register 7
 7449 0006 7860     		str	r0, [r7, #4]
3484:Generated_Source\PSoC4/SDCard_FS.c ****    
3485:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3486:Generated_Source\PSoC4/SDCard_FS.c ****    ulong NextEntry = 0;   // Start with next entry cleared
 7450              		.loc 1 3486 0
 7451 0008 0023     		movs	r3, #0
 7452 000a 7B61     		str	r3, [r7, #20]
3487:Generated_Source\PSoC4/SDCard_FS.c **** #else
3488:Generated_Source\PSoC4/SDCard_FS.c ****    uint NextEntry = 0;    // Start with next entry cleared
3489:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3490:Generated_Source\PSoC4/SDCard_FS.c ****    uint  Offset;          // Temp Buffer offset
3491:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;               // Temp counter
3492:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;          // Create a temporary pointer for FAT entry in the sector
3493:Generated_Source\PSoC4/SDCard_FS.c **** 
3494:Generated_Source\PSoC4/SDCard_FS.c ****    // Figure out the current sector address the FAT entry is in and read it into the buffer
3495:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_ReadFatSect(FirstFat); // Read FAT sector
 7453              		.loc 1 3495 0
 7454 000c 7B68     		ldr	r3, [r7, #4]
 7455 000e 1800     		movs	r0, r3
 7456 0010 FFF7FEFF 		bl	SDCard_ReadFatSect
3496:Generated_Source\PSoC4/SDCard_FS.c **** 
3497:Generated_Source\PSoC4/SDCard_FS.c ****    while(NextEntry != SDCard_FatEnd)
 7457              		.loc 1 3497 0
 7458 0014 6AE0     		b	.L431
 7459              	.L437:
3498:Generated_Source\PSoC4/SDCard_FS.c ****    {
3499:Generated_Source\PSoC4/SDCard_FS.c ****       // Get next entry and zero current entry
3500:Generated_Source\PSoC4/SDCard_FS.c **** 
3501:Generated_Source\PSoC4/SDCard_FS.c ****       // Figure out the current buffer offset
3502:Generated_Source\PSoC4/SDCard_FS.c ****       Offset = ( (uint)((FirstFat*SDCard_FatEntrySize) & 0x1FF) );
 7460              		.loc 1 3502 0
 7461 0016 3A4B     		ldr	r3, .L439
 7462 0018 1B78     		ldrb	r3, [r3]
 7463 001a 1A00     		movs	r2, r3
 7464 001c 7B68     		ldr	r3, [r7, #4]
 7465 001e 5343     		muls	r3, r2
 7466 0020 DB05     		lsls	r3, r3, #23
 7467 0022 DB0D     		lsrs	r3, r3, #23
 7468 0024 FB60     		str	r3, [r7, #12]
3503:Generated_Source\PSoC4/SDCard_FS.c **** 
3504:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr = SDCard_GetBuffPtr(Offset);         // Get the buffer pointer offset
 7469              		.loc 1 3504 0
 7470 0026 FB68     		ldr	r3, [r7, #12]
 7471 0028 1800     		movs	r0, r3
 7472 002a FFF7FEFF 		bl	SDCard_GetBuffPtr
 7473 002e 0300     		movs	r3, r0
 7474 0030 BB60     		str	r3, [r7, #8]
3505:Generated_Source\PSoC4/SDCard_FS.c ****       // Convert the FAT entry to a long
3506:Generated_Source\PSoC4/SDCard_FS.c **** 
3507:Generated_Source\PSoC4/SDCard_FS.c ****       NextEntry = 0;                     // Clear before beginning
 7475              		.loc 1 3507 0
 7476 0032 0023     		movs	r3, #0
 7477 0034 7B61     		str	r3, [r7, #20]
3508:Generated_Source\PSoC4/SDCard_FS.c ****       for(x=1; x<=SDCard_FatEntrySize; x++)
 7478              		.loc 1 3508 0
 7479 0036 1323     		movs	r3, #19
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 195


 7480 0038 FB18     		adds	r3, r7, r3
 7481 003a 0122     		movs	r2, #1
 7482 003c 1A70     		strb	r2, [r3]
 7483 003e 24E0     		b	.L432
 7484              	.L433:
3509:Generated_Source\PSoC4/SDCard_FS.c ****       {
3510:Generated_Source\PSoC4/SDCard_FS.c ****          NextEntry <<=8;                    // Shift value up 8 bits
 7485              		.loc 1 3510 0 discriminator 3
 7486 0040 7B69     		ldr	r3, [r7, #20]
 7487 0042 1B02     		lsls	r3, r3, #8
 7488 0044 7B61     		str	r3, [r7, #20]
3511:Generated_Source\PSoC4/SDCard_FS.c ****          NextEntry += Dptr[SDCard_FatEntrySize-x]; // Add in the next byte (highest first)
 7489              		.loc 1 3511 0 discriminator 3
 7490 0046 2E4B     		ldr	r3, .L439
 7491 0048 1B78     		ldrb	r3, [r3]
 7492 004a 1A00     		movs	r2, r3
 7493 004c 1323     		movs	r3, #19
 7494 004e FB18     		adds	r3, r7, r3
 7495 0050 1B78     		ldrb	r3, [r3]
 7496 0052 D31A     		subs	r3, r2, r3
 7497 0054 1A00     		movs	r2, r3
 7498 0056 BB68     		ldr	r3, [r7, #8]
 7499 0058 9B18     		adds	r3, r3, r2
 7500 005a 1B78     		ldrb	r3, [r3]
 7501 005c 1A00     		movs	r2, r3
 7502 005e 7B69     		ldr	r3, [r7, #20]
 7503 0060 9B18     		adds	r3, r3, r2
 7504 0062 7B61     		str	r3, [r7, #20]
3512:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[SDCard_FatEntrySize-x] = 0;          // zero the buffer entry
 7505              		.loc 1 3512 0 discriminator 3
 7506 0064 264B     		ldr	r3, .L439
 7507 0066 1B78     		ldrb	r3, [r3]
 7508 0068 1A00     		movs	r2, r3
 7509 006a 1323     		movs	r3, #19
 7510 006c FB18     		adds	r3, r7, r3
 7511 006e 1B78     		ldrb	r3, [r3]
 7512 0070 D31A     		subs	r3, r2, r3
 7513 0072 1A00     		movs	r2, r3
 7514 0074 BB68     		ldr	r3, [r7, #8]
 7515 0076 9B18     		adds	r3, r3, r2
 7516 0078 0022     		movs	r2, #0
 7517 007a 1A70     		strb	r2, [r3]
3508:Generated_Source\PSoC4/SDCard_FS.c ****       {
 7518              		.loc 1 3508 0 discriminator 3
 7519 007c 1323     		movs	r3, #19
 7520 007e FB18     		adds	r3, r7, r3
 7521 0080 1A78     		ldrb	r2, [r3]
 7522 0082 1323     		movs	r3, #19
 7523 0084 FB18     		adds	r3, r7, r3
 7524 0086 0132     		adds	r2, r2, #1
 7525 0088 1A70     		strb	r2, [r3]
 7526              	.L432:
3508:Generated_Source\PSoC4/SDCard_FS.c ****       {
 7527              		.loc 1 3508 0 is_stmt 0 discriminator 1
 7528 008a 1D4B     		ldr	r3, .L439
 7529 008c 1B78     		ldrb	r3, [r3]
 7530 008e 1322     		movs	r2, #19
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 196


 7531 0090 BA18     		adds	r2, r7, r2
 7532 0092 1278     		ldrb	r2, [r2]
 7533 0094 9A42     		cmp	r2, r3
 7534 0096 D3D9     		bls	.L433
3513:Generated_Source\PSoC4/SDCard_FS.c ****       }
3514:Generated_Source\PSoC4/SDCard_FS.c **** 
3515:Generated_Source\PSoC4/SDCard_FS.c ****       // If next entry is FatEnd or out of sector - write buffers to each copy of FAT
3516:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3517:Generated_Source\PSoC4/SDCard_FS.c ****       if( (NextEntry == SDCard_FatEnd)||(((FirstFat*SDCard_FatEntrySize)&0xFFFFFE00) != ((NextEntry
 7535              		.loc 1 3517 0 is_stmt 1
 7536 0098 1A4B     		ldr	r3, .L439+4
 7537 009a 1B68     		ldr	r3, [r3]
 7538 009c 7A69     		ldr	r2, [r7, #20]
 7539 009e 9A42     		cmp	r2, r3
 7540 00a0 0DD0     		beq	.L434
 7541              		.loc 1 3517 0 is_stmt 0 discriminator 1
 7542 00a2 174B     		ldr	r3, .L439
 7543 00a4 1B78     		ldrb	r3, [r3]
 7544 00a6 1A00     		movs	r2, r3
 7545 00a8 7B68     		ldr	r3, [r7, #4]
 7546 00aa 5A43     		muls	r2, r3
 7547 00ac 144B     		ldr	r3, .L439
 7548 00ae 1B78     		ldrb	r3, [r3]
 7549 00b0 1900     		movs	r1, r3
 7550 00b2 7B69     		ldr	r3, [r7, #20]
 7551 00b4 4B43     		muls	r3, r1
 7552 00b6 5340     		eors	r3, r2
 7553 00b8 5B0A     		lsrs	r3, r3, #9
 7554 00ba 5B02     		lsls	r3, r3, #9
 7555 00bc 0CD0     		beq	.L435
 7556              	.L434:
3518:Generated_Source\PSoC4/SDCard_FS.c **** #else
3519:Generated_Source\PSoC4/SDCard_FS.c ****       if( (NextEntry == SDCard_FatEnd)||(((FirstFat*SDCard_FatEntrySize)&0xFE00) != ((NextEntry*SDC
3520:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3521:Generated_Source\PSoC4/SDCard_FS.c ****       {
3522:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_WriteFatSect(FirstFat);            // Update current FAT sectors
 7557              		.loc 1 3522 0 is_stmt 1
 7558 00be 7B68     		ldr	r3, [r7, #4]
 7559 00c0 1800     		movs	r0, r3
 7560 00c2 FFF7FEFF 		bl	SDCard_WriteFatSect
3523:Generated_Source\PSoC4/SDCard_FS.c ****          
3524:Generated_Source\PSoC4/SDCard_FS.c ****          if(NextEntry != SDCard_FatEnd)
 7561              		.loc 1 3524 0
 7562 00c6 0F4B     		ldr	r3, .L439+4
 7563 00c8 1B68     		ldr	r3, [r3]
 7564 00ca 7A69     		ldr	r2, [r7, #20]
 7565 00cc 9A42     		cmp	r2, r3
 7566 00ce 03D0     		beq	.L435
3525:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_ReadFatSect(NextEntry);         // Read new FAT sector
 7567              		.loc 1 3525 0
 7568 00d0 7B69     		ldr	r3, [r7, #20]
 7569 00d2 1800     		movs	r0, r3
 7570 00d4 FFF7FEFF 		bl	SDCard_ReadFatSect
 7571              	.L435:
3526:Generated_Source\PSoC4/SDCard_FS.c ****       }
3527:Generated_Source\PSoC4/SDCard_FS.c ****       if(FirstFat < SDCard_EmptyFat)               // Is the deleted block at a lower address than 
 7572              		.loc 1 3527 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 197


 7573 00d8 0B4B     		ldr	r3, .L439+8
 7574 00da 1B68     		ldr	r3, [r3]
 7575 00dc 7A68     		ldr	r2, [r7, #4]
 7576 00de 9A42     		cmp	r2, r3
 7577 00e0 02D2     		bcs	.L436
3528:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_EmptyFat = FirstFat;               // Yes, update start of empty FAT entry search  
 7578              		.loc 1 3528 0
 7579 00e2 094B     		ldr	r3, .L439+8
 7580 00e4 7A68     		ldr	r2, [r7, #4]
 7581 00e6 1A60     		str	r2, [r3]
 7582              	.L436:
3529:Generated_Source\PSoC4/SDCard_FS.c ****       FirstFat = NextEntry;                 // Set Next entry equal to current entry
 7583              		.loc 1 3529 0
 7584 00e8 7B69     		ldr	r3, [r7, #20]
 7585 00ea 7B60     		str	r3, [r7, #4]
 7586              	.L431:
3497:Generated_Source\PSoC4/SDCard_FS.c ****    {
 7587              		.loc 1 3497 0
 7588 00ec 054B     		ldr	r3, .L439+4
 7589 00ee 1B68     		ldr	r3, [r3]
 7590 00f0 7A69     		ldr	r2, [r7, #20]
 7591 00f2 9A42     		cmp	r2, r3
 7592 00f4 8FD1     		bne	.L437
3530:Generated_Source\PSoC4/SDCard_FS.c ****    }
3531:Generated_Source\PSoC4/SDCard_FS.c ****    return(0);
 7593              		.loc 1 3531 0
 7594 00f6 0023     		movs	r3, #0
3532:Generated_Source\PSoC4/SDCard_FS.c **** }
 7595              		.loc 1 3532 0
 7596 00f8 1800     		movs	r0, r3
 7597 00fa BD46     		mov	sp, r7
 7598 00fc 06B0     		add	sp, sp, #24
 7599              		@ sp needed
 7600 00fe 80BD     		pop	{r7, pc}
 7601              	.L440:
 7602              		.align	2
 7603              	.L439:
 7604 0100 00000000 		.word	SDCard_FatEntrySize
 7605 0104 00000000 		.word	SDCard_FatEnd
 7606 0108 00000000 		.word	SDCard_EmptyFat
 7607              		.cfi_endproc
 7608              	.LFE87:
 7609              		.size	SDCard_FatReclaim, .-SDCard_FatReclaim
 7610              		.section	.text.SDCard_AddFat,"ax",%progbits
 7611              		.align	2
 7612              		.global	SDCard_AddFat
 7613              		.code	16
 7614              		.thumb_func
 7615              		.type	SDCard_AddFat, %function
 7616              	SDCard_AddFat:
 7617              	.LFB88:
3533:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3534:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3535:Generated_Source\PSoC4/SDCard_FS.c **** 
3536:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3537:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_AddFat(uchar Fptr)
3538:Generated_Source\PSoC4/SDCard_FS.c **** //
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 198


3539:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3540:Generated_Source\PSoC4/SDCard_FS.c **** //   Add a new FAT entry to the FAT chain (or create it)
3541:Generated_Source\PSoC4/SDCard_FS.c **** //
3542:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3543:Generated_Source\PSoC4/SDCard_FS.c **** //
3544:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3545:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3546:Generated_Source\PSoC4/SDCard_FS.c **** //
3547:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3548:Generated_Source\PSoC4/SDCard_FS.c **** //    Always 0  // REVIEW check this out.
3549:Generated_Source\PSoC4/SDCard_FS.c **** //
3550:Generated_Source\PSoC4/SDCard_FS.c **** //
3551:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3552:Generated_Source\PSoC4/SDCard_FS.c **** //
3553:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3554:Generated_Source\PSoC4/SDCard_FS.c **** //
3555:Generated_Source\PSoC4/SDCard_FS.c **** //
3556:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3557:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3558:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3559:Generated_Source\PSoC4/SDCard_FS.c **** 
3560:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_AddFat(uchar Fptr)
3561:Generated_Source\PSoC4/SDCard_FS.c **** {
 7618              		.loc 1 3561 0
 7619              		.cfi_startproc
 7620              		@ args = 0, pretend = 0, frame = 24
 7621              		@ frame_needed = 1, uses_anonymous_args = 0
 7622 0000 90B5     		push	{r4, r7, lr}
 7623              		.cfi_def_cfa_offset 12
 7624              		.cfi_offset 4, -12
 7625              		.cfi_offset 7, -8
 7626              		.cfi_offset 14, -4
 7627 0002 87B0     		sub	sp, sp, #28
 7628              		.cfi_def_cfa_offset 40
 7629 0004 00AF     		add	r7, sp, #0
 7630              		.cfi_def_cfa_register 7
 7631 0006 0200     		movs	r2, r0
 7632 0008 FB1D     		adds	r3, r7, #7
 7633 000a 1A70     		strb	r2, [r3]
3562:Generated_Source\PSoC4/SDCard_FS.c ****    // Add a new FAT entry to the FAT chain (or create it)
3563:Generated_Source\PSoC4/SDCard_FS.c ****    
3564:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3565:Generated_Source\PSoC4/SDCard_FS.c ****    ulong FreeNum;           // Number of the first available free FAT entry
3566:Generated_Source\PSoC4/SDCard_FS.c ****    ulong LastNum;           // Number of the last FAT entry  in the existing chain
3567:Generated_Source\PSoC4/SDCard_FS.c **** #else
3568:Generated_Source\PSoC4/SDCard_FS.c ****    uint FreeNum;            // Number of the first available free FAT entry
3569:Generated_Source\PSoC4/SDCard_FS.c ****    uint LastNum;            // Number of the last FAT entry in the existing chain
3570:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3571:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;                 // Temp counter
3572:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;            // Create a temporary pointer for FAT entry in the sector
3573:Generated_Source\PSoC4/SDCard_FS.c **** 
3574:Generated_Source\PSoC4/SDCard_FS.c ****    FreeNum = SDCard_FatTrack(0);   // Get the next free FAT entry
 7634              		.loc 1 3574 0
 7635 000c 0020     		movs	r0, #0
 7636 000e FFF7FEFF 		bl	SDCard_FatTrack
 7637 0012 0300     		movs	r3, r0
 7638 0014 FB60     		str	r3, [r7, #12]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 199


3575:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_EmptyFat = FreeNum +1;   // Increment the empty FAT entry pointer - this one is now used
 7639              		.loc 1 3575 0
 7640 0016 FB68     		ldr	r3, [r7, #12]
 7641 0018 5A1C     		adds	r2, r3, #1
 7642 001a 5F4B     		ldr	r3, .L453
 7643 001c 1A60     		str	r2, [r3]
3576:Generated_Source\PSoC4/SDCard_FS.c **** 
3577:Generated_Source\PSoC4/SDCard_FS.c ****    LastNum = SDCard_LastFat(Fptr); // Get the number for the last FAT entry in the existing chain
 7644              		.loc 1 3577 0
 7645 001e FB1D     		adds	r3, r7, #7
 7646 0020 1B78     		ldrb	r3, [r3]
 7647 0022 1800     		movs	r0, r3
 7648 0024 FFF7FEFF 		bl	SDCard_LastFat
 7649 0028 0300     		movs	r3, r0
 7650 002a BB60     		str	r3, [r7, #8]
3578:Generated_Source\PSoC4/SDCard_FS.c **** 
3579:Generated_Source\PSoC4/SDCard_FS.c ****    // Find out if the file has a FAT chain yet
3580:Generated_Source\PSoC4/SDCard_FS.c ****    if(LastNum == 0)
 7651              		.loc 1 3580 0
 7652 002c BB68     		ldr	r3, [r7, #8]
 7653 002e 002B     		cmp	r3, #0
 7654 0030 32D1     		bne	.L442
3581:Generated_Source\PSoC4/SDCard_FS.c ****    {
3582:Generated_Source\PSoC4/SDCard_FS.c ****       // No Fat chain yet, must create one from scratch
3583:Generated_Source\PSoC4/SDCard_FS.c ****       // Must add the new FAT chain to the file info
3584:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurStart[Fptr] = FreeNum;   // Update the starting FAT entry
 7655              		.loc 1 3584 0
 7656 0032 FB1D     		adds	r3, r7, #7
 7657 0034 1A78     		ldrb	r2, [r3]
 7658 0036 594B     		ldr	r3, .L453+4
 7659 0038 9200     		lsls	r2, r2, #2
 7660 003a F968     		ldr	r1, [r7, #12]
 7661 003c D150     		str	r1, [r2, r3]
3585:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_CurFat[Fptr] = FreeNum;     // Update the current FAT entry
 7662              		.loc 1 3585 0
 7663 003e FB1D     		adds	r3, r7, #7
 7664 0040 1A78     		ldrb	r2, [r3]
 7665 0042 574B     		ldr	r3, .L453+8
 7666 0044 9200     		lsls	r2, r2, #2
 7667 0046 F968     		ldr	r1, [r7, #12]
 7668 0048 D150     		str	r1, [r2, r3]
3586:Generated_Source\PSoC4/SDCard_FS.c ****       
3587:Generated_Source\PSoC4/SDCard_FS.c ****       // Update the directory listing for first file FAT
3588:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr = SDCard_ReadDirSect(Fptr);   // Read in the directory sector
 7669              		.loc 1 3588 0
 7670 004a FB1D     		adds	r3, r7, #7
 7671 004c 1B78     		ldrb	r3, [r3]
 7672 004e 1800     		movs	r0, r3
 7673 0050 FFF7FEFF 		bl	SDCard_ReadDirSect
 7674 0054 0300     		movs	r3, r0
 7675 0056 3B61     		str	r3, [r7, #16]
3589:Generated_Source\PSoC4/SDCard_FS.c ****       
3590:Generated_Source\PSoC4/SDCard_FS.c ****       // Pass the value into the directory
3591:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[0x1A] = ((uchar)(FreeNum));
 7676              		.loc 1 3591 0
 7677 0058 3B69     		ldr	r3, [r7, #16]
 7678 005a 1A33     		adds	r3, r3, #26
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 200


 7679 005c FA68     		ldr	r2, [r7, #12]
 7680 005e D2B2     		uxtb	r2, r2
 7681 0060 1A70     		strb	r2, [r3]
3592:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[0x1B] = ((uchar)(FreeNum >> 8));
 7682              		.loc 1 3592 0
 7683 0062 3B69     		ldr	r3, [r7, #16]
 7684 0064 1B33     		adds	r3, r3, #27
 7685 0066 FA68     		ldr	r2, [r7, #12]
 7686 0068 120A     		lsrs	r2, r2, #8
 7687 006a D2B2     		uxtb	r2, r2
 7688 006c 1A70     		strb	r2, [r3]
3593:Generated_Source\PSoC4/SDCard_FS.c **** 
3594:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3595:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_FatEntrySize == 4)
 7689              		.loc 1 3595 0
 7690 006e 4D4B     		ldr	r3, .L453+12
 7691 0070 1B78     		ldrb	r3, [r3]
 7692 0072 042B     		cmp	r3, #4
 7693 0074 0BD1     		bne	.L443
3596:Generated_Source\PSoC4/SDCard_FS.c ****       {
3597:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[0x14] = ((uchar)(FreeNum >> 16));
 7694              		.loc 1 3597 0
 7695 0076 3B69     		ldr	r3, [r7, #16]
 7696 0078 1433     		adds	r3, r3, #20
 7697 007a FA68     		ldr	r2, [r7, #12]
 7698 007c 120C     		lsrs	r2, r2, #16
 7699 007e D2B2     		uxtb	r2, r2
 7700 0080 1A70     		strb	r2, [r3]
3598:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[0x15] = ((uchar)(FreeNum >> 24));
 7701              		.loc 1 3598 0
 7702 0082 3B69     		ldr	r3, [r7, #16]
 7703 0084 1533     		adds	r3, r3, #21
 7704 0086 FA68     		ldr	r2, [r7, #12]
 7705 0088 120E     		lsrs	r2, r2, #24
 7706 008a D2B2     		uxtb	r2, r2
 7707 008c 1A70     		strb	r2, [r3]
 7708              	.L443:
3599:Generated_Source\PSoC4/SDCard_FS.c ****       }
3600:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3601:Generated_Source\PSoC4/SDCard_FS.c ****       
3602:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_WriteDirSect(Fptr);         // Write the directory sector
 7709              		.loc 1 3602 0
 7710 008e FB1D     		adds	r3, r7, #7
 7711 0090 1B78     		ldrb	r3, [r3]
 7712 0092 1800     		movs	r0, r3
 7713 0094 FFF7FEFF 		bl	SDCard_WriteDirSect
 7714              	.L442:
3603:Generated_Source\PSoC4/SDCard_FS.c ****    }
3604:Generated_Source\PSoC4/SDCard_FS.c ****       
3605:Generated_Source\PSoC4/SDCard_FS.c ****    Dptr = SDCard_ReadFatSect(FreeNum);   // Get the FAT sector buffer
 7715              		.loc 1 3605 0
 7716 0098 FB68     		ldr	r3, [r7, #12]
 7717 009a 1800     		movs	r0, r3
 7718 009c FFF7FEFF 		bl	SDCard_ReadFatSect
 7719 00a0 0300     		movs	r3, r0
 7720 00a2 3B61     		str	r3, [r7, #16]
3606:Generated_Source\PSoC4/SDCard_FS.c ****    
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 201


3607:Generated_Source\PSoC4/SDCard_FS.c ****    // Copy the FAT end into the new FAT entry
3608:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<SDCard_FatEntrySize; x++)
 7721              		.loc 1 3608 0
 7722 00a4 1723     		movs	r3, #23
 7723 00a6 FB18     		adds	r3, r7, r3
 7724 00a8 0022     		movs	r2, #0
 7725 00aa 1A70     		strb	r2, [r3]
 7726 00ac 15E0     		b	.L444
 7727              	.L445:
3609:Generated_Source\PSoC4/SDCard_FS.c ****    {
3610:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[x] = ((uchar)(SDCard_FatEnd >> (x*8)));
 7728              		.loc 1 3610 0 discriminator 3
 7729 00ae 1723     		movs	r3, #23
 7730 00b0 FB18     		adds	r3, r7, r3
 7731 00b2 1B78     		ldrb	r3, [r3]
 7732 00b4 3A69     		ldr	r2, [r7, #16]
 7733 00b6 D218     		adds	r2, r2, r3
 7734 00b8 3B4B     		ldr	r3, .L453+16
 7735 00ba 1968     		ldr	r1, [r3]
 7736 00bc 1723     		movs	r3, #23
 7737 00be FB18     		adds	r3, r7, r3
 7738 00c0 1B78     		ldrb	r3, [r3]
 7739 00c2 DB00     		lsls	r3, r3, #3
 7740 00c4 D940     		lsrs	r1, r1, r3
 7741 00c6 0B00     		movs	r3, r1
 7742 00c8 DBB2     		uxtb	r3, r3
 7743 00ca 1370     		strb	r3, [r2]
3608:Generated_Source\PSoC4/SDCard_FS.c ****    {
 7744              		.loc 1 3608 0 discriminator 3
 7745 00cc 1723     		movs	r3, #23
 7746 00ce FB18     		adds	r3, r7, r3
 7747 00d0 1A78     		ldrb	r2, [r3]
 7748 00d2 1723     		movs	r3, #23
 7749 00d4 FB18     		adds	r3, r7, r3
 7750 00d6 0132     		adds	r2, r2, #1
 7751 00d8 1A70     		strb	r2, [r3]
 7752              	.L444:
3608:Generated_Source\PSoC4/SDCard_FS.c ****    {
 7753              		.loc 1 3608 0 is_stmt 0 discriminator 1
 7754 00da 324B     		ldr	r3, .L453+12
 7755 00dc 1B78     		ldrb	r3, [r3]
 7756 00de 1722     		movs	r2, #23
 7757 00e0 BA18     		adds	r2, r7, r2
 7758 00e2 1278     		ldrb	r2, [r2]
 7759 00e4 9A42     		cmp	r2, r3
 7760 00e6 E2D3     		bcc	.L445
3611:Generated_Source\PSoC4/SDCard_FS.c ****    }
3612:Generated_Source\PSoC4/SDCard_FS.c **** 
3613:Generated_Source\PSoC4/SDCard_FS.c ****    if(LastNum == 0)               // Is there an old value to update?
 7761              		.loc 1 3613 0 is_stmt 1
 7762 00e8 BB68     		ldr	r3, [r7, #8]
 7763 00ea 002B     		cmp	r3, #0
 7764 00ec 04D1     		bne	.L446
3614:Generated_Source\PSoC4/SDCard_FS.c ****    {
3615:Generated_Source\PSoC4/SDCard_FS.c ****       // No, Write out the current buffer
3616:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_WriteFatSect(FreeNum);      // Write FAT sector
 7765              		.loc 1 3616 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 202


 7766 00ee FB68     		ldr	r3, [r7, #12]
 7767 00f0 1800     		movs	r0, r3
 7768 00f2 FFF7FEFF 		bl	SDCard_WriteFatSect
 7769 00f6 4AE0     		b	.L447
 7770              	.L446:
3617:Generated_Source\PSoC4/SDCard_FS.c ****    }
3618:Generated_Source\PSoC4/SDCard_FS.c ****    else
3619:Generated_Source\PSoC4/SDCard_FS.c ****    {
3620:Generated_Source\PSoC4/SDCard_FS.c ****       // Yes, Need to update old FAT entry
3621:Generated_Source\PSoC4/SDCard_FS.c ****       // Is the new FAT in the same sector?
3622:Generated_Source\PSoC4/SDCard_FS.c ****       if(SDCard_GetFatAddr(LastNum) != SDCard_GetFatAddr(FreeNum))
 7771              		.loc 1 3622 0
 7772 00f8 BB68     		ldr	r3, [r7, #8]
 7773 00fa 1800     		movs	r0, r3
 7774 00fc FFF7FEFF 		bl	SDCard_GetFatAddr
 7775 0100 0400     		movs	r4, r0
 7776 0102 FB68     		ldr	r3, [r7, #12]
 7777 0104 1800     		movs	r0, r3
 7778 0106 FFF7FEFF 		bl	SDCard_GetFatAddr
 7779 010a 0300     		movs	r3, r0
 7780 010c 9C42     		cmp	r4, r3
 7781 010e 0AD0     		beq	.L448
3623:Generated_Source\PSoC4/SDCard_FS.c ****       {
3624:Generated_Source\PSoC4/SDCard_FS.c ****          // No, Write out the current buffer and open the new one
3625:Generated_Source\PSoC4/SDCard_FS.c ****          SDCard_WriteFatSect(FreeNum);         // Write FAT sector
 7782              		.loc 1 3625 0
 7783 0110 FB68     		ldr	r3, [r7, #12]
 7784 0112 1800     		movs	r0, r3
 7785 0114 FFF7FEFF 		bl	SDCard_WriteFatSect
3626:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr = SDCard_ReadFatSect(LastNum);   // Read new FAT sector
 7786              		.loc 1 3626 0
 7787 0118 BB68     		ldr	r3, [r7, #8]
 7788 011a 1800     		movs	r0, r3
 7789 011c FFF7FEFF 		bl	SDCard_ReadFatSect
 7790 0120 0300     		movs	r3, r0
 7791 0122 3B61     		str	r3, [r7, #16]
 7792 0124 0BE0     		b	.L449
 7793              	.L448:
3627:Generated_Source\PSoC4/SDCard_FS.c ****       }
3628:Generated_Source\PSoC4/SDCard_FS.c ****       else
3629:Generated_Source\PSoC4/SDCard_FS.c ****       {
3630:Generated_Source\PSoC4/SDCard_FS.c ****          // Yes still in same buffer, update the pointer
3631:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr = SDCard_GetBuffPtr((uint)((LastNum*SDCard_FatEntrySize) & 0x1FF));
 7794              		.loc 1 3631 0
 7795 0126 1F4B     		ldr	r3, .L453+12
 7796 0128 1B78     		ldrb	r3, [r3]
 7797 012a 1A00     		movs	r2, r3
 7798 012c BB68     		ldr	r3, [r7, #8]
 7799 012e 5343     		muls	r3, r2
 7800 0130 DB05     		lsls	r3, r3, #23
 7801 0132 DB0D     		lsrs	r3, r3, #23
 7802 0134 1800     		movs	r0, r3
 7803 0136 FFF7FEFF 		bl	SDCard_GetBuffPtr
 7804 013a 0300     		movs	r3, r0
 7805 013c 3B61     		str	r3, [r7, #16]
 7806              	.L449:
3632:Generated_Source\PSoC4/SDCard_FS.c ****       }
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 203


3633:Generated_Source\PSoC4/SDCard_FS.c ****       
3634:Generated_Source\PSoC4/SDCard_FS.c ****       // Copy the new FAT entry into the old FAT entry
3635:Generated_Source\PSoC4/SDCard_FS.c ****       for(x=0; x<SDCard_FatEntrySize ; x++)
 7807              		.loc 1 3635 0
 7808 013e 1723     		movs	r3, #23
 7809 0140 FB18     		adds	r3, r7, r3
 7810 0142 0022     		movs	r2, #0
 7811 0144 1A70     		strb	r2, [r3]
 7812 0146 14E0     		b	.L450
 7813              	.L451:
3636:Generated_Source\PSoC4/SDCard_FS.c ****       {
3637:Generated_Source\PSoC4/SDCard_FS.c ****          Dptr[x] = ((uchar)(FreeNum >> (x*8)));
 7814              		.loc 1 3637 0 discriminator 3
 7815 0148 1723     		movs	r3, #23
 7816 014a FB18     		adds	r3, r7, r3
 7817 014c 1B78     		ldrb	r3, [r3]
 7818 014e 3A69     		ldr	r2, [r7, #16]
 7819 0150 D318     		adds	r3, r2, r3
 7820 0152 1722     		movs	r2, #23
 7821 0154 BA18     		adds	r2, r7, r2
 7822 0156 1278     		ldrb	r2, [r2]
 7823 0158 D200     		lsls	r2, r2, #3
 7824 015a F968     		ldr	r1, [r7, #12]
 7825 015c D140     		lsrs	r1, r1, r2
 7826 015e 0A00     		movs	r2, r1
 7827 0160 D2B2     		uxtb	r2, r2
 7828 0162 1A70     		strb	r2, [r3]
3635:Generated_Source\PSoC4/SDCard_FS.c ****       {
 7829              		.loc 1 3635 0 discriminator 3
 7830 0164 1723     		movs	r3, #23
 7831 0166 FB18     		adds	r3, r7, r3
 7832 0168 1A78     		ldrb	r2, [r3]
 7833 016a 1723     		movs	r3, #23
 7834 016c FB18     		adds	r3, r7, r3
 7835 016e 0132     		adds	r2, r2, #1
 7836 0170 1A70     		strb	r2, [r3]
 7837              	.L450:
3635:Generated_Source\PSoC4/SDCard_FS.c ****       {
 7838              		.loc 1 3635 0 is_stmt 0 discriminator 1
 7839 0172 0C4B     		ldr	r3, .L453+12
 7840 0174 1B78     		ldrb	r3, [r3]
 7841 0176 1722     		movs	r2, #23
 7842 0178 BA18     		adds	r2, r7, r2
 7843 017a 1278     		ldrb	r2, [r2]
 7844 017c 9A42     		cmp	r2, r3
 7845 017e E3D3     		bcc	.L451
3638:Generated_Source\PSoC4/SDCard_FS.c ****       }
3639:Generated_Source\PSoC4/SDCard_FS.c ****       
3640:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_WriteFatSect(LastNum);         // Write FAT sector
 7846              		.loc 1 3640 0 is_stmt 1
 7847 0180 BB68     		ldr	r3, [r7, #8]
 7848 0182 1800     		movs	r0, r3
 7849 0184 FFF7FEFF 		bl	SDCard_WriteFatSect
3641:Generated_Source\PSoC4/SDCard_FS.c ****       // Force a flush of the buffer just in case
3642:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_BuffLoc=0;
 7850              		.loc 1 3642 0
 7851 0188 084B     		ldr	r3, .L453+20
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 204


 7852 018a 0022     		movs	r2, #0
 7853 018c 1A60     		str	r2, [r3]
 7854              	.L447:
3643:Generated_Source\PSoC4/SDCard_FS.c ****    }
3644:Generated_Source\PSoC4/SDCard_FS.c ****    return(0);
 7855              		.loc 1 3644 0
 7856 018e 0023     		movs	r3, #0
3645:Generated_Source\PSoC4/SDCard_FS.c **** }
 7857              		.loc 1 3645 0
 7858 0190 1800     		movs	r0, r3
 7859 0192 BD46     		mov	sp, r7
 7860 0194 07B0     		add	sp, sp, #28
 7861              		@ sp needed
 7862 0196 90BD     		pop	{r4, r7, pc}
 7863              	.L454:
 7864              		.align	2
 7865              	.L453:
 7866 0198 00000000 		.word	SDCard_EmptyFat
 7867 019c 00000000 		.word	SDCard_CurStart
 7868 01a0 00000000 		.word	SDCard_CurFat
 7869 01a4 00000000 		.word	SDCard_FatEntrySize
 7870 01a8 00000000 		.word	SDCard_FatEnd
 7871 01ac 00000000 		.word	SDCard_BuffLoc
 7872              		.cfi_endproc
 7873              	.LFE88:
 7874              		.size	SDCard_AddFat, .-SDCard_AddFat
 7875              		.section	.text.SDCard_GetBuffPtr,"ax",%progbits
 7876              		.align	2
 7877              		.global	SDCard_GetBuffPtr
 7878              		.code	16
 7879              		.thumb_func
 7880              		.type	SDCard_GetBuffPtr, %function
 7881              	SDCard_GetBuffPtr:
 7882              	.LFB89:
3646:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3647:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3648:Generated_Source\PSoC4/SDCard_FS.c **** 
3649:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3650:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar * SDCard_GetBuffPtr(uint Offset)
3651:Generated_Source\PSoC4/SDCard_FS.c **** //
3652:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3653:Generated_Source\PSoC4/SDCard_FS.c **** //   Return the pointer to the read/write buffer indicated by offset
3654:Generated_Source\PSoC4/SDCard_FS.c **** //
3655:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3656:Generated_Source\PSoC4/SDCard_FS.c **** //
3657:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3658:Generated_Source\PSoC4/SDCard_FS.c **** //    Offset => Offset to read/write buffer.
3659:Generated_Source\PSoC4/SDCard_FS.c **** //
3660:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3661:Generated_Source\PSoC4/SDCard_FS.c **** //     Pointer offset.
3662:Generated_Source\PSoC4/SDCard_FS.c **** //
3663:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3664:Generated_Source\PSoC4/SDCard_FS.c **** //
3665:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3666:Generated_Source\PSoC4/SDCard_FS.c **** //
3667:Generated_Source\PSoC4/SDCard_FS.c **** //
3668:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 205


3669:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3670:Generated_Source\PSoC4/SDCard_FS.c **** 
3671:Generated_Source\PSoC4/SDCard_FS.c **** uchar * SDCard_GetBuffPtr(uint Offset)
3672:Generated_Source\PSoC4/SDCard_FS.c **** {
 7883              		.loc 1 3672 0
 7884              		.cfi_startproc
 7885              		@ args = 0, pretend = 0, frame = 16
 7886              		@ frame_needed = 1, uses_anonymous_args = 0
 7887 0000 80B5     		push	{r7, lr}
 7888              		.cfi_def_cfa_offset 8
 7889              		.cfi_offset 7, -8
 7890              		.cfi_offset 14, -4
 7891 0002 84B0     		sub	sp, sp, #16
 7892              		.cfi_def_cfa_offset 24
 7893 0004 00AF     		add	r7, sp, #0
 7894              		.cfi_def_cfa_register 7
 7895 0006 7860     		str	r0, [r7, #4]
3673:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;               // Pointer variable
3674:Generated_Source\PSoC4/SDCard_FS.c ****    
3675:Generated_Source\PSoC4/SDCard_FS.c ****    Offset &= 0x1FF;            // Make sure offset is clean (0-511)
 7896              		.loc 1 3675 0
 7897 0008 7B68     		ldr	r3, [r7, #4]
 7898 000a DB05     		lsls	r3, r3, #23
 7899 000c DB0D     		lsrs	r3, r3, #23
 7900 000e 7B60     		str	r3, [r7, #4]
3676:Generated_Source\PSoC4/SDCard_FS.c **** 
3677:Generated_Source\PSoC4/SDCard_FS.c ****    if((Offset & 0x100)==0)
 7901              		.loc 1 3677 0
 7902 0010 7A68     		ldr	r2, [r7, #4]
 7903 0012 8023     		movs	r3, #128
 7904 0014 5B00     		lsls	r3, r3, #1
 7905 0016 1340     		ands	r3, r2
 7906 0018 05D1     		bne	.L456
3678:Generated_Source\PSoC4/SDCard_FS.c ****    {
3679:Generated_Source\PSoC4/SDCard_FS.c ****       // Figure out offset into buffer 1 and set pointer
3680:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr = &SDCard_Buffer1[Offset];   
 7907              		.loc 1 3680 0
 7908 001a 094B     		ldr	r3, .L459
 7909 001c 1A68     		ldr	r2, [r3]
 7910 001e 7B68     		ldr	r3, [r7, #4]
 7911 0020 D318     		adds	r3, r2, r3
 7912 0022 FB60     		str	r3, [r7, #12]
 7913 0024 06E0     		b	.L457
 7914              	.L456:
3681:Generated_Source\PSoC4/SDCard_FS.c ****    }
3682:Generated_Source\PSoC4/SDCard_FS.c ****    else 
3683:Generated_Source\PSoC4/SDCard_FS.c ****    {
3684:Generated_Source\PSoC4/SDCard_FS.c ****       // Figure out offset into buffer 1 and set pointer
3685:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr = &SDCard_Buffer2[Offset-0x100];   
 7915              		.loc 1 3685 0
 7916 0026 074B     		ldr	r3, .L459+4
 7917 0028 1A68     		ldr	r2, [r3]
 7918 002a 7B68     		ldr	r3, [r7, #4]
 7919 002c 013B     		subs	r3, r3, #1
 7920 002e FF3B     		subs	r3, r3, #255
 7921 0030 D318     		adds	r3, r2, r3
 7922 0032 FB60     		str	r3, [r7, #12]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 206


 7923              	.L457:
3686:Generated_Source\PSoC4/SDCard_FS.c ****    }
3687:Generated_Source\PSoC4/SDCard_FS.c ****    return(Dptr);               // Return the pointer
 7924              		.loc 1 3687 0
 7925 0034 FB68     		ldr	r3, [r7, #12]
3688:Generated_Source\PSoC4/SDCard_FS.c **** }
 7926              		.loc 1 3688 0
 7927 0036 1800     		movs	r0, r3
 7928 0038 BD46     		mov	sp, r7
 7929 003a 04B0     		add	sp, sp, #16
 7930              		@ sp needed
 7931 003c 80BD     		pop	{r7, pc}
 7932              	.L460:
 7933 003e C046     		.align	2
 7934              	.L459:
 7935 0040 00000000 		.word	SDCard_Buffer1
 7936 0044 00000000 		.word	SDCard_Buffer2
 7937              		.cfi_endproc
 7938              	.LFE89:
 7939              		.size	SDCard_GetBuffPtr, .-SDCard_GetBuffPtr
 7940              		.section	.text.SDCard_ReadDirSect,"ax",%progbits
 7941              		.align	2
 7942              		.global	SDCard_ReadDirSect
 7943              		.code	16
 7944              		.thumb_func
 7945              		.type	SDCard_ReadDirSect, %function
 7946              	SDCard_ReadDirSect:
 7947              	.LFB90:
3689:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3690:Generated_Source\PSoC4/SDCard_FS.c **** 
3691:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3692:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   char * SDCard_ReadDirSect(uchar Fptr)
3693:Generated_Source\PSoC4/SDCard_FS.c **** //
3694:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3695:Generated_Source\PSoC4/SDCard_FS.c **** //   Read directory entry sector into buffer and return buffer pointer
3696:Generated_Source\PSoC4/SDCard_FS.c **** //
3697:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3698:Generated_Source\PSoC4/SDCard_FS.c **** //
3699:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3700:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3701:Generated_Source\PSoC4/SDCard_FS.c **** //
3702:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3703:Generated_Source\PSoC4/SDCard_FS.c **** //   Buffer pointer
3704:Generated_Source\PSoC4/SDCard_FS.c **** //
3705:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3706:Generated_Source\PSoC4/SDCard_FS.c **** //
3707:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3708:Generated_Source\PSoC4/SDCard_FS.c **** //
3709:Generated_Source\PSoC4/SDCard_FS.c **** //
3710:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3711:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3712:Generated_Source\PSoC4/SDCard_FS.c **** 
3713:Generated_Source\PSoC4/SDCard_FS.c **** char * SDCard_ReadDirSect(uchar Fptr)
3714:Generated_Source\PSoC4/SDCard_FS.c **** {
 7948              		.loc 1 3714 0
 7949              		.cfi_startproc
 7950              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 207


 7951              		@ frame_needed = 1, uses_anonymous_args = 0
 7952 0000 80B5     		push	{r7, lr}
 7953              		.cfi_def_cfa_offset 8
 7954              		.cfi_offset 7, -8
 7955              		.cfi_offset 14, -4
 7956 0002 84B0     		sub	sp, sp, #16
 7957              		.cfi_def_cfa_offset 24
 7958 0004 00AF     		add	r7, sp, #0
 7959              		.cfi_def_cfa_register 7
 7960 0006 0200     		movs	r2, r0
 7961 0008 FB1D     		adds	r3, r7, #7
 7962 000a 1A70     		strb	r2, [r3]
3715:Generated_Source\PSoC4/SDCard_FS.c ****    uint Offset;                               // Temp for offset value
3716:Generated_Source\PSoC4/SDCard_FS.c ****    
3717:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_ReadSect(SDCard_CurDir[Fptr] & 0xFFFFFE00);       // Read  directory sector into buffers
 7963              		.loc 1 3717 0
 7964 000c FB1D     		adds	r3, r7, #7
 7965 000e 1A78     		ldrb	r2, [r3]
 7966 0010 0C4B     		ldr	r3, .L463
 7967 0012 9200     		lsls	r2, r2, #2
 7968 0014 D358     		ldr	r3, [r2, r3]
 7969 0016 5B0A     		lsrs	r3, r3, #9
 7970 0018 5B02     		lsls	r3, r3, #9
 7971 001a 1800     		movs	r0, r3
 7972 001c FFF7FEFF 		bl	SDCard_ReadSect
3718:Generated_Source\PSoC4/SDCard_FS.c ****    Offset = ((uint)(SDCard_CurDir[Fptr] & 0x1FF));   // Figure out the offset
 7973              		.loc 1 3718 0
 7974 0020 FB1D     		adds	r3, r7, #7
 7975 0022 1A78     		ldrb	r2, [r3]
 7976 0024 074B     		ldr	r3, .L463
 7977 0026 9200     		lsls	r2, r2, #2
 7978 0028 D358     		ldr	r3, [r2, r3]
 7979 002a DB05     		lsls	r3, r3, #23
 7980 002c DB0D     		lsrs	r3, r3, #23
 7981 002e FB60     		str	r3, [r7, #12]
3719:Generated_Source\PSoC4/SDCard_FS.c **** 
3720:Generated_Source\PSoC4/SDCard_FS.c ****    return(SDCard_GetBuffPtr(Offset));                // Return the buffer pointer offset
 7982              		.loc 1 3720 0
 7983 0030 FB68     		ldr	r3, [r7, #12]
 7984 0032 1800     		movs	r0, r3
 7985 0034 FFF7FEFF 		bl	SDCard_GetBuffPtr
 7986 0038 0300     		movs	r3, r0
3721:Generated_Source\PSoC4/SDCard_FS.c **** }
 7987              		.loc 1 3721 0
 7988 003a 1800     		movs	r0, r3
 7989 003c BD46     		mov	sp, r7
 7990 003e 04B0     		add	sp, sp, #16
 7991              		@ sp needed
 7992 0040 80BD     		pop	{r7, pc}
 7993              	.L464:
 7994 0042 C046     		.align	2
 7995              	.L463:
 7996 0044 00000000 		.word	SDCard_CurDir
 7997              		.cfi_endproc
 7998              	.LFE90:
 7999              		.size	SDCard_ReadDirSect, .-SDCard_ReadDirSect
 8000              		.section	.text.SDCard_WriteDirSect,"ax",%progbits
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 208


 8001              		.align	2
 8002              		.global	SDCard_WriteDirSect
 8003              		.code	16
 8004              		.thumb_func
 8005              		.type	SDCard_WriteDirSect, %function
 8006              	SDCard_WriteDirSect:
 8007              	.LFB91:
3722:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3723:Generated_Source\PSoC4/SDCard_FS.c **** 
3724:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3725:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_WriteDirSect(uchar Fptr)
3726:Generated_Source\PSoC4/SDCard_FS.c **** //
3727:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3728:Generated_Source\PSoC4/SDCard_FS.c **** //   Write directory entry sector from the buffer
3729:Generated_Source\PSoC4/SDCard_FS.c **** //
3730:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3731:Generated_Source\PSoC4/SDCard_FS.c **** //
3732:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3733:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3734:Generated_Source\PSoC4/SDCard_FS.c **** //
3735:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
3736:Generated_Source\PSoC4/SDCard_FS.c **** //
3737:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3738:Generated_Source\PSoC4/SDCard_FS.c **** //
3739:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3740:Generated_Source\PSoC4/SDCard_FS.c **** //
3741:Generated_Source\PSoC4/SDCard_FS.c **** //
3742:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3743:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3744:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3745:Generated_Source\PSoC4/SDCard_FS.c **** 
3746:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_WriteDirSect(uchar Fptr)
3747:Generated_Source\PSoC4/SDCard_FS.c **** {
 8008              		.loc 1 3747 0
 8009              		.cfi_startproc
 8010              		@ args = 0, pretend = 0, frame = 8
 8011              		@ frame_needed = 1, uses_anonymous_args = 0
 8012 0000 80B5     		push	{r7, lr}
 8013              		.cfi_def_cfa_offset 8
 8014              		.cfi_offset 7, -8
 8015              		.cfi_offset 14, -4
 8016 0002 82B0     		sub	sp, sp, #8
 8017              		.cfi_def_cfa_offset 16
 8018 0004 00AF     		add	r7, sp, #0
 8019              		.cfi_def_cfa_register 7
 8020 0006 0200     		movs	r2, r0
 8021 0008 FB1D     		adds	r3, r7, #7
 8022 000a 1A70     		strb	r2, [r3]
3748:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteSect(SDCard_CurDir[Fptr] & 0xFFFFFE00);   // Write directory sector from buffers
 8023              		.loc 1 3748 0
 8024 000c FB1D     		adds	r3, r7, #7
 8025 000e 1A78     		ldrb	r2, [r3]
 8026 0010 054B     		ldr	r3, .L466
 8027 0012 9200     		lsls	r2, r2, #2
 8028 0014 D358     		ldr	r3, [r2, r3]
 8029 0016 5B0A     		lsrs	r3, r3, #9
 8030 0018 5B02     		lsls	r3, r3, #9
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 209


 8031 001a 1800     		movs	r0, r3
 8032 001c FFF7FEFF 		bl	SDCard_WriteSect
3749:Generated_Source\PSoC4/SDCard_FS.c **** }
 8033              		.loc 1 3749 0
 8034 0020 C046     		nop
 8035 0022 BD46     		mov	sp, r7
 8036 0024 02B0     		add	sp, sp, #8
 8037              		@ sp needed
 8038 0026 80BD     		pop	{r7, pc}
 8039              	.L467:
 8040              		.align	2
 8041              	.L466:
 8042 0028 00000000 		.word	SDCard_CurDir
 8043              		.cfi_endproc
 8044              	.LFE91:
 8045              		.size	SDCard_WriteDirSect, .-SDCard_WriteDirSect
 8046              		.section	.text.SDCard_ReadFatSect,"ax",%progbits
 8047              		.align	2
 8048              		.global	SDCard_ReadFatSect
 8049              		.code	16
 8050              		.thumb_func
 8051              		.type	SDCard_ReadFatSect, %function
 8052              	SDCard_ReadFatSect:
 8053              	.LFB92:
3750:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3751:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3752:Generated_Source\PSoC4/SDCard_FS.c **** 
3753:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3754:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   char * SDCard_ReadFatSect(ulong Fat)
3755:Generated_Source\PSoC4/SDCard_FS.c **** //                  char * SDCard_ReadFatSect(uint Fat)
3756:Generated_Source\PSoC4/SDCard_FS.c **** //
3757:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3758:Generated_Source\PSoC4/SDCard_FS.c **** //    Read directory entry sector into buffer and return buffer pointer
3759:Generated_Source\PSoC4/SDCard_FS.c **** //
3760:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3761:Generated_Source\PSoC4/SDCard_FS.c **** //
3762:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3763:Generated_Source\PSoC4/SDCard_FS.c **** //    Fat => Sector to read into buffer
3764:Generated_Source\PSoC4/SDCard_FS.c **** //
3765:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3766:Generated_Source\PSoC4/SDCard_FS.c **** //    Buffer pointer offset
3767:Generated_Source\PSoC4/SDCard_FS.c **** //
3768:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3769:Generated_Source\PSoC4/SDCard_FS.c **** //
3770:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3771:Generated_Source\PSoC4/SDCard_FS.c **** //
3772:Generated_Source\PSoC4/SDCard_FS.c **** //
3773:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3774:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3775:Generated_Source\PSoC4/SDCard_FS.c **** 
3776:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3777:Generated_Source\PSoC4/SDCard_FS.c **** char * SDCard_ReadFatSect(ulong Fat)
3778:Generated_Source\PSoC4/SDCard_FS.c **** #else
3779:Generated_Source\PSoC4/SDCard_FS.c **** char * SDCard_ReadFatSect(uint Fat)
3780:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3781:Generated_Source\PSoC4/SDCard_FS.c **** {
 8054              		.loc 1 3781 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 210


 8055              		.cfi_startproc
 8056              		@ args = 0, pretend = 0, frame = 16
 8057              		@ frame_needed = 1, uses_anonymous_args = 0
 8058 0000 80B5     		push	{r7, lr}
 8059              		.cfi_def_cfa_offset 8
 8060              		.cfi_offset 7, -8
 8061              		.cfi_offset 14, -4
 8062 0002 84B0     		sub	sp, sp, #16
 8063              		.cfi_def_cfa_offset 24
 8064 0004 00AF     		add	r7, sp, #0
 8065              		.cfi_def_cfa_register 7
 8066 0006 7860     		str	r0, [r7, #4]
3782:Generated_Source\PSoC4/SDCard_FS.c ****    uint Offset;                                // Temp for offset value
3783:Generated_Source\PSoC4/SDCard_FS.c ****    ulong address;                              // Temp Address variable
3784:Generated_Source\PSoC4/SDCard_FS.c ****    
3785:Generated_Source\PSoC4/SDCard_FS.c ****    address = SDCard_GetFatAddr(Fat);                  // Get the FAT entry address
 8067              		.loc 1 3785 0
 8068 0008 7B68     		ldr	r3, [r7, #4]
 8069 000a 1800     		movs	r0, r3
 8070 000c FFF7FEFF 		bl	SDCard_GetFatAddr
 8071 0010 0300     		movs	r3, r0
 8072 0012 FB60     		str	r3, [r7, #12]
3786:Generated_Source\PSoC4/SDCard_FS.c ****    
3787:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_ReadSect(address + SDCard_Fat1Start);              // Read  FAT sector into buffers
 8073              		.loc 1 3787 0
 8074 0014 0B4B     		ldr	r3, .L470
 8075 0016 1A68     		ldr	r2, [r3]
 8076 0018 FB68     		ldr	r3, [r7, #12]
 8077 001a D318     		adds	r3, r2, r3
 8078 001c 1800     		movs	r0, r3
 8079 001e FFF7FEFF 		bl	SDCard_ReadSect
3788:Generated_Source\PSoC4/SDCard_FS.c ****    Offset = ((uint)((Fat*SDCard_FatEntrySize) & 0x1FF));   // Figure out the offset
 8080              		.loc 1 3788 0
 8081 0022 094B     		ldr	r3, .L470+4
 8082 0024 1B78     		ldrb	r3, [r3]
 8083 0026 1A00     		movs	r2, r3
 8084 0028 7B68     		ldr	r3, [r7, #4]
 8085 002a 5343     		muls	r3, r2
 8086 002c DB05     		lsls	r3, r3, #23
 8087 002e DB0D     		lsrs	r3, r3, #23
 8088 0030 BB60     		str	r3, [r7, #8]
3789:Generated_Source\PSoC4/SDCard_FS.c **** 
3790:Generated_Source\PSoC4/SDCard_FS.c ****    return(SDCard_GetBuffPtr(Offset));                 // Return the buffer pointer offset
 8089              		.loc 1 3790 0
 8090 0032 BB68     		ldr	r3, [r7, #8]
 8091 0034 1800     		movs	r0, r3
 8092 0036 FFF7FEFF 		bl	SDCard_GetBuffPtr
 8093 003a 0300     		movs	r3, r0
3791:Generated_Source\PSoC4/SDCard_FS.c **** }
 8094              		.loc 1 3791 0
 8095 003c 1800     		movs	r0, r3
 8096 003e BD46     		mov	sp, r7
 8097 0040 04B0     		add	sp, sp, #16
 8098              		@ sp needed
 8099 0042 80BD     		pop	{r7, pc}
 8100              	.L471:
 8101              		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 211


 8102              	.L470:
 8103 0044 00000000 		.word	SDCard_Fat1Start
 8104 0048 00000000 		.word	SDCard_FatEntrySize
 8105              		.cfi_endproc
 8106              	.LFE92:
 8107              		.size	SDCard_ReadFatSect, .-SDCard_ReadFatSect
 8108              		.section	.text.SDCard_WriteFatSect,"ax",%progbits
 8109              		.align	2
 8110              		.global	SDCard_WriteFatSect
 8111              		.code	16
 8112              		.thumb_func
 8113              		.type	SDCard_WriteFatSect, %function
 8114              	SDCard_WriteFatSect:
 8115              	.LFB93:
3792:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3793:Generated_Source\PSoC4/SDCard_FS.c **** 
3794:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3795:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_WriteFatSect(ulong Fat)
3796:Generated_Source\PSoC4/SDCard_FS.c **** //                  void SDCard_WriteFatSect(uint Fat)
3797:Generated_Source\PSoC4/SDCard_FS.c **** //
3798:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3799:Generated_Source\PSoC4/SDCard_FS.c **** //   Write sector buffer back into the FAT tables
3800:Generated_Source\PSoC4/SDCard_FS.c **** //
3801:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3802:Generated_Source\PSoC4/SDCard_FS.c **** //
3803:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3804:Generated_Source\PSoC4/SDCard_FS.c **** //    Fat => Sector to write
3805:Generated_Source\PSoC4/SDCard_FS.c **** //
3806:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
3807:Generated_Source\PSoC4/SDCard_FS.c **** //
3808:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3809:Generated_Source\PSoC4/SDCard_FS.c **** //
3810:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3811:Generated_Source\PSoC4/SDCard_FS.c **** //
3812:Generated_Source\PSoC4/SDCard_FS.c **** //
3813:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3814:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3815:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3816:Generated_Source\PSoC4/SDCard_FS.c **** 
3817:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3818:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_WriteFatSect(ulong Fat)
3819:Generated_Source\PSoC4/SDCard_FS.c **** #else
3820:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_WriteFatSect(uint Fat)
3821:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3822:Generated_Source\PSoC4/SDCard_FS.c **** {
 8116              		.loc 1 3822 0
 8117              		.cfi_startproc
 8118              		@ args = 0, pretend = 0, frame = 16
 8119              		@ frame_needed = 1, uses_anonymous_args = 0
 8120 0000 80B5     		push	{r7, lr}
 8121              		.cfi_def_cfa_offset 8
 8122              		.cfi_offset 7, -8
 8123              		.cfi_offset 14, -4
 8124 0002 84B0     		sub	sp, sp, #16
 8125              		.cfi_def_cfa_offset 24
 8126 0004 00AF     		add	r7, sp, #0
 8127              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 212


 8128 0006 7860     		str	r0, [r7, #4]
3823:Generated_Source\PSoC4/SDCard_FS.c ****    ulong address;                       // Temp Address variable
3824:Generated_Source\PSoC4/SDCard_FS.c ****    
3825:Generated_Source\PSoC4/SDCard_FS.c ****    address = SDCard_GetFatAddr(Fat);           // Get the FAT entry address
 8129              		.loc 1 3825 0
 8130 0008 7B68     		ldr	r3, [r7, #4]
 8131 000a 1800     		movs	r0, r3
 8132 000c FFF7FEFF 		bl	SDCard_GetFatAddr
 8133 0010 0300     		movs	r3, r0
 8134 0012 FB60     		str	r3, [r7, #12]
3826:Generated_Source\PSoC4/SDCard_FS.c ****    
3827:Generated_Source\PSoC4/SDCard_FS.c ****    // Write sectors to both copies of the FAT from the buffer
3828:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteSect(address + SDCard_Fat1Start);      // Update current FAT 1 sector
 8135              		.loc 1 3828 0
 8136 0014 084B     		ldr	r3, .L473
 8137 0016 1A68     		ldr	r2, [r3]
 8138 0018 FB68     		ldr	r3, [r7, #12]
 8139 001a D318     		adds	r3, r2, r3
 8140 001c 1800     		movs	r0, r3
 8141 001e FFF7FEFF 		bl	SDCard_WriteSect
3829:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteSect(address + SDCard_Fat2Start);      // Update current FAT 2 sector
 8142              		.loc 1 3829 0
 8143 0022 064B     		ldr	r3, .L473+4
 8144 0024 1A68     		ldr	r2, [r3]
 8145 0026 FB68     		ldr	r3, [r7, #12]
 8146 0028 D318     		adds	r3, r2, r3
 8147 002a 1800     		movs	r0, r3
 8148 002c FFF7FEFF 		bl	SDCard_WriteSect
3830:Generated_Source\PSoC4/SDCard_FS.c **** }
 8149              		.loc 1 3830 0
 8150 0030 C046     		nop
 8151 0032 BD46     		mov	sp, r7
 8152 0034 04B0     		add	sp, sp, #16
 8153              		@ sp needed
 8154 0036 80BD     		pop	{r7, pc}
 8155              	.L474:
 8156              		.align	2
 8157              	.L473:
 8158 0038 00000000 		.word	SDCard_Fat1Start
 8159 003c 00000000 		.word	SDCard_Fat2Start
 8160              		.cfi_endproc
 8161              	.LFE93:
 8162              		.size	SDCard_WriteFatSect, .-SDCard_WriteFatSect
 8163              		.section	.text.SDCard_GetFatAddr,"ax",%progbits
 8164              		.align	2
 8165              		.global	SDCard_GetFatAddr
 8166              		.code	16
 8167              		.thumb_func
 8168              		.type	SDCard_GetFatAddr, %function
 8169              	SDCard_GetFatAddr:
 8170              	.LFB94:
3831:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3832:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3833:Generated_Source\PSoC4/SDCard_FS.c **** 
3834:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3835:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   ulong SDCard_GetFatAddr(ulong Fat)
3836:Generated_Source\PSoC4/SDCard_FS.c **** //                  ulong SDCard_GetFatAddr(uint Fat)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 213


3837:Generated_Source\PSoC4/SDCard_FS.c **** //
3838:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3839:Generated_Source\PSoC4/SDCard_FS.c **** //   Return the sector address for the FAT entry
3840:Generated_Source\PSoC4/SDCard_FS.c **** //
3841:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3842:Generated_Source\PSoC4/SDCard_FS.c **** //
3843:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3844:Generated_Source\PSoC4/SDCard_FS.c **** //   Fat => FAT entry to find sector address
3845:Generated_Source\PSoC4/SDCard_FS.c **** //
3846:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3847:Generated_Source\PSoC4/SDCard_FS.c **** //    Sector address
3848:Generated_Source\PSoC4/SDCard_FS.c **** //
3849:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3850:Generated_Source\PSoC4/SDCard_FS.c **** //
3851:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3852:Generated_Source\PSoC4/SDCard_FS.c **** //
3853:Generated_Source\PSoC4/SDCard_FS.c **** //
3854:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3855:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3856:Generated_Source\PSoC4/SDCard_FS.c **** 
3857:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FAT32
3858:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_GetFatAddr(ulong Fat)
3859:Generated_Source\PSoC4/SDCard_FS.c **** #else
3860:Generated_Source\PSoC4/SDCard_FS.c **** ulong SDCard_GetFatAddr(uint Fat)
3861:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3862:Generated_Source\PSoC4/SDCard_FS.c **** {
 8171              		.loc 1 3862 0
 8172              		.cfi_startproc
 8173              		@ args = 0, pretend = 0, frame = 8
 8174              		@ frame_needed = 1, uses_anonymous_args = 0
 8175 0000 80B5     		push	{r7, lr}
 8176              		.cfi_def_cfa_offset 8
 8177              		.cfi_offset 7, -8
 8178              		.cfi_offset 14, -4
 8179 0002 82B0     		sub	sp, sp, #8
 8180              		.cfi_def_cfa_offset 16
 8181 0004 00AF     		add	r7, sp, #0
 8182              		.cfi_def_cfa_register 7
 8183 0006 7860     		str	r0, [r7, #4]
3863:Generated_Source\PSoC4/SDCard_FS.c ****    return((Fat*SDCard_FatEntrySize) & 0xFFFFFE00);    // Calculate sector offset
 8184              		.loc 1 3863 0
 8185 0008 054B     		ldr	r3, .L477
 8186 000a 1B78     		ldrb	r3, [r3]
 8187 000c 1A00     		movs	r2, r3
 8188 000e 7B68     		ldr	r3, [r7, #4]
 8189 0010 5343     		muls	r3, r2
 8190 0012 5B0A     		lsrs	r3, r3, #9
 8191 0014 5B02     		lsls	r3, r3, #9
3864:Generated_Source\PSoC4/SDCard_FS.c **** }
 8192              		.loc 1 3864 0
 8193 0016 1800     		movs	r0, r3
 8194 0018 BD46     		mov	sp, r7
 8195 001a 02B0     		add	sp, sp, #8
 8196              		@ sp needed
 8197 001c 80BD     		pop	{r7, pc}
 8198              	.L478:
 8199 001e C046     		.align	2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 214


 8200              	.L477:
 8201 0020 00000000 		.word	SDCard_FatEntrySize
 8202              		.cfi_endproc
 8203              	.LFE94:
 8204              		.size	SDCard_GetFatAddr, .-SDCard_GetFatAddr
 8205              		.section	.text.SDCard_UpdateDir,"ax",%progbits
 8206              		.align	2
 8207              		.global	SDCard_UpdateDir
 8208              		.code	16
 8209              		.thumb_func
 8210              		.type	SDCard_UpdateDir, %function
 8211              	SDCard_UpdateDir:
 8212              	.LFB95:
3865:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3866:Generated_Source\PSoC4/SDCard_FS.c **** 
3867:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3868:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_UpdateDir(uchar Fptr)
3869:Generated_Source\PSoC4/SDCard_FS.c **** //
3870:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3871:Generated_Source\PSoC4/SDCard_FS.c **** //   Update the directory entry from the current file info
3872:Generated_Source\PSoC4/SDCard_FS.c **** //   (At this time only attributes and size are changed)
3873:Generated_Source\PSoC4/SDCard_FS.c **** //
3874:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3875:Generated_Source\PSoC4/SDCard_FS.c **** //
3876:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3877:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
3878:Generated_Source\PSoC4/SDCard_FS.c **** //
3879:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
3880:Generated_Source\PSoC4/SDCard_FS.c **** //
3881:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3882:Generated_Source\PSoC4/SDCard_FS.c **** //
3883:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3884:Generated_Source\PSoC4/SDCard_FS.c **** //
3885:Generated_Source\PSoC4/SDCard_FS.c **** //
3886:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3887:Generated_Source\PSoC4/SDCard_FS.c **** 
3888:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3889:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
3890:Generated_Source\PSoC4/SDCard_FS.c **** 
3891:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_UpdateDir(uchar Fptr)
3892:Generated_Source\PSoC4/SDCard_FS.c **** {
 8213              		.loc 1 3892 0
 8214              		.cfi_startproc
 8215              		@ args = 0, pretend = 0, frame = 24
 8216              		@ frame_needed = 1, uses_anonymous_args = 0
 8217 0000 80B5     		push	{r7, lr}
 8218              		.cfi_def_cfa_offset 8
 8219              		.cfi_offset 7, -8
 8220              		.cfi_offset 14, -4
 8221 0002 86B0     		sub	sp, sp, #24
 8222              		.cfi_def_cfa_offset 32
 8223 0004 00AF     		add	r7, sp, #0
 8224              		.cfi_def_cfa_register 7
 8225 0006 0200     		movs	r2, r0
 8226 0008 FB1D     		adds	r3, r7, #7
 8227 000a 1A70     		strb	r2, [r3]
3893:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x;                    // Temp loop variable
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 215


3894:Generated_Source\PSoC4/SDCard_FS.c ****    uchar * Dptr;               // Pointer to directory entry in buffer
3895:Generated_Source\PSoC4/SDCard_FS.c **** 
3896:Generated_Source\PSoC4/SDCard_FS.c ****    ulong TempSize;
3897:Generated_Source\PSoC4/SDCard_FS.c ****    TempSize = SDCard_CurSize[Fptr];
 8228              		.loc 1 3897 0
 8229 000c FB1D     		adds	r3, r7, #7
 8230 000e 1A78     		ldrb	r2, [r3]
 8231 0010 254B     		ldr	r3, .L482
 8232 0012 9200     		lsls	r2, r2, #2
 8233 0014 D358     		ldr	r3, [r2, r3]
 8234 0016 3B61     		str	r3, [r7, #16]
3898:Generated_Source\PSoC4/SDCard_FS.c ****    
3899:Generated_Source\PSoC4/SDCard_FS.c ****    Dptr = SDCard_ReadDirSect(Fptr);   // Read  directory sector into buffers and return pointer
 8235              		.loc 1 3899 0
 8236 0018 FB1D     		adds	r3, r7, #7
 8237 001a 1B78     		ldrb	r3, [r3]
 8238 001c 1800     		movs	r0, r3
 8239 001e FFF7FEFF 		bl	SDCard_ReadDirSect
 8240 0022 0300     		movs	r3, r0
 8241 0024 FB60     		str	r3, [r7, #12]
3900:Generated_Source\PSoC4/SDCard_FS.c **** 
3901:Generated_Source\PSoC4/SDCard_FS.c ****    Dptr[0x0B] = SDCard_CurAttr[Fptr]; // Copy the attribute back to the directory
 8242              		.loc 1 3901 0
 8243 0026 FB68     		ldr	r3, [r7, #12]
 8244 0028 0B33     		adds	r3, r3, #11
 8245 002a FA1D     		adds	r2, r7, #7
 8246 002c 1278     		ldrb	r2, [r2]
 8247 002e 1F49     		ldr	r1, .L482+4
 8248 0030 8A5C     		ldrb	r2, [r1, r2]
 8249 0032 1A70     		strb	r2, [r3]
3902:Generated_Source\PSoC4/SDCard_FS.c ****    
3903:Generated_Source\PSoC4/SDCard_FS.c ****                                // Copy the current size back to the directory
3904:Generated_Source\PSoC4/SDCard_FS.c ****    for(x=0; x<4; x++)
 8250              		.loc 1 3904 0
 8251 0034 1723     		movs	r3, #23
 8252 0036 FB18     		adds	r3, r7, r3
 8253 0038 0022     		movs	r2, #0
 8254 003a 1A70     		strb	r2, [r3]
 8255 003c 1AE0     		b	.L480
 8256              	.L481:
3905:Generated_Source\PSoC4/SDCard_FS.c ****    {
3906:Generated_Source\PSoC4/SDCard_FS.c ****       Dptr[0x1C + x] = ((uchar)(SDCard_CurSize[Fptr]>>(x*8)));
 8257              		.loc 1 3906 0 discriminator 3
 8258 003e 1723     		movs	r3, #23
 8259 0040 FB18     		adds	r3, r7, r3
 8260 0042 1B78     		ldrb	r3, [r3]
 8261 0044 1C33     		adds	r3, r3, #28
 8262 0046 1A00     		movs	r2, r3
 8263 0048 FB68     		ldr	r3, [r7, #12]
 8264 004a 9B18     		adds	r3, r3, r2
 8265 004c FA1D     		adds	r2, r7, #7
 8266 004e 1178     		ldrb	r1, [r2]
 8267 0050 154A     		ldr	r2, .L482
 8268 0052 8900     		lsls	r1, r1, #2
 8269 0054 8958     		ldr	r1, [r1, r2]
 8270 0056 1722     		movs	r2, #23
 8271 0058 BA18     		adds	r2, r7, r2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 216


 8272 005a 1278     		ldrb	r2, [r2]
 8273 005c D200     		lsls	r2, r2, #3
 8274 005e D140     		lsrs	r1, r1, r2
 8275 0060 0A00     		movs	r2, r1
 8276 0062 D2B2     		uxtb	r2, r2
 8277 0064 1A70     		strb	r2, [r3]
3904:Generated_Source\PSoC4/SDCard_FS.c ****    {
 8278              		.loc 1 3904 0 discriminator 3
 8279 0066 1723     		movs	r3, #23
 8280 0068 FB18     		adds	r3, r7, r3
 8281 006a 1A78     		ldrb	r2, [r3]
 8282 006c 1723     		movs	r3, #23
 8283 006e FB18     		adds	r3, r7, r3
 8284 0070 0132     		adds	r2, r2, #1
 8285 0072 1A70     		strb	r2, [r3]
 8286              	.L480:
3904:Generated_Source\PSoC4/SDCard_FS.c ****    {
 8287              		.loc 1 3904 0 is_stmt 0 discriminator 1
 8288 0074 1723     		movs	r3, #23
 8289 0076 FB18     		adds	r3, r7, r3
 8290 0078 1B78     		ldrb	r3, [r3]
 8291 007a 032B     		cmp	r3, #3
 8292 007c DFD9     		bls	.L481
3907:Generated_Source\PSoC4/SDCard_FS.c ****    }
3908:Generated_Source\PSoC4/SDCard_FS.c **** 
3909:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_WriteDirSect(Fptr);         // Write directory sector from buffers
 8293              		.loc 1 3909 0 is_stmt 1
 8294 007e FB1D     		adds	r3, r7, #7
 8295 0080 1B78     		ldrb	r3, [r3]
 8296 0082 1800     		movs	r0, r3
 8297 0084 FFF7FEFF 		bl	SDCard_WriteDirSect
3910:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_FileMode[Fptr]&=0xEF;       // Clear dirty directory flag
 8298              		.loc 1 3910 0
 8299 0088 FB1D     		adds	r3, r7, #7
 8300 008a 1B78     		ldrb	r3, [r3]
 8301 008c FA1D     		adds	r2, r7, #7
 8302 008e 1278     		ldrb	r2, [r2]
 8303 0090 0749     		ldr	r1, .L482+8
 8304 0092 8A5C     		ldrb	r2, [r1, r2]
 8305 0094 1021     		movs	r1, #16
 8306 0096 8A43     		bics	r2, r1
 8307 0098 D1B2     		uxtb	r1, r2
 8308 009a 054A     		ldr	r2, .L482+8
 8309 009c D154     		strb	r1, [r2, r3]
3911:Generated_Source\PSoC4/SDCard_FS.c **** }
 8310              		.loc 1 3911 0
 8311 009e C046     		nop
 8312 00a0 BD46     		mov	sp, r7
 8313 00a2 06B0     		add	sp, sp, #24
 8314              		@ sp needed
 8315 00a4 80BD     		pop	{r7, pc}
 8316              	.L483:
 8317 00a6 C046     		.align	2
 8318              	.L482:
 8319 00a8 00000000 		.word	SDCard_CurSize
 8320 00ac 00000000 		.word	SDCard_CurAttr
 8321 00b0 00000000 		.word	SDCard_FileMode
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 217


 8322              		.cfi_endproc
 8323              	.LFE95:
 8324              		.size	SDCard_UpdateDir, .-SDCard_UpdateDir
 8325              		.section	.text.SDCard_ParseFilename,"ax",%progbits
 8326              		.align	2
 8327              		.global	SDCard_ParseFilename
 8328              		.code	16
 8329              		.thumb_func
 8330              		.type	SDCard_ParseFilename, %function
 8331              	SDCard_ParseFilename:
 8332              	.LFB96:
3912:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3913:Generated_Source\PSoC4/SDCard_FS.c **** #endif
3914:Generated_Source\PSoC4/SDCard_FS.c ****    
3915:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3916:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   uchar SDCard_ParseFilename(uchar * Filename)
3917:Generated_Source\PSoC4/SDCard_FS.c **** //
3918:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
3919:Generated_Source\PSoC4/SDCard_FS.c **** //   Parse the filename string and convert it into 8x3 dir format
3920:Generated_Source\PSoC4/SDCard_FS.c **** //
3921:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3922:Generated_Source\PSoC4/SDCard_FS.c **** //
3923:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
3924:Generated_Source\PSoC4/SDCard_FS.c **** //    Filename => Pointer to string containing file name.
3925:Generated_Source\PSoC4/SDCard_FS.c **** //
3926:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:
3927:Generated_Source\PSoC4/SDCard_FS.c **** //    Pass/Fail status
3928:Generated_Source\PSoC4/SDCard_FS.c **** //
3929:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
3930:Generated_Source\PSoC4/SDCard_FS.c **** //    Note: Filename string must have 13 charcters resevered even 
3931:Generated_Source\PSoC4/SDCard_FS.c **** //          if fewer characters are used (8 + dot + 3 + null = 13)
3932:Generated_Source\PSoC4/SDCard_FS.c **** //
3933:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
3934:Generated_Source\PSoC4/SDCard_FS.c **** //
3935:Generated_Source\PSoC4/SDCard_FS.c **** //
3936:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
3937:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
3938:Generated_Source\PSoC4/SDCard_FS.c **** 
3939:Generated_Source\PSoC4/SDCard_FS.c **** uchar SDCard_ParseFilename(uchar * Filename)
3940:Generated_Source\PSoC4/SDCard_FS.c **** {   
 8333              		.loc 1 3940 0
 8334              		.cfi_startproc
 8335              		@ args = 0, pretend = 0, frame = 16
 8336              		@ frame_needed = 1, uses_anonymous_args = 0
 8337 0000 80B5     		push	{r7, lr}
 8338              		.cfi_def_cfa_offset 8
 8339              		.cfi_offset 7, -8
 8340              		.cfi_offset 14, -4
 8341 0002 84B0     		sub	sp, sp, #16
 8342              		.cfi_def_cfa_offset 24
 8343 0004 00AF     		add	r7, sp, #0
 8344              		.cfi_def_cfa_register 7
 8345 0006 7860     		str	r0, [r7, #4]
3941:Generated_Source\PSoC4/SDCard_FS.c ****          
3942:Generated_Source\PSoC4/SDCard_FS.c ****    uchar x = 0;        // Temp loop variable
 8346              		.loc 1 3942 0
 8347 0008 0F23     		movs	r3, #15
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 218


 8348 000a FB18     		adds	r3, r7, r3
 8349 000c 0022     		movs	r2, #0
 8350 000e 1A70     		strb	r2, [r3]
3943:Generated_Source\PSoC4/SDCard_FS.c ****    uchar y;            // Temp loop variable
3944:Generated_Source\PSoC4/SDCard_FS.c ****    uchar status = 0;   // Temp status
 8351              		.loc 1 3944 0
 8352 0010 0E23     		movs	r3, #14
 8353 0012 FB18     		adds	r3, r7, r3
 8354 0014 0022     		movs	r2, #0
 8355 0016 1A70     		strb	r2, [r3]
3945:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Dot = 0;      // Dot present flag
 8356              		.loc 1 3945 0
 8357 0018 0D23     		movs	r3, #13
 8358 001a FB18     		adds	r3, r7, r3
 8359 001c 0022     		movs	r2, #0
 8360 001e 1A70     		strb	r2, [r3]
3946:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Length;       // String length
3947:Generated_Source\PSoC4/SDCard_FS.c ****    uchar Ext;          // the length of the extension
3948:Generated_Source\PSoC4/SDCard_FS.c **** 
3949:Generated_Source\PSoC4/SDCard_FS.c ****    while(Filename[x] != 0)       // Loop through Filename until null is found
 8361              		.loc 1 3949 0
 8362 0020 3CE0     		b	.L485
 8363              	.L489:
3950:Generated_Source\PSoC4/SDCard_FS.c ****    {
3951:Generated_Source\PSoC4/SDCard_FS.c ****       y = Filename[x];           // Temp store the character as array index is code intensive
 8364              		.loc 1 3951 0
 8365 0022 0F23     		movs	r3, #15
 8366 0024 FB18     		adds	r3, r7, r3
 8367 0026 1B78     		ldrb	r3, [r3]
 8368 0028 7A68     		ldr	r2, [r7, #4]
 8369 002a D218     		adds	r2, r2, r3
 8370 002c 0A23     		movs	r3, #10
 8371 002e FB18     		adds	r3, r7, r3
 8372 0030 1278     		ldrb	r2, [r2]
 8373 0032 1A70     		strb	r2, [r3]
3952:Generated_Source\PSoC4/SDCard_FS.c ****       
3953:Generated_Source\PSoC4/SDCard_FS.c ****       if((y >= 'a')&&(y <= 'z')) //Convert ASCII characters to upper case
 8374              		.loc 1 3953 0
 8375 0034 0A23     		movs	r3, #10
 8376 0036 FB18     		adds	r3, r7, r3
 8377 0038 1B78     		ldrb	r3, [r3]
 8378 003a 602B     		cmp	r3, #96
 8379 003c 12D9     		bls	.L486
 8380              		.loc 1 3953 0 is_stmt 0 discriminator 1
 8381 003e 0A23     		movs	r3, #10
 8382 0040 FB18     		adds	r3, r7, r3
 8383 0042 1B78     		ldrb	r3, [r3]
 8384 0044 7A2B     		cmp	r3, #122
 8385 0046 0DD8     		bhi	.L486
3954:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x] -= 0x20;    // Convert lower to upper case
 8386              		.loc 1 3954 0 is_stmt 1
 8387 0048 0F23     		movs	r3, #15
 8388 004a FB18     		adds	r3, r7, r3
 8389 004c 1B78     		ldrb	r3, [r3]
 8390 004e 7A68     		ldr	r2, [r7, #4]
 8391 0050 D318     		adds	r3, r2, r3
 8392 0052 0F22     		movs	r2, #15
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 219


 8393 0054 BA18     		adds	r2, r7, r2
 8394 0056 1278     		ldrb	r2, [r2]
 8395 0058 7968     		ldr	r1, [r7, #4]
 8396 005a 8A18     		adds	r2, r1, r2
 8397 005c 1278     		ldrb	r2, [r2]
 8398 005e 203A     		subs	r2, r2, #32
 8399 0060 D2B2     		uxtb	r2, r2
 8400 0062 1A70     		strb	r2, [r3]
 8401              	.L486:
3955:Generated_Source\PSoC4/SDCard_FS.c **** 
3956:Generated_Source\PSoC4/SDCard_FS.c ****       if(y == '.')               // Is the a dot character?
 8402              		.loc 1 3956 0
 8403 0064 0A23     		movs	r3, #10
 8404 0066 FB18     		adds	r3, r7, r3
 8405 0068 1B78     		ldrb	r3, [r3]
 8406 006a 2E2B     		cmp	r3, #46
 8407 006c 0FD1     		bne	.L487
3957:Generated_Source\PSoC4/SDCard_FS.c **** 	  {
3958:Generated_Source\PSoC4/SDCard_FS.c ****          if(Dot == 0)            // Yes, Is it the first dot character?
 8408              		.loc 1 3958 0
 8409 006e 0D23     		movs	r3, #13
 8410 0070 FB18     		adds	r3, r7, r3
 8411 0072 1B78     		ldrb	r3, [r3]
 8412 0074 002B     		cmp	r3, #0
 8413 0076 06D1     		bne	.L488
3959:Generated_Source\PSoC4/SDCard_FS.c ****             Dot=x;               // Yes, save the position
 8414              		.loc 1 3959 0
 8415 0078 0D23     		movs	r3, #13
 8416 007a FB18     		adds	r3, r7, r3
 8417 007c 0F22     		movs	r2, #15
 8418 007e BA18     		adds	r2, r7, r2
 8419 0080 1278     		ldrb	r2, [r2]
 8420 0082 1A70     		strb	r2, [r3]
 8421 0084 03E0     		b	.L487
 8422              	.L488:
3960:Generated_Source\PSoC4/SDCard_FS.c ****          else
3961:Generated_Source\PSoC4/SDCard_FS.c ****             status=SDCard_FAIL;         // No, multiple dot characters are illegal
 8423              		.loc 1 3961 0
 8424 0086 0E23     		movs	r3, #14
 8425 0088 FB18     		adds	r3, r7, r3
 8426 008a AA22     		movs	r2, #170
 8427 008c 1A70     		strb	r2, [r3]
 8428              	.L487:
3962:Generated_Source\PSoC4/SDCard_FS.c ****       }
3963:Generated_Source\PSoC4/SDCard_FS.c **** 	  
3964:Generated_Source\PSoC4/SDCard_FS.c ****       x++;                       // Increment count
 8429              		.loc 1 3964 0
 8430 008e 0F23     		movs	r3, #15
 8431 0090 FB18     		adds	r3, r7, r3
 8432 0092 1A78     		ldrb	r2, [r3]
 8433 0094 0F23     		movs	r3, #15
 8434 0096 FB18     		adds	r3, r7, r3
 8435 0098 0132     		adds	r2, r2, #1
 8436 009a 1A70     		strb	r2, [r3]
 8437              	.L485:
3949:Generated_Source\PSoC4/SDCard_FS.c ****    {
 8438              		.loc 1 3949 0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 220


 8439 009c 0F23     		movs	r3, #15
 8440 009e FB18     		adds	r3, r7, r3
 8441 00a0 1B78     		ldrb	r3, [r3]
 8442 00a2 7A68     		ldr	r2, [r7, #4]
 8443 00a4 D318     		adds	r3, r2, r3
 8444 00a6 1B78     		ldrb	r3, [r3]
 8445 00a8 002B     		cmp	r3, #0
 8446 00aa BAD1     		bne	.L489
3965:Generated_Source\PSoC4/SDCard_FS.c ****    }
3966:Generated_Source\PSoC4/SDCard_FS.c **** 
3967:Generated_Source\PSoC4/SDCard_FS.c ****    if(Dot>0)
 8447              		.loc 1 3967 0
 8448 00ac 0D23     		movs	r3, #13
 8449 00ae FB18     		adds	r3, r7, r3
 8450 00b0 1B78     		ldrb	r3, [r3]
 8451 00b2 002B     		cmp	r3, #0
 8452 00b4 12D0     		beq	.L490
3968:Generated_Source\PSoC4/SDCard_FS.c ****    {                             // Figure out file length
3969:Generated_Source\PSoC4/SDCard_FS.c ****       Length = Dot;              // Save filename length (if dot present)
 8453              		.loc 1 3969 0
 8454 00b6 0C23     		movs	r3, #12
 8455 00b8 FB18     		adds	r3, r7, r3
 8456 00ba 0D22     		movs	r2, #13
 8457 00bc BA18     		adds	r2, r7, r2
 8458 00be 1278     		ldrb	r2, [r2]
 8459 00c0 1A70     		strb	r2, [r3]
3970:Generated_Source\PSoC4/SDCard_FS.c ****       Ext = x -(Dot+1);          // Save extension length
 8460              		.loc 1 3970 0
 8461 00c2 0F23     		movs	r3, #15
 8462 00c4 FA18     		adds	r2, r7, r3
 8463 00c6 0D23     		movs	r3, #13
 8464 00c8 FB18     		adds	r3, r7, r3
 8465 00ca 1278     		ldrb	r2, [r2]
 8466 00cc 1B78     		ldrb	r3, [r3]
 8467 00ce D31A     		subs	r3, r2, r3
 8468 00d0 DAB2     		uxtb	r2, r3
 8469 00d2 0B23     		movs	r3, #11
 8470 00d4 FB18     		adds	r3, r7, r3
 8471 00d6 013A     		subs	r2, r2, #1
 8472 00d8 1A70     		strb	r2, [r3]
 8473 00da 09E0     		b	.L491
 8474              	.L490:
3971:Generated_Source\PSoC4/SDCard_FS.c ****    }
3972:Generated_Source\PSoC4/SDCard_FS.c ****    else
3973:Generated_Source\PSoC4/SDCard_FS.c ****    {
3974:Generated_Source\PSoC4/SDCard_FS.c ****       Length=x;                  // Save filename length (no dot present)
 8475              		.loc 1 3974 0
 8476 00dc 0C23     		movs	r3, #12
 8477 00de FB18     		adds	r3, r7, r3
 8478 00e0 0F22     		movs	r2, #15
 8479 00e2 BA18     		adds	r2, r7, r2
 8480 00e4 1278     		ldrb	r2, [r2]
 8481 00e6 1A70     		strb	r2, [r3]
3975:Generated_Source\PSoC4/SDCard_FS.c ****       Ext = 0;                   // No extension
 8482              		.loc 1 3975 0
 8483 00e8 0B23     		movs	r3, #11
 8484 00ea FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 221


 8485 00ec 0022     		movs	r2, #0
 8486 00ee 1A70     		strb	r2, [r3]
 8487              	.L491:
3976:Generated_Source\PSoC4/SDCard_FS.c ****    }
3977:Generated_Source\PSoC4/SDCard_FS.c ****    
3978:Generated_Source\PSoC4/SDCard_FS.c ****    // See if the filename is valid
3979:Generated_Source\PSoC4/SDCard_FS.c **** 
3980:Generated_Source\PSoC4/SDCard_FS.c ****    // Check to make sure the first character is not a null (no string) and is valid upper case char
3981:Generated_Source\PSoC4/SDCard_FS.c ****    if((Filename[0] < 'A')||(Filename[0] > 'Z'))    // Is the first character illegal?
 8488              		.loc 1 3981 0
 8489 00f0 7B68     		ldr	r3, [r7, #4]
 8490 00f2 1B78     		ldrb	r3, [r3]
 8491 00f4 402B     		cmp	r3, #64
 8492 00f6 03D9     		bls	.L492
 8493              		.loc 1 3981 0 is_stmt 0 discriminator 1
 8494 00f8 7B68     		ldr	r3, [r7, #4]
 8495 00fa 1B78     		ldrb	r3, [r3]
 8496 00fc 5A2B     		cmp	r3, #90
 8497 00fe 03D9     		bls	.L493
 8498              	.L492:
3982:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;                               // ERROR - Filename missing or starts wit
 8499              		.loc 1 3982 0 is_stmt 1
 8500 0100 0E23     		movs	r3, #14
 8501 0102 FB18     		adds	r3, r7, r3
 8502 0104 AA22     		movs	r2, #170
 8503 0106 1A70     		strb	r2, [r3]
 8504              	.L493:
3983:Generated_Source\PSoC4/SDCard_FS.c ****    
3984:Generated_Source\PSoC4/SDCard_FS.c ****    // Check to make sure the filename and extension are legal lengths
3985:Generated_Source\PSoC4/SDCard_FS.c ****    if((Length>8)||(Ext>3))       // Are sizes valid?
 8505              		.loc 1 3985 0
 8506 0108 0C23     		movs	r3, #12
 8507 010a FB18     		adds	r3, r7, r3
 8508 010c 1B78     		ldrb	r3, [r3]
 8509 010e 082B     		cmp	r3, #8
 8510 0110 04D8     		bhi	.L494
 8511              		.loc 1 3985 0 is_stmt 0 discriminator 1
 8512 0112 0B23     		movs	r3, #11
 8513 0114 FB18     		adds	r3, r7, r3
 8514 0116 1B78     		ldrb	r3, [r3]
 8515 0118 032B     		cmp	r3, #3
 8516 011a 03D9     		bls	.L495
 8517              	.L494:
3986:Generated_Source\PSoC4/SDCard_FS.c ****       status = SDCard_FAIL;             // No, ERROR - filename or extension too long
 8518              		.loc 1 3986 0 is_stmt 1
 8519 011c 0E23     		movs	r3, #14
 8520 011e FB18     		adds	r3, r7, r3
 8521 0120 AA22     		movs	r2, #170
 8522 0122 1A70     		strb	r2, [r3]
 8523              	.L495:
3987:Generated_Source\PSoC4/SDCard_FS.c **** 
3988:Generated_Source\PSoC4/SDCard_FS.c ****    if(status != SDCard_FAIL)            // If no errors continue, otherwise exit
 8524              		.loc 1 3988 0
 8525 0124 0E23     		movs	r3, #14
 8526 0126 FB18     		adds	r3, r7, r3
 8527 0128 1B78     		ldrb	r3, [r3]
 8528 012a AA2B     		cmp	r3, #170
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 222


 8529 012c 00D1     		bne	.LCB7495
 8530 012e 8CE0     		b	.L496	@long jump
 8531              	.LCB7495:
3989:Generated_Source\PSoC4/SDCard_FS.c ****    {
3990:Generated_Source\PSoC4/SDCard_FS.c ****       if(Ext!=0)                 // If there is an extension, move it to the correct position
 8532              		.loc 1 3990 0
 8533 0130 0B23     		movs	r3, #11
 8534 0132 FB18     		adds	r3, r7, r3
 8535 0134 1B78     		ldrb	r3, [r3]
 8536 0136 002B     		cmp	r3, #0
 8537 0138 4DD0     		beq	.L497
3991:Generated_Source\PSoC4/SDCard_FS.c ****       {
3992:Generated_Source\PSoC4/SDCard_FS.c ****          // Move the extension to the correct position
3993:Generated_Source\PSoC4/SDCard_FS.c ****          if(Dot<8)
 8538              		.loc 1 3993 0
 8539 013a 0D23     		movs	r3, #13
 8540 013c FB18     		adds	r3, r7, r3
 8541 013e 1B78     		ldrb	r3, [r3]
 8542 0140 072B     		cmp	r3, #7
 8543 0142 26D8     		bhi	.L498
3994:Generated_Source\PSoC4/SDCard_FS.c ****          {
3995:Generated_Source\PSoC4/SDCard_FS.c ****             // Extension should be copied from last to first
3996:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=Ext; x>0; x--)
 8544              		.loc 1 3996 0
 8545 0144 0F23     		movs	r3, #15
 8546 0146 FB18     		adds	r3, r7, r3
 8547 0148 0B22     		movs	r2, #11
 8548 014a BA18     		adds	r2, r7, r2
 8549 014c 1278     		ldrb	r2, [r2]
 8550 014e 1A70     		strb	r2, [r3]
 8551 0150 19E0     		b	.L499
 8552              	.L500:
3997:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[7+x]=Filename[Dot+x];
 8553              		.loc 1 3997 0 discriminator 3
 8554 0152 0F23     		movs	r3, #15
 8555 0154 FB18     		adds	r3, r7, r3
 8556 0156 1B78     		ldrb	r3, [r3]
 8557 0158 0733     		adds	r3, r3, #7
 8558 015a 1A00     		movs	r2, r3
 8559 015c 7B68     		ldr	r3, [r7, #4]
 8560 015e 9B18     		adds	r3, r3, r2
 8561 0160 0D22     		movs	r2, #13
 8562 0162 BA18     		adds	r2, r7, r2
 8563 0164 1178     		ldrb	r1, [r2]
 8564 0166 0F22     		movs	r2, #15
 8565 0168 BA18     		adds	r2, r7, r2
 8566 016a 1278     		ldrb	r2, [r2]
 8567 016c 8A18     		adds	r2, r1, r2
 8568 016e 1100     		movs	r1, r2
 8569 0170 7A68     		ldr	r2, [r7, #4]
 8570 0172 5218     		adds	r2, r2, r1
 8571 0174 1278     		ldrb	r2, [r2]
 8572 0176 1A70     		strb	r2, [r3]
3996:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[7+x]=Filename[Dot+x];
 8573              		.loc 1 3996 0 discriminator 3
 8574 0178 0F23     		movs	r3, #15
 8575 017a FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 223


 8576 017c 1A78     		ldrb	r2, [r3]
 8577 017e 0F23     		movs	r3, #15
 8578 0180 FB18     		adds	r3, r7, r3
 8579 0182 013A     		subs	r2, r2, #1
 8580 0184 1A70     		strb	r2, [r3]
 8581              	.L499:
3996:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[7+x]=Filename[Dot+x];
 8582              		.loc 1 3996 0 is_stmt 0 discriminator 1
 8583 0186 0F23     		movs	r3, #15
 8584 0188 FB18     		adds	r3, r7, r3
 8585 018a 1B78     		ldrb	r3, [r3]
 8586 018c 002B     		cmp	r3, #0
 8587 018e E0D1     		bne	.L500
 8588 0190 21E0     		b	.L497
 8589              	.L498:
3998:Generated_Source\PSoC4/SDCard_FS.c ****          }
3999:Generated_Source\PSoC4/SDCard_FS.c ****          else
4000:Generated_Source\PSoC4/SDCard_FS.c ****          {
4001:Generated_Source\PSoC4/SDCard_FS.c ****             // Extension should be copied first to last
4002:Generated_Source\PSoC4/SDCard_FS.c ****             for(x=8; x<=(Ext+7); x++)
 8590              		.loc 1 4002 0 is_stmt 1
 8591 0192 0F23     		movs	r3, #15
 8592 0194 FB18     		adds	r3, r7, r3
 8593 0196 0822     		movs	r2, #8
 8594 0198 1A70     		strb	r2, [r3]
 8595 019a 13E0     		b	.L501
 8596              	.L502:
4003:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[x]=Filename[x+1];
 8597              		.loc 1 4003 0 discriminator 3
 8598 019c 0F23     		movs	r3, #15
 8599 019e FB18     		adds	r3, r7, r3
 8600 01a0 1B78     		ldrb	r3, [r3]
 8601 01a2 7A68     		ldr	r2, [r7, #4]
 8602 01a4 D318     		adds	r3, r2, r3
 8603 01a6 0F22     		movs	r2, #15
 8604 01a8 BA18     		adds	r2, r7, r2
 8605 01aa 1278     		ldrb	r2, [r2]
 8606 01ac 0132     		adds	r2, r2, #1
 8607 01ae 7968     		ldr	r1, [r7, #4]
 8608 01b0 8A18     		adds	r2, r1, r2
 8609 01b2 1278     		ldrb	r2, [r2]
 8610 01b4 1A70     		strb	r2, [r3]
4002:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[x]=Filename[x+1];
 8611              		.loc 1 4002 0 discriminator 3
 8612 01b6 0F23     		movs	r3, #15
 8613 01b8 FB18     		adds	r3, r7, r3
 8614 01ba 1A78     		ldrb	r2, [r3]
 8615 01bc 0F23     		movs	r3, #15
 8616 01be FB18     		adds	r3, r7, r3
 8617 01c0 0132     		adds	r2, r2, #1
 8618 01c2 1A70     		strb	r2, [r3]
 8619              	.L501:
4002:Generated_Source\PSoC4/SDCard_FS.c ****                Filename[x]=Filename[x+1];
 8620              		.loc 1 4002 0 is_stmt 0 discriminator 1
 8621 01c4 0F23     		movs	r3, #15
 8622 01c6 FB18     		adds	r3, r7, r3
 8623 01c8 1A78     		ldrb	r2, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 224


 8624 01ca 0B23     		movs	r3, #11
 8625 01cc FB18     		adds	r3, r7, r3
 8626 01ce 1B78     		ldrb	r3, [r3]
 8627 01d0 0733     		adds	r3, r3, #7
 8628 01d2 9A42     		cmp	r2, r3
 8629 01d4 E2DD     		ble	.L502
 8630              	.L497:
4004:Generated_Source\PSoC4/SDCard_FS.c ****          }
4005:Generated_Source\PSoC4/SDCard_FS.c ****       }
4006:Generated_Source\PSoC4/SDCard_FS.c ****       
4007:Generated_Source\PSoC4/SDCard_FS.c ****       // Fill remainder of extension with spaces
4008:Generated_Source\PSoC4/SDCard_FS.c ****       for(x=10; x>(7+Ext); x--)
 8631              		.loc 1 4008 0 is_stmt 1
 8632 01d6 0F23     		movs	r3, #15
 8633 01d8 FB18     		adds	r3, r7, r3
 8634 01da 0A22     		movs	r2, #10
 8635 01dc 1A70     		strb	r2, [r3]
 8636 01de 0DE0     		b	.L503
 8637              	.L504:
4009:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8638              		.loc 1 4009 0 discriminator 3
 8639 01e0 0F23     		movs	r3, #15
 8640 01e2 FB18     		adds	r3, r7, r3
 8641 01e4 1B78     		ldrb	r3, [r3]
 8642 01e6 7A68     		ldr	r2, [r7, #4]
 8643 01e8 D318     		adds	r3, r2, r3
 8644 01ea 2022     		movs	r2, #32
 8645 01ec 1A70     		strb	r2, [r3]
4008:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8646              		.loc 1 4008 0 discriminator 3
 8647 01ee 0F23     		movs	r3, #15
 8648 01f0 FB18     		adds	r3, r7, r3
 8649 01f2 1A78     		ldrb	r2, [r3]
 8650 01f4 0F23     		movs	r3, #15
 8651 01f6 FB18     		adds	r3, r7, r3
 8652 01f8 013A     		subs	r2, r2, #1
 8653 01fa 1A70     		strb	r2, [r3]
 8654              	.L503:
4008:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8655              		.loc 1 4008 0 is_stmt 0 discriminator 1
 8656 01fc 0F23     		movs	r3, #15
 8657 01fe FB18     		adds	r3, r7, r3
 8658 0200 1A78     		ldrb	r2, [r3]
 8659 0202 0B23     		movs	r3, #11
 8660 0204 FB18     		adds	r3, r7, r3
 8661 0206 1B78     		ldrb	r3, [r3]
 8662 0208 0733     		adds	r3, r3, #7
 8663 020a 9A42     		cmp	r2, r3
 8664 020c E8DC     		bgt	.L504
4010:Generated_Source\PSoC4/SDCard_FS.c **** 
4011:Generated_Source\PSoC4/SDCard_FS.c ****       // Fill remainder of filename with spaces
4012:Generated_Source\PSoC4/SDCard_FS.c ****       for(x=Length; x<8; x++)
 8665              		.loc 1 4012 0 is_stmt 1
 8666 020e 0F23     		movs	r3, #15
 8667 0210 FB18     		adds	r3, r7, r3
 8668 0212 0C22     		movs	r2, #12
 8669 0214 BA18     		adds	r2, r7, r2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 225


 8670 0216 1278     		ldrb	r2, [r2]
 8671 0218 1A70     		strb	r2, [r3]
 8672 021a 0DE0     		b	.L505
 8673              	.L506:
4013:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8674              		.loc 1 4013 0 discriminator 3
 8675 021c 0F23     		movs	r3, #15
 8676 021e FB18     		adds	r3, r7, r3
 8677 0220 1B78     		ldrb	r3, [r3]
 8678 0222 7A68     		ldr	r2, [r7, #4]
 8679 0224 D318     		adds	r3, r2, r3
 8680 0226 2022     		movs	r2, #32
 8681 0228 1A70     		strb	r2, [r3]
4012:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8682              		.loc 1 4012 0 discriminator 3
 8683 022a 0F23     		movs	r3, #15
 8684 022c FB18     		adds	r3, r7, r3
 8685 022e 1A78     		ldrb	r2, [r3]
 8686 0230 0F23     		movs	r3, #15
 8687 0232 FB18     		adds	r3, r7, r3
 8688 0234 0132     		adds	r2, r2, #1
 8689 0236 1A70     		strb	r2, [r3]
 8690              	.L505:
4012:Generated_Source\PSoC4/SDCard_FS.c ****          Filename[x]=' ';
 8691              		.loc 1 4012 0 is_stmt 0 discriminator 1
 8692 0238 0F23     		movs	r3, #15
 8693 023a FB18     		adds	r3, r7, r3
 8694 023c 1B78     		ldrb	r3, [r3]
 8695 023e 072B     		cmp	r3, #7
 8696 0240 ECD9     		bls	.L506
4014:Generated_Source\PSoC4/SDCard_FS.c ****          
4015:Generated_Source\PSoC4/SDCard_FS.c ****       // Add the final null
4016:Generated_Source\PSoC4/SDCard_FS.c ****       Filename[11]=0;
 8697              		.loc 1 4016 0 is_stmt 1
 8698 0242 7B68     		ldr	r3, [r7, #4]
 8699 0244 0B33     		adds	r3, r3, #11
 8700 0246 0022     		movs	r2, #0
 8701 0248 1A70     		strb	r2, [r3]
 8702              	.L496:
4017:Generated_Source\PSoC4/SDCard_FS.c ****    }
4018:Generated_Source\PSoC4/SDCard_FS.c **** 
4019:Generated_Source\PSoC4/SDCard_FS.c ****    return(status);
 8703              		.loc 1 4019 0
 8704 024a 0E23     		movs	r3, #14
 8705 024c FB18     		adds	r3, r7, r3
 8706 024e 1B78     		ldrb	r3, [r3]
4020:Generated_Source\PSoC4/SDCard_FS.c **** }
 8707              		.loc 1 4020 0
 8708 0250 1800     		movs	r0, r3
 8709 0252 BD46     		mov	sp, r7
 8710 0254 04B0     		add	sp, sp, #16
 8711              		@ sp needed
 8712 0256 80BD     		pop	{r7, pc}
 8713              		.cfi_endproc
 8714              	.LFE96:
 8715              		.size	SDCard_ParseFilename, .-SDCard_ParseFilename
 8716              		.section	.text.SDCard_CopyDir,"ax",%progbits
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 226


 8717              		.align	2
 8718              		.global	SDCard_CopyDir
 8719              		.code	16
 8720              		.thumb_func
 8721              		.type	SDCard_CopyDir, %function
 8722              	SDCard_CopyDir:
 8723              	.LFB97:
4021:Generated_Source\PSoC4/SDCard_FS.c **** #endif
4022:Generated_Source\PSoC4/SDCard_FS.c **** 
4023:Generated_Source\PSoC4/SDCard_FS.c **** 
4024:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4025:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_CopyDir(uchar Fptr1, uchar Fptr2 )
4026:Generated_Source\PSoC4/SDCard_FS.c **** //
4027:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
4028:Generated_Source\PSoC4/SDCard_FS.c **** //   This routine copies the directory information from file 1 to file 2
4029:Generated_Source\PSoC4/SDCard_FS.c **** //
4030:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4031:Generated_Source\PSoC4/SDCard_FS.c **** //
4032:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
4033:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr1 => Source file info file pointer
4034:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr1 => Destination file info file pointer
4035:Generated_Source\PSoC4/SDCard_FS.c **** //
4036:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS:  NA
4037:Generated_Source\PSoC4/SDCard_FS.c **** //
4038:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
4039:Generated_Source\PSoC4/SDCard_FS.c **** //
4040:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
4041:Generated_Source\PSoC4/SDCard_FS.c **** //
4042:Generated_Source\PSoC4/SDCard_FS.c **** //
4043:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4044:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
4045:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_WRITE
4046:Generated_Source\PSoC4/SDCard_FS.c **** 
4047:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_CopyDir(uchar Fptr1, uchar Fptr2 )
4048:Generated_Source\PSoC4/SDCard_FS.c **** {
 8724              		.loc 1 4048 0
 8725              		.cfi_startproc
 8726              		@ args = 0, pretend = 0, frame = 8
 8727              		@ frame_needed = 1, uses_anonymous_args = 0
 8728 0000 80B5     		push	{r7, lr}
 8729              		.cfi_def_cfa_offset 8
 8730              		.cfi_offset 7, -8
 8731              		.cfi_offset 14, -4
 8732 0002 82B0     		sub	sp, sp, #8
 8733              		.cfi_def_cfa_offset 16
 8734 0004 00AF     		add	r7, sp, #0
 8735              		.cfi_def_cfa_register 7
 8736 0006 0200     		movs	r2, r0
 8737 0008 FB1D     		adds	r3, r7, #7
 8738 000a 1A70     		strb	r2, [r3]
 8739 000c BB1D     		adds	r3, r7, #6
 8740 000e 0A1C     		adds	r2, r1, #0
 8741 0010 1A70     		strb	r2, [r3]
4049:Generated_Source\PSoC4/SDCard_FS.c ****    
4050:Generated_Source\PSoC4/SDCard_FS.c ****    // Copy file size, time, date, and attributes from the original file
4051:Generated_Source\PSoC4/SDCard_FS.c ****    
4052:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurSize[Fptr2] = SDCard_CurSize[Fptr1];      // Copy file size 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 227


 8742              		.loc 1 4052 0
 8743 0012 BB1D     		adds	r3, r7, #6
 8744 0014 1A78     		ldrb	r2, [r3]
 8745 0016 FB1D     		adds	r3, r7, #7
 8746 0018 1978     		ldrb	r1, [r3]
 8747 001a 0B4B     		ldr	r3, .L509
 8748 001c 8900     		lsls	r1, r1, #2
 8749 001e C958     		ldr	r1, [r1, r3]
 8750 0020 094B     		ldr	r3, .L509
 8751 0022 9200     		lsls	r2, r2, #2
 8752 0024 D150     		str	r1, [r2, r3]
4053:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_CurAttr[Fptr2] = SDCard_CurAttr[Fptr1];      // Copy file attributes 
 8753              		.loc 1 4053 0
 8754 0026 BB1D     		adds	r3, r7, #6
 8755 0028 1B78     		ldrb	r3, [r3]
 8756 002a FA1D     		adds	r2, r7, #7
 8757 002c 1278     		ldrb	r2, [r2]
 8758 002e 0749     		ldr	r1, .L509+4
 8759 0030 895C     		ldrb	r1, [r1, r2]
 8760 0032 064A     		ldr	r2, .L509+4
 8761 0034 D154     		strb	r1, [r2, r3]
4054:Generated_Source\PSoC4/SDCard_FS.c ****    
4055:Generated_Source\PSoC4/SDCard_FS.c ****    // Call update directory to save the new directory information
4056:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_UpdateDir(Fptr2);
 8762              		.loc 1 4056 0
 8763 0036 BB1D     		adds	r3, r7, #6
 8764 0038 1B78     		ldrb	r3, [r3]
 8765 003a 1800     		movs	r0, r3
 8766 003c FFF7FEFF 		bl	SDCard_UpdateDir
4057:Generated_Source\PSoC4/SDCard_FS.c **** }
 8767              		.loc 1 4057 0
 8768 0040 C046     		nop
 8769 0042 BD46     		mov	sp, r7
 8770 0044 02B0     		add	sp, sp, #8
 8771              		@ sp needed
 8772 0046 80BD     		pop	{r7, pc}
 8773              	.L510:
 8774              		.align	2
 8775              	.L509:
 8776 0048 00000000 		.word	SDCard_CurSize
 8777 004c 00000000 		.word	SDCard_CurAttr
 8778              		.cfi_endproc
 8779              	.LFE97:
 8780              		.size	SDCard_CopyDir, .-SDCard_CopyDir
 8781              		.section	.text.SDCard_GetAddress,"ax",%progbits
 8782              		.align	2
 8783              		.global	SDCard_GetAddress
 8784              		.code	16
 8785              		.thumb_func
 8786              		.type	SDCard_GetAddress, %function
 8787              	SDCard_GetAddress:
 8788              	.LFB98:
4058:Generated_Source\PSoC4/SDCard_FS.c **** #endif
4059:Generated_Source\PSoC4/SDCard_FS.c **** #endif
4060:Generated_Source\PSoC4/SDCard_FS.c **** 
4061:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4062:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_GetAddress(uchar Fptr, uchar mode)
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 228


4063:Generated_Source\PSoC4/SDCard_FS.c **** //
4064:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
4065:Generated_Source\PSoC4/SDCard_FS.c **** //    Calculate the address based on the current file/sub-directory position
4066:Generated_Source\PSoC4/SDCard_FS.c **** //
4067:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4068:Generated_Source\PSoC4/SDCard_FS.c **** //
4069:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
4070:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
4071:Generated_Source\PSoC4/SDCard_FS.c **** //    mode = 0 only the sector address is returned  
4072:Generated_Source\PSoC4/SDCard_FS.c **** //         = 1 sector and offset
4073:Generated_Source\PSoC4/SDCard_FS.c **** //
4074:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
4075:Generated_Source\PSoC4/SDCard_FS.c **** //
4076:Generated_Source\PSoC4/SDCard_FS.c **** //
4077:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
4078:Generated_Source\PSoC4/SDCard_FS.c **** //
4079:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
4080:Generated_Source\PSoC4/SDCard_FS.c **** //
4081:Generated_Source\PSoC4/SDCard_FS.c **** //
4082:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4083:Generated_Source\PSoC4/SDCard_FS.c **** 
4084:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
4085:Generated_Source\PSoC4/SDCard_FS.c **** 
4086:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_GetAddress(uchar Fptr, uchar mode)
4087:Generated_Source\PSoC4/SDCard_FS.c **** {
 8789              		.loc 1 4087 0
 8790              		.cfi_startproc
 8791              		@ args = 0, pretend = 0, frame = 8
 8792              		@ frame_needed = 1, uses_anonymous_args = 0
 8793 0000 80B5     		push	{r7, lr}
 8794              		.cfi_def_cfa_offset 8
 8795              		.cfi_offset 7, -8
 8796              		.cfi_offset 14, -4
 8797 0002 82B0     		sub	sp, sp, #8
 8798              		.cfi_def_cfa_offset 16
 8799 0004 00AF     		add	r7, sp, #0
 8800              		.cfi_def_cfa_register 7
 8801 0006 0200     		movs	r2, r0
 8802 0008 FB1D     		adds	r3, r7, #7
 8803 000a 1A70     		strb	r2, [r3]
 8804 000c BB1D     		adds	r3, r7, #6
 8805 000e 0A1C     		adds	r2, r1, #0
 8806 0010 1A70     		strb	r2, [r3]
4088:Generated_Source\PSoC4/SDCard_FS.c ****    // Calculate the address based on the current file/sub-directory position
4089:Generated_Source\PSoC4/SDCard_FS.c ****    // If mode = 0 only the sector address is returned, mode = 1 sector and offset
4090:Generated_Source\PSoC4/SDCard_FS.c ****    
4091:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Address = SDCard_CurFat[Fptr] - 2;            // FAT cluster - 2 (actual offset in cluste
 8807              		.loc 1 4091 0
 8808 0012 FB1D     		adds	r3, r7, #7
 8809 0014 1A78     		ldrb	r2, [r3]
 8810 0016 1C4B     		ldr	r3, .L514
 8811 0018 9200     		lsls	r2, r2, #2
 8812 001a D358     		ldr	r3, [r2, r3]
 8813 001c 9A1E     		subs	r2, r3, #2
 8814 001e 1B4B     		ldr	r3, .L514+4
 8815 0020 1A60     		str	r2, [r3]
4092:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Address *= SDCard_ClusterSize;                // Multiply by cluster size to get sectors
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 229


 8816              		.loc 1 4092 0
 8817 0022 1B4B     		ldr	r3, .L514+8
 8818 0024 1B78     		ldrb	r3, [r3]
 8819 0026 1A00     		movs	r2, r3
 8820 0028 184B     		ldr	r3, .L514+4
 8821 002a 1B68     		ldr	r3, [r3]
 8822 002c 5A43     		muls	r2, r3
 8823 002e 174B     		ldr	r3, .L514+4
 8824 0030 1A60     		str	r2, [r3]
4093:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Address += SDCard_CurSect[Fptr];              // Add current sector offset
 8825              		.loc 1 4093 0
 8826 0032 FB1D     		adds	r3, r7, #7
 8827 0034 1B78     		ldrb	r3, [r3]
 8828 0036 174A     		ldr	r2, .L514+12
 8829 0038 D35C     		ldrb	r3, [r2, r3]
 8830 003a 1A00     		movs	r2, r3
 8831 003c 134B     		ldr	r3, .L514+4
 8832 003e 1B68     		ldr	r3, [r3]
 8833 0040 D218     		adds	r2, r2, r3
 8834 0042 124B     		ldr	r3, .L514+4
 8835 0044 1A60     		str	r2, [r3]
4094:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Address *= 512;                        // Multiply sectors by 512 to get bytes
 8836              		.loc 1 4094 0
 8837 0046 114B     		ldr	r3, .L514+4
 8838 0048 1B68     		ldr	r3, [r3]
 8839 004a 5A02     		lsls	r2, r3, #9
 8840 004c 0F4B     		ldr	r3, .L514+4
 8841 004e 1A60     		str	r2, [r3]
4095:Generated_Source\PSoC4/SDCard_FS.c ****    SDCard_Address += SDCard_DataStart;                  // Add the starting address of the data are
 8842              		.loc 1 4095 0
 8843 0050 0E4B     		ldr	r3, .L514+4
 8844 0052 1A68     		ldr	r2, [r3]
 8845 0054 104B     		ldr	r3, .L514+16
 8846 0056 1B68     		ldr	r3, [r3]
 8847 0058 D218     		adds	r2, r2, r3
 8848 005a 0C4B     		ldr	r3, .L514+4
 8849 005c 1A60     		str	r2, [r3]
4096:Generated_Source\PSoC4/SDCard_FS.c ****    
4097:Generated_Source\PSoC4/SDCard_FS.c ****    if(mode == 1)
 8850              		.loc 1 4097 0
 8851 005e BB1D     		adds	r3, r7, #6
 8852 0060 1B78     		ldrb	r3, [r3]
 8853 0062 012B     		cmp	r3, #1
 8854 0064 0BD1     		bne	.L513
4098:Generated_Source\PSoC4/SDCard_FS.c ****    {
4099:Generated_Source\PSoC4/SDCard_FS.c ****       // Add the offset stuff to the address
4100:Generated_Source\PSoC4/SDCard_FS.c ****       SDCard_Address += (SDCard_CurOffset[Fptr]&0x000001FF);   // Add the significant part of the c
 8855              		.loc 1 4100 0
 8856 0066 FB1D     		adds	r3, r7, #7
 8857 0068 1A78     		ldrb	r2, [r3]
 8858 006a 0C4B     		ldr	r3, .L514+20
 8859 006c 9200     		lsls	r2, r2, #2
 8860 006e D358     		ldr	r3, [r2, r3]
 8861 0070 DB05     		lsls	r3, r3, #23
 8862 0072 DA0D     		lsrs	r2, r3, #23
 8863 0074 054B     		ldr	r3, .L514+4
 8864 0076 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 230


 8865 0078 D218     		adds	r2, r2, r3
 8866 007a 044B     		ldr	r3, .L514+4
 8867 007c 1A60     		str	r2, [r3]
 8868              	.L513:
4101:Generated_Source\PSoC4/SDCard_FS.c ****    }   
4102:Generated_Source\PSoC4/SDCard_FS.c **** }
 8869              		.loc 1 4102 0
 8870 007e C046     		nop
 8871 0080 BD46     		mov	sp, r7
 8872 0082 02B0     		add	sp, sp, #8
 8873              		@ sp needed
 8874 0084 80BD     		pop	{r7, pc}
 8875              	.L515:
 8876 0086 C046     		.align	2
 8877              	.L514:
 8878 0088 00000000 		.word	SDCard_CurFat
 8879 008c 00000000 		.word	SDCard_Address
 8880 0090 00000000 		.word	SDCard_ClusterSize
 8881 0094 00000000 		.word	SDCard_CurSect
 8882 0098 00000000 		.word	SDCard_DataStart
 8883 009c 00000000 		.word	SDCard_CurOffset
 8884              		.cfi_endproc
 8885              	.LFE98:
 8886              		.size	SDCard_GetAddress, .-SDCard_GetAddress
 8887              		.section	.text.SDCard_IncOffset,"ax",%progbits
 8888              		.align	2
 8889              		.global	SDCard_IncOffset
 8890              		.code	16
 8891              		.thumb_func
 8892              		.type	SDCard_IncOffset, %function
 8893              	SDCard_IncOffset:
 8894              	.LFB99:
4103:Generated_Source\PSoC4/SDCard_FS.c **** #endif
4104:Generated_Source\PSoC4/SDCard_FS.c **** 
4105:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4106:Generated_Source\PSoC4/SDCard_FS.c **** // FUNCTION NAME:   void SDCard_IncOffset(uchar Fptr, uchar mode)
4107:Generated_Source\PSoC4/SDCard_FS.c **** //
4108:Generated_Source\PSoC4/SDCard_FS.c **** // DESCRIPTION:
4109:Generated_Source\PSoC4/SDCard_FS.c **** //    Increments the file position offset and updates trhe sector count and FAT information
4110:Generated_Source\PSoC4/SDCard_FS.c **** //
4111:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4112:Generated_Source\PSoC4/SDCard_FS.c **** //
4113:Generated_Source\PSoC4/SDCard_FS.c **** //  ARGUMENTS:
4114:Generated_Source\PSoC4/SDCard_FS.c **** //    Fptr => File pointer
4115:Generated_Source\PSoC4/SDCard_FS.c **** //    mode = 0 increment the position offset, the sector count, and FAT  
4116:Generated_Source\PSoC4/SDCard_FS.c **** //         = 1 Same as mode 0 except FAT is added if needed for a write
4117:Generated_Source\PSoC4/SDCard_FS.c **** //
4118:Generated_Source\PSoC4/SDCard_FS.c **** //  RETURNS: NA
4119:Generated_Source\PSoC4/SDCard_FS.c **** //
4120:Generated_Source\PSoC4/SDCard_FS.c **** //
4121:Generated_Source\PSoC4/SDCard_FS.c **** //  SIDE EFFECTS:
4122:Generated_Source\PSoC4/SDCard_FS.c **** //
4123:Generated_Source\PSoC4/SDCard_FS.c **** //  THEORY of OPERATON or PROCEDURE:
4124:Generated_Source\PSoC4/SDCard_FS.c **** //
4125:Generated_Source\PSoC4/SDCard_FS.c **** //
4126:Generated_Source\PSoC4/SDCard_FS.c **** //-------------------------------------------------------------------------------------------------
4127:Generated_Source\PSoC4/SDCard_FS.c **** 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 231


4128:Generated_Source\PSoC4/SDCard_FS.c **** void SDCard_IncOffset(uchar Fptr, uchar mode)
4129:Generated_Source\PSoC4/SDCard_FS.c **** {
 8895              		.loc 1 4129 0
 8896              		.cfi_startproc
 8897              		@ args = 0, pretend = 0, frame = 8
 8898              		@ frame_needed = 1, uses_anonymous_args = 0
 8899 0000 90B5     		push	{r4, r7, lr}
 8900              		.cfi_def_cfa_offset 12
 8901              		.cfi_offset 4, -12
 8902              		.cfi_offset 7, -8
 8903              		.cfi_offset 14, -4
 8904 0002 83B0     		sub	sp, sp, #12
 8905              		.cfi_def_cfa_offset 24
 8906 0004 00AF     		add	r7, sp, #0
 8907              		.cfi_def_cfa_register 7
 8908 0006 0200     		movs	r2, r0
 8909 0008 FB1D     		adds	r3, r7, #7
 8910 000a 1A70     		strb	r2, [r3]
 8911 000c BB1D     		adds	r3, r7, #6
 8912 000e 0A1C     		adds	r2, r1, #0
 8913 0010 1A70     		strb	r2, [r3]
4130:Generated_Source\PSoC4/SDCard_FS.c **** 
4131:Generated_Source\PSoC4/SDCard_FS.c ****     // Increment file position (and update sector and FAT entries if FileSystem enabled)
4132:Generated_Source\PSoC4/SDCard_FS.c ****     SDCard_CurOffset[Fptr]++;    // Advance the offset value	
 8914              		.loc 1 4132 0
 8915 0012 FB1D     		adds	r3, r7, #7
 8916 0014 1B78     		ldrb	r3, [r3]
 8917 0016 254A     		ldr	r2, .L522
 8918 0018 9900     		lsls	r1, r3, #2
 8919 001a 8A58     		ldr	r2, [r1, r2]
 8920 001c 511C     		adds	r1, r2, #1
 8921 001e 234A     		ldr	r2, .L522
 8922 0020 9B00     		lsls	r3, r3, #2
 8923 0022 9950     		str	r1, [r3, r2]
4133:Generated_Source\PSoC4/SDCard_FS.c **** 
4134:Generated_Source\PSoC4/SDCard_FS.c **** #ifdef ENABLE_FILESYSTEM
4135:Generated_Source\PSoC4/SDCard_FS.c ****     if((SDCard_CurOffset[Fptr] != 0) && ((SDCard_CurOffset[Fptr] & 0x1FF) == 0))
 8924              		.loc 1 4135 0
 8925 0024 FB1D     		adds	r3, r7, #7
 8926 0026 1A78     		ldrb	r2, [r3]
 8927 0028 204B     		ldr	r3, .L522
 8928 002a 9200     		lsls	r2, r2, #2
 8929 002c D358     		ldr	r3, [r2, r3]
 8930 002e 002B     		cmp	r3, #0
 8931 0030 37D0     		beq	.L521
 8932              		.loc 1 4135 0 is_stmt 0 discriminator 1
 8933 0032 FB1D     		adds	r3, r7, #7
 8934 0034 1A78     		ldrb	r2, [r3]
 8935 0036 1D4B     		ldr	r3, .L522
 8936 0038 9200     		lsls	r2, r2, #2
 8937 003a D358     		ldr	r3, [r2, r3]
 8938 003c DB05     		lsls	r3, r3, #23
 8939 003e DB0D     		lsrs	r3, r3, #23
 8940 0040 2FD1     		bne	.L521
4136:Generated_Source\PSoC4/SDCard_FS.c ****     {
4137:Generated_Source\PSoC4/SDCard_FS.c ****         // End of a sector
4138:Generated_Source\PSoC4/SDCard_FS.c ****         if(SDCard_CurSect[Fptr] == (SDCard_ClusterSize-1))
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 232


 8941              		.loc 1 4138 0 is_stmt 1
 8942 0042 FB1D     		adds	r3, r7, #7
 8943 0044 1B78     		ldrb	r3, [r3]
 8944 0046 1A4A     		ldr	r2, .L522+4
 8945 0048 D35C     		ldrb	r3, [r2, r3]
 8946 004a 1A00     		movs	r2, r3
 8947 004c 194B     		ldr	r3, .L522+8
 8948 004e 1B78     		ldrb	r3, [r3]
 8949 0050 013B     		subs	r3, r3, #1
 8950 0052 9A42     		cmp	r2, r3
 8951 0054 1DD1     		bne	.L518
4139:Generated_Source\PSoC4/SDCard_FS.c ****         {
4140:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSect[Fptr]=0;    // Restart sector count
 8952              		.loc 1 4140 0
 8953 0056 FB1D     		adds	r3, r7, #7
 8954 0058 1B78     		ldrb	r3, [r3]
 8955 005a 154A     		ldr	r2, .L522+4
 8956 005c 0021     		movs	r1, #0
 8957 005e D154     		strb	r1, [r2, r3]
4141:Generated_Source\PSoC4/SDCard_FS.c ****             if(mode==0)
 8958              		.loc 1 4141 0
 8959 0060 BB1D     		adds	r3, r7, #6
 8960 0062 1B78     		ldrb	r3, [r3]
 8961 0064 002B     		cmp	r3, #0
 8962 0066 0ED1     		bne	.L519
4142:Generated_Source\PSoC4/SDCard_FS.c ****                 SDCard_CurFat[Fptr]  = SDCard_FatTrack(SDCard_CurFat[Fptr]); // Get next FAT entry
 8963              		.loc 1 4142 0
 8964 0068 FB1D     		adds	r3, r7, #7
 8965 006a 1C78     		ldrb	r4, [r3]
 8966 006c FB1D     		adds	r3, r7, #7
 8967 006e 1A78     		ldrb	r2, [r3]
 8968 0070 114B     		ldr	r3, .L522+12
 8969 0072 9200     		lsls	r2, r2, #2
 8970 0074 D358     		ldr	r3, [r2, r3]
 8971 0076 1800     		movs	r0, r3
 8972 0078 FFF7FEFF 		bl	SDCard_FatTrack
 8973 007c 0100     		movs	r1, r0
 8974 007e 0E4B     		ldr	r3, .L522+12
 8975 0080 A200     		lsls	r2, r4, #2
 8976 0082 D150     		str	r1, [r2, r3]
4143:Generated_Source\PSoC4/SDCard_FS.c ****             else
4144:Generated_Source\PSoC4/SDCard_FS.c ****                 SDCard_NextFat(Fptr);  // Get next FAT entry (and add it if needed)
4145:Generated_Source\PSoC4/SDCard_FS.c ****         }
4146:Generated_Source\PSoC4/SDCard_FS.c ****         else
4147:Generated_Source\PSoC4/SDCard_FS.c ****             SDCard_CurSect[Fptr]++;    // Increment sector count	
4148:Generated_Source\PSoC4/SDCard_FS.c ****     }
4149:Generated_Source\PSoC4/SDCard_FS.c **** #endif
4150:Generated_Source\PSoC4/SDCard_FS.c **** }
 8977              		.loc 1 4150 0
 8978 0084 0DE0     		b	.L521
 8979              	.L519:
4144:Generated_Source\PSoC4/SDCard_FS.c ****         }
 8980              		.loc 1 4144 0
 8981 0086 FB1D     		adds	r3, r7, #7
 8982 0088 1B78     		ldrb	r3, [r3]
 8983 008a 1800     		movs	r0, r3
 8984 008c FFF7FEFF 		bl	SDCard_NextFat
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 233


 8985              		.loc 1 4150 0
 8986 0090 07E0     		b	.L521
 8987              	.L518:
4147:Generated_Source\PSoC4/SDCard_FS.c ****     }
 8988              		.loc 1 4147 0
 8989 0092 FB1D     		adds	r3, r7, #7
 8990 0094 1B78     		ldrb	r3, [r3]
 8991 0096 064A     		ldr	r2, .L522+4
 8992 0098 D25C     		ldrb	r2, [r2, r3]
 8993 009a 0132     		adds	r2, r2, #1
 8994 009c D1B2     		uxtb	r1, r2
 8995 009e 044A     		ldr	r2, .L522+4
 8996 00a0 D154     		strb	r1, [r2, r3]
 8997              	.L521:
 8998              		.loc 1 4150 0
 8999 00a2 C046     		nop
 9000 00a4 BD46     		mov	sp, r7
 9001 00a6 03B0     		add	sp, sp, #12
 9002              		@ sp needed
 9003 00a8 90BD     		pop	{r4, r7, pc}
 9004              	.L523:
 9005 00aa C046     		.align	2
 9006              	.L522:
 9007 00ac 00000000 		.word	SDCard_CurOffset
 9008 00b0 00000000 		.word	SDCard_CurSect
 9009 00b4 00000000 		.word	SDCard_ClusterSize
 9010 00b8 00000000 		.word	SDCard_CurFat
 9011              		.cfi_endproc
 9012              	.LFE99:
 9013              		.size	SDCard_IncOffset, .-SDCard_IncOffset
 9014              		.text
 9015              	.Letext0:
 9016              		.file 2 "Generated_Source\\PSoC4/cytypes.h"
 9017              		.section	.debug_info,"",%progbits
 9018              	.Ldebug_info0:
 9019 0000 74140000 		.4byte	0x1474
 9020 0004 0400     		.2byte	0x4
 9021 0006 00000000 		.4byte	.Ldebug_abbrev0
 9022 000a 04       		.byte	0x4
 9023 000b 01       		.uleb128 0x1
 9024 000c 8F000000 		.4byte	.LASF166
 9025 0010 0C       		.byte	0xc
 9026 0011 60010000 		.4byte	.LASF167
 9027 0015 F1070000 		.4byte	.LASF168
 9028 0019 00000000 		.4byte	.Ldebug_ranges0+0
 9029 001d 00000000 		.4byte	0
 9030 0021 00000000 		.4byte	.Ldebug_line0
 9031 0025 02       		.uleb128 0x2
 9032 0026 01       		.byte	0x1
 9033 0027 06       		.byte	0x6
 9034 0028 32080000 		.4byte	.LASF0
 9035 002c 02       		.uleb128 0x2
 9036 002d 01       		.byte	0x1
 9037 002e 08       		.byte	0x8
 9038 002f 29070000 		.4byte	.LASF1
 9039 0033 02       		.uleb128 0x2
 9040 0034 02       		.byte	0x2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 234


 9041 0035 05       		.byte	0x5
 9042 0036 D3050000 		.4byte	.LASF2
 9043 003a 02       		.uleb128 0x2
 9044 003b 02       		.byte	0x2
 9045 003c 07       		.byte	0x7
 9046 003d 3E080000 		.4byte	.LASF3
 9047 0041 02       		.uleb128 0x2
 9048 0042 04       		.byte	0x4
 9049 0043 05       		.byte	0x5
 9050 0044 ED050000 		.4byte	.LASF4
 9051 0048 02       		.uleb128 0x2
 9052 0049 04       		.byte	0x4
 9053 004a 07       		.byte	0x7
 9054 004b B4060000 		.4byte	.LASF5
 9055 004f 02       		.uleb128 0x2
 9056 0050 08       		.byte	0x8
 9057 0051 05       		.byte	0x5
 9058 0052 4C040000 		.4byte	.LASF6
 9059 0056 02       		.uleb128 0x2
 9060 0057 08       		.byte	0x8
 9061 0058 07       		.byte	0x7
 9062 0059 22020000 		.4byte	.LASF7
 9063 005d 03       		.uleb128 0x3
 9064 005e 04       		.byte	0x4
 9065 005f 05       		.byte	0x5
 9066 0060 696E7400 		.ascii	"int\000"
 9067 0064 02       		.uleb128 0x2
 9068 0065 04       		.byte	0x4
 9069 0066 07       		.byte	0x7
 9070 0067 15000000 		.4byte	.LASF8
 9071 006b 04       		.uleb128 0x4
 9072 006c 6C080000 		.4byte	.LASF9
 9073 0070 02       		.byte	0x2
 9074 0071 B901     		.2byte	0x1b9
 9075 0073 2C000000 		.4byte	0x2c
 9076 0077 04       		.uleb128 0x4
 9077 0078 F6040000 		.4byte	.LASF10
 9078 007c 02       		.byte	0x2
 9079 007d BB01     		.2byte	0x1bb
 9080 007f 48000000 		.4byte	0x48
 9081 0083 02       		.uleb128 0x2
 9082 0084 04       		.byte	0x4
 9083 0085 04       		.byte	0x4
 9084 0086 F3010000 		.4byte	.LASF11
 9085 008a 02       		.uleb128 0x2
 9086 008b 08       		.byte	0x8
 9087 008c 04       		.byte	0x4
 9088 008d 72080000 		.4byte	.LASF12
 9089 0091 02       		.uleb128 0x2
 9090 0092 01       		.byte	0x1
 9091 0093 08       		.byte	0x8
 9092 0094 95030000 		.4byte	.LASF13
 9093 0098 02       		.uleb128 0x2
 9094 0099 08       		.byte	0x8
 9095 009a 04       		.byte	0x4
 9096 009b 5E050000 		.4byte	.LASF14
 9097 009f 05       		.uleb128 0x5
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 235


 9098 00a0 2C000000 		.4byte	0x2c
 9099 00a4 AF000000 		.4byte	0xaf
 9100 00a8 06       		.uleb128 0x6
 9101 00a9 AF000000 		.4byte	0xaf
 9102 00ad 03       		.byte	0x3
 9103 00ae 00       		.byte	0
 9104 00af 02       		.uleb128 0x2
 9105 00b0 04       		.byte	0x4
 9106 00b1 07       		.byte	0x7
 9107 00b2 AB060000 		.4byte	.LASF15
 9108 00b6 07       		.uleb128 0x7
 9109 00b7 04       		.byte	0x4
 9110 00b8 91000000 		.4byte	0x91
 9111 00bc 07       		.uleb128 0x7
 9112 00bd 04       		.byte	0x4
 9113 00be 2C000000 		.4byte	0x2c
 9114 00c2 07       		.uleb128 0x7
 9115 00c3 04       		.byte	0x4
 9116 00c4 C8000000 		.4byte	0xc8
 9117 00c8 08       		.uleb128 0x8
 9118 00c9 91000000 		.4byte	0x91
 9119 00cd 05       		.uleb128 0x5
 9120 00ce 2C000000 		.4byte	0x2c
 9121 00d2 DD000000 		.4byte	0xdd
 9122 00d6 06       		.uleb128 0x6
 9123 00d7 AF000000 		.4byte	0xaf
 9124 00db 02       		.byte	0x2
 9125 00dc 00       		.byte	0
 9126 00dd 09       		.uleb128 0x9
 9127 00de 08000000 		.4byte	.LASF16
 9128 00e2 01       		.byte	0x1
 9129 00e3 73       		.byte	0x73
 9130 00e4 00000000 		.4byte	.LFB34
 9131 00e8 2C000000 		.4byte	.LFE34-.LFB34
 9132 00ec 01       		.uleb128 0x1
 9133 00ed 9C       		.byte	0x9c
 9134 00ee 09       		.uleb128 0x9
 9135 00ef 22030000 		.4byte	.LASF17
 9136 00f3 01       		.byte	0x1
 9137 00f4 8E       		.byte	0x8e
 9138 00f5 00000000 		.4byte	.LFB35
 9139 00f9 24000000 		.4byte	.LFE35-.LFB35
 9140 00fd 01       		.uleb128 0x1
 9141 00fe 9C       		.byte	0x9c
 9142 00ff 0A       		.uleb128 0xa
 9143 0100 51080000 		.4byte	.LASF18
 9144 0104 01       		.byte	0x1
 9145 0105 B0       		.byte	0xb0
 9146 0106 2C000000 		.4byte	0x2c
 9147 010a 00000000 		.4byte	.LFB36
 9148 010e DC000000 		.4byte	.LFE36-.LFB36
 9149 0112 01       		.uleb128 0x1
 9150 0113 9C       		.byte	0x9c
 9151 0114 35010000 		.4byte	0x135
 9152 0118 0B       		.uleb128 0xb
 9153 0119 7A000000 		.4byte	.LASF20
 9154 011d 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 236


 9155 011e B0       		.byte	0xb0
 9156 011f 2C000000 		.4byte	0x2c
 9157 0123 02       		.uleb128 0x2
 9158 0124 91       		.byte	0x91
 9159 0125 6F       		.sleb128 -17
 9160 0126 0C       		.uleb128 0xc
 9161 0127 1F060000 		.4byte	.LASF23
 9162 012b 01       		.byte	0x1
 9163 012c B3       		.byte	0xb3
 9164 012d 2C000000 		.4byte	0x2c
 9165 0131 02       		.uleb128 0x2
 9166 0132 91       		.byte	0x91
 9167 0133 77       		.sleb128 -9
 9168 0134 00       		.byte	0
 9169 0135 0A       		.uleb128 0xa
 9170 0136 98050000 		.4byte	.LASF19
 9171 013a 01       		.byte	0x1
 9172 013b E8       		.byte	0xe8
 9173 013c 2C000000 		.4byte	0x2c
 9174 0140 00000000 		.4byte	.LFB37
 9175 0144 40030000 		.4byte	.LFE37-.LFB37
 9176 0148 01       		.uleb128 0x1
 9177 0149 9C       		.byte	0x9c
 9178 014a A1010000 		.4byte	0x1a1
 9179 014e 0B       		.uleb128 0xb
 9180 014f 64070000 		.4byte	.LASF21
 9181 0153 01       		.byte	0x1
 9182 0154 E8       		.byte	0xe8
 9183 0155 BC000000 		.4byte	0xbc
 9184 0159 02       		.uleb128 0x2
 9185 015a 91       		.byte	0x91
 9186 015b 5C       		.sleb128 -36
 9187 015c 0B       		.uleb128 0xb
 9188 015d E8050000 		.4byte	.LASF22
 9189 0161 01       		.byte	0x1
 9190 0162 E8       		.byte	0xe8
 9191 0163 A1010000 		.4byte	0x1a1
 9192 0167 02       		.uleb128 0x2
 9193 0168 91       		.byte	0x91
 9194 0169 58       		.sleb128 -40
 9195 016a 0C       		.uleb128 0xc
 9196 016b 7A000000 		.4byte	.LASF20
 9197 016f 01       		.byte	0x1
 9198 0170 EA       		.byte	0xea
 9199 0171 2C000000 		.4byte	0x2c
 9200 0175 02       		.uleb128 0x2
 9201 0176 91       		.byte	0x91
 9202 0177 6F       		.sleb128 -17
 9203 0178 0D       		.uleb128 0xd
 9204 0179 7800     		.ascii	"x\000"
 9205 017b 01       		.byte	0x1
 9206 017c EB       		.byte	0xeb
 9207 017d 2C000000 		.4byte	0x2c
 9208 0181 02       		.uleb128 0x2
 9209 0182 91       		.byte	0x91
 9210 0183 6E       		.sleb128 -18
 9211 0184 0C       		.uleb128 0xc
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 237


 9212 0185 DE030000 		.4byte	.LASF24
 9213 0189 01       		.byte	0x1
 9214 018a EC       		.byte	0xec
 9215 018b 2C000000 		.4byte	0x2c
 9216 018f 02       		.uleb128 0x2
 9217 0190 91       		.byte	0x91
 9218 0191 6D       		.sleb128 -19
 9219 0192 0C       		.uleb128 0xc
 9220 0193 6D070000 		.4byte	.LASF25
 9221 0197 01       		.byte	0x1
 9222 0198 ED       		.byte	0xed
 9223 0199 AC010000 		.4byte	0x1ac
 9224 019d 02       		.uleb128 0x2
 9225 019e 91       		.byte	0x91
 9226 019f 60       		.sleb128 -32
 9227 01a0 00       		.byte	0
 9228 01a1 07       		.uleb128 0x7
 9229 01a2 04       		.byte	0x4
 9230 01a3 A7010000 		.4byte	0x1a7
 9231 01a7 08       		.uleb128 0x8
 9232 01a8 2C000000 		.4byte	0x2c
 9233 01ac 05       		.uleb128 0x5
 9234 01ad 2C000000 		.4byte	0x2c
 9235 01b1 BC010000 		.4byte	0x1bc
 9236 01b5 06       		.uleb128 0x6
 9237 01b6 AF000000 		.4byte	0xaf
 9238 01ba 0C       		.byte	0xc
 9239 01bb 00       		.byte	0
 9240 01bc 0E       		.uleb128 0xe
 9241 01bd 8B050000 		.4byte	.LASF26
 9242 01c1 01       		.byte	0x1
 9243 01c2 9401     		.2byte	0x194
 9244 01c4 2C000000 		.4byte	0x2c
 9245 01c8 00000000 		.4byte	.LFB38
 9246 01cc A4010000 		.4byte	.LFE38-.LFB38
 9247 01d0 01       		.uleb128 0x1
 9248 01d1 9C       		.byte	0x9c
 9249 01d2 04020000 		.4byte	0x204
 9250 01d6 0F       		.uleb128 0xf
 9251 01d7 7A000000 		.4byte	.LASF20
 9252 01db 01       		.byte	0x1
 9253 01dc 9401     		.2byte	0x194
 9254 01de 2C000000 		.4byte	0x2c
 9255 01e2 02       		.uleb128 0x2
 9256 01e3 91       		.byte	0x91
 9257 01e4 67       		.sleb128 -25
 9258 01e5 10       		.uleb128 0x10
 9259 01e6 ED020000 		.4byte	.LASF27
 9260 01ea 01       		.byte	0x1
 9261 01eb 9601     		.2byte	0x196
 9262 01ed 64000000 		.4byte	0x64
 9263 01f1 02       		.uleb128 0x2
 9264 01f2 91       		.byte	0x91
 9265 01f3 68       		.sleb128 -24
 9266 01f4 10       		.uleb128 0x10
 9267 01f5 07090000 		.4byte	.LASF28
 9268 01f9 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 238


 9269 01fa 9701     		.2byte	0x197
 9270 01fc 2C000000 		.4byte	0x2c
 9271 0200 02       		.uleb128 0x2
 9272 0201 91       		.byte	0x91
 9273 0202 6F       		.sleb128 -17
 9274 0203 00       		.byte	0
 9275 0204 0E       		.uleb128 0xe
 9276 0205 30040000 		.4byte	.LASF29
 9277 0209 01       		.byte	0x1
 9278 020a 0702     		.2byte	0x207
 9279 020c 2C000000 		.4byte	0x2c
 9280 0210 00000000 		.4byte	.LFB39
 9281 0214 40010000 		.4byte	.LFE39-.LFB39
 9282 0218 01       		.uleb128 0x1
 9283 0219 9C       		.byte	0x9c
 9284 021a 4C020000 		.4byte	0x24c
 9285 021e 0F       		.uleb128 0xf
 9286 021f 7A000000 		.4byte	.LASF20
 9287 0223 01       		.byte	0x1
 9288 0224 0702     		.2byte	0x207
 9289 0226 2C000000 		.4byte	0x2c
 9290 022a 02       		.uleb128 0x2
 9291 022b 91       		.byte	0x91
 9292 022c 6F       		.sleb128 -17
 9293 022d 10       		.uleb128 0x10
 9294 022e ED020000 		.4byte	.LASF27
 9295 0232 01       		.byte	0x1
 9296 0233 0902     		.2byte	0x209
 9297 0235 64000000 		.4byte	0x64
 9298 0239 02       		.uleb128 0x2
 9299 023a 91       		.byte	0x91
 9300 023b 70       		.sleb128 -16
 9301 023c 10       		.uleb128 0x10
 9302 023d 07090000 		.4byte	.LASF28
 9303 0241 01       		.byte	0x1
 9304 0242 0A02     		.2byte	0x20a
 9305 0244 2C000000 		.4byte	0x2c
 9306 0248 02       		.uleb128 0x2
 9307 0249 91       		.byte	0x91
 9308 024a 77       		.sleb128 -9
 9309 024b 00       		.byte	0
 9310 024c 0E       		.uleb128 0xe
 9311 024d 90010000 		.4byte	.LASF30
 9312 0251 01       		.byte	0x1
 9313 0252 5A02     		.2byte	0x25a
 9314 0254 2C000000 		.4byte	0x2c
 9315 0258 00000000 		.4byte	.LFB40
 9316 025c CC010000 		.4byte	.LFE40-.LFB40
 9317 0260 01       		.uleb128 0x1
 9318 0261 9C       		.byte	0x9c
 9319 0262 A3020000 		.4byte	0x2a3
 9320 0266 0F       		.uleb128 0xf
 9321 0267 07090000 		.4byte	.LASF28
 9322 026b 01       		.byte	0x1
 9323 026c 5A02     		.2byte	0x25a
 9324 026e 2C000000 		.4byte	0x2c
 9325 0272 02       		.uleb128 0x2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 239


 9326 0273 91       		.byte	0x91
 9327 0274 6F       		.sleb128 -17
 9328 0275 0F       		.uleb128 0xf
 9329 0276 7A000000 		.4byte	.LASF20
 9330 027a 01       		.byte	0x1
 9331 027b 5A02     		.2byte	0x25a
 9332 027d 2C000000 		.4byte	0x2c
 9333 0281 02       		.uleb128 0x2
 9334 0282 91       		.byte	0x91
 9335 0283 6E       		.sleb128 -18
 9336 0284 10       		.uleb128 0x10
 9337 0285 ED020000 		.4byte	.LASF27
 9338 0289 01       		.byte	0x1
 9339 028a 5C02     		.2byte	0x25c
 9340 028c 64000000 		.4byte	0x64
 9341 0290 02       		.uleb128 0x2
 9342 0291 91       		.byte	0x91
 9343 0292 70       		.sleb128 -16
 9344 0293 10       		.uleb128 0x10
 9345 0294 DE030000 		.4byte	.LASF24
 9346 0298 01       		.byte	0x1
 9347 0299 5D02     		.2byte	0x25d
 9348 029b 2C000000 		.4byte	0x2c
 9349 029f 02       		.uleb128 0x2
 9350 02a0 91       		.byte	0x91
 9351 02a1 77       		.sleb128 -9
 9352 02a2 00       		.byte	0
 9353 02a3 0E       		.uleb128 0xe
 9354 02a4 B9010000 		.4byte	.LASF31
 9355 02a8 01       		.byte	0x1
 9356 02a9 CF02     		.2byte	0x2cf
 9357 02ab 2C000000 		.4byte	0x2c
 9358 02af 00000000 		.4byte	.LFB41
 9359 02b3 5A000000 		.4byte	.LFE41-.LFB41
 9360 02b7 01       		.uleb128 0x1
 9361 02b8 9C       		.byte	0x9c
 9362 02b9 EB020000 		.4byte	0x2eb
 9363 02bd 11       		.uleb128 0x11
 9364 02be 73747200 		.ascii	"str\000"
 9365 02c2 01       		.byte	0x1
 9366 02c3 CF02     		.2byte	0x2cf
 9367 02c5 B6000000 		.4byte	0xb6
 9368 02c9 02       		.uleb128 0x2
 9369 02ca 91       		.byte	0x91
 9370 02cb 64       		.sleb128 -28
 9371 02cc 0F       		.uleb128 0xf
 9372 02cd 7A000000 		.4byte	.LASF20
 9373 02d1 01       		.byte	0x1
 9374 02d2 CF02     		.2byte	0x2cf
 9375 02d4 2C000000 		.4byte	0x2c
 9376 02d8 02       		.uleb128 0x2
 9377 02d9 91       		.byte	0x91
 9378 02da 63       		.sleb128 -29
 9379 02db 10       		.uleb128 0x10
 9380 02dc DE030000 		.4byte	.LASF24
 9381 02e0 01       		.byte	0x1
 9382 02e1 D202     		.2byte	0x2d2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 240


 9383 02e3 2C000000 		.4byte	0x2c
 9384 02e7 02       		.uleb128 0x2
 9385 02e8 91       		.byte	0x91
 9386 02e9 6F       		.sleb128 -17
 9387 02ea 00       		.byte	0
 9388 02eb 0E       		.uleb128 0xe
 9389 02ec 93040000 		.4byte	.LASF32
 9390 02f0 01       		.byte	0x1
 9391 02f1 0003     		.2byte	0x300
 9392 02f3 2C000000 		.4byte	0x2c
 9393 02f7 00000000 		.4byte	.LFB42
 9394 02fb 5A000000 		.4byte	.LFE42-.LFB42
 9395 02ff 01       		.uleb128 0x1
 9396 0300 9C       		.byte	0x9c
 9397 0301 33030000 		.4byte	0x333
 9398 0305 11       		.uleb128 0x11
 9399 0306 73747200 		.ascii	"str\000"
 9400 030a 01       		.byte	0x1
 9401 030b 0003     		.2byte	0x300
 9402 030d C2000000 		.4byte	0xc2
 9403 0311 02       		.uleb128 0x2
 9404 0312 91       		.byte	0x91
 9405 0313 64       		.sleb128 -28
 9406 0314 0F       		.uleb128 0xf
 9407 0315 7A000000 		.4byte	.LASF20
 9408 0319 01       		.byte	0x1
 9409 031a 0003     		.2byte	0x300
 9410 031c 2C000000 		.4byte	0x2c
 9411 0320 02       		.uleb128 0x2
 9412 0321 91       		.byte	0x91
 9413 0322 63       		.sleb128 -29
 9414 0323 10       		.uleb128 0x10
 9415 0324 DE030000 		.4byte	.LASF24
 9416 0328 01       		.byte	0x1
 9417 0329 0303     		.2byte	0x303
 9418 032b 2C000000 		.4byte	0x2c
 9419 032f 02       		.uleb128 0x2
 9420 0330 91       		.byte	0x91
 9421 0331 6F       		.sleb128 -17
 9422 0332 00       		.byte	0
 9423 0333 0E       		.uleb128 0xe
 9424 0334 C3020000 		.4byte	.LASF33
 9425 0338 01       		.byte	0x1
 9426 0339 3103     		.2byte	0x331
 9427 033b 2C000000 		.4byte	0x2c
 9428 033f 00000000 		.4byte	.LFB43
 9429 0343 5E000000 		.4byte	.LFE43-.LFB43
 9430 0347 01       		.uleb128 0x1
 9431 0348 9C       		.byte	0x9c
 9432 0349 8A030000 		.4byte	0x38a
 9433 034d 0F       		.uleb128 0xf
 9434 034e D3020000 		.4byte	.LASF34
 9435 0352 01       		.byte	0x1
 9436 0353 3103     		.2byte	0x331
 9437 0355 BC000000 		.4byte	0xbc
 9438 0359 02       		.uleb128 0x2
 9439 035a 91       		.byte	0x91
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 241


 9440 035b 64       		.sleb128 -28
 9441 035c 0F       		.uleb128 0xf
 9442 035d 13020000 		.4byte	.LASF35
 9443 0361 01       		.byte	0x1
 9444 0362 3103     		.2byte	0x331
 9445 0364 64000000 		.4byte	0x64
 9446 0368 02       		.uleb128 0x2
 9447 0369 91       		.byte	0x91
 9448 036a 60       		.sleb128 -32
 9449 036b 0F       		.uleb128 0xf
 9450 036c 7A000000 		.4byte	.LASF20
 9451 0370 01       		.byte	0x1
 9452 0371 3103     		.2byte	0x331
 9453 0373 2C000000 		.4byte	0x2c
 9454 0377 02       		.uleb128 0x2
 9455 0378 91       		.byte	0x91
 9456 0379 5F       		.sleb128 -33
 9457 037a 10       		.uleb128 0x10
 9458 037b DE030000 		.4byte	.LASF24
 9459 037f 01       		.byte	0x1
 9460 0380 3403     		.2byte	0x334
 9461 0382 2C000000 		.4byte	0x2c
 9462 0386 02       		.uleb128 0x2
 9463 0387 91       		.byte	0x91
 9464 0388 6F       		.sleb128 -17
 9465 0389 00       		.byte	0
 9466 038a 0E       		.uleb128 0xe
 9467 038b F6050000 		.4byte	.LASF36
 9468 038f 01       		.byte	0x1
 9469 0390 6303     		.2byte	0x363
 9470 0392 2C000000 		.4byte	0x2c
 9471 0396 00000000 		.4byte	.LFB44
 9472 039a 5E000000 		.4byte	.LFE44-.LFB44
 9473 039e 01       		.uleb128 0x1
 9474 039f 9C       		.byte	0x9c
 9475 03a0 E1030000 		.4byte	0x3e1
 9476 03a4 0F       		.uleb128 0xf
 9477 03a5 D3020000 		.4byte	.LASF34
 9478 03a9 01       		.byte	0x1
 9479 03aa 6303     		.2byte	0x363
 9480 03ac A1010000 		.4byte	0x1a1
 9481 03b0 02       		.uleb128 0x2
 9482 03b1 91       		.byte	0x91
 9483 03b2 64       		.sleb128 -28
 9484 03b3 0F       		.uleb128 0xf
 9485 03b4 13020000 		.4byte	.LASF35
 9486 03b8 01       		.byte	0x1
 9487 03b9 6303     		.2byte	0x363
 9488 03bb 64000000 		.4byte	0x64
 9489 03bf 02       		.uleb128 0x2
 9490 03c0 91       		.byte	0x91
 9491 03c1 60       		.sleb128 -32
 9492 03c2 0F       		.uleb128 0xf
 9493 03c3 7A000000 		.4byte	.LASF20
 9494 03c7 01       		.byte	0x1
 9495 03c8 6303     		.2byte	0x363
 9496 03ca 2C000000 		.4byte	0x2c
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 242


 9497 03ce 02       		.uleb128 0x2
 9498 03cf 91       		.byte	0x91
 9499 03d0 5F       		.sleb128 -33
 9500 03d1 10       		.uleb128 0x10
 9501 03d2 DE030000 		.4byte	.LASF24
 9502 03d6 01       		.byte	0x1
 9503 03d7 6603     		.2byte	0x366
 9504 03d9 2C000000 		.4byte	0x2c
 9505 03dd 02       		.uleb128 0x2
 9506 03de 91       		.byte	0x91
 9507 03df 6F       		.sleb128 -17
 9508 03e0 00       		.byte	0
 9509 03e1 12       		.uleb128 0x12
 9510 03e2 6B020000 		.4byte	.LASF51
 9511 03e6 01       		.byte	0x1
 9512 03e7 8B03     		.2byte	0x38b
 9513 03e9 00000000 		.4byte	.LFB45
 9514 03ed 58000000 		.4byte	.LFE45-.LFB45
 9515 03f1 01       		.uleb128 0x1
 9516 03f2 9C       		.byte	0x9c
 9517 03f3 07040000 		.4byte	0x407
 9518 03f7 0F       		.uleb128 0xf
 9519 03f8 7A000000 		.4byte	.LASF20
 9520 03fc 01       		.byte	0x1
 9521 03fd 8B03     		.2byte	0x38b
 9522 03ff 2C000000 		.4byte	0x2c
 9523 0403 02       		.uleb128 0x2
 9524 0404 91       		.byte	0x91
 9525 0405 77       		.sleb128 -9
 9526 0406 00       		.byte	0
 9527 0407 0E       		.uleb128 0xe
 9528 0408 7B060000 		.4byte	.LASF37
 9529 040c 01       		.byte	0x1
 9530 040d B303     		.2byte	0x3b3
 9531 040f BC000000 		.4byte	0xbc
 9532 0413 00000000 		.4byte	.LFB46
 9533 0417 F4000000 		.4byte	.LFE46-.LFB46
 9534 041b 01       		.uleb128 0x1
 9535 041c 9C       		.byte	0x9c
 9536 041d 3E040000 		.4byte	0x43e
 9537 0421 0F       		.uleb128 0xf
 9538 0422 DA010000 		.4byte	.LASF38
 9539 0426 01       		.byte	0x1
 9540 0427 B303     		.2byte	0x3b3
 9541 0429 64000000 		.4byte	0x64
 9542 042d 02       		.uleb128 0x2
 9543 042e 91       		.byte	0x91
 9544 042f 6C       		.sleb128 -20
 9545 0430 13       		.uleb128 0x13
 9546 0431 7800     		.ascii	"x\000"
 9547 0433 01       		.byte	0x1
 9548 0434 B503     		.2byte	0x3b5
 9549 0436 2C000000 		.4byte	0x2c
 9550 043a 02       		.uleb128 0x2
 9551 043b 91       		.byte	0x91
 9552 043c 77       		.sleb128 -9
 9553 043d 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 243


 9554 043e 0E       		.uleb128 0xe
 9555 043f A5050000 		.4byte	.LASF39
 9556 0443 01       		.byte	0x1
 9557 0444 E903     		.2byte	0x3e9
 9558 0446 2C000000 		.4byte	0x2c
 9559 044a 00000000 		.4byte	.LFB47
 9560 044e AC010000 		.4byte	.LFE47-.LFB47
 9561 0452 01       		.uleb128 0x1
 9562 0453 9C       		.byte	0x9c
 9563 0454 86040000 		.4byte	0x486
 9564 0458 10       		.uleb128 0x10
 9565 0459 AF020000 		.4byte	.LASF40
 9566 045d 01       		.byte	0x1
 9567 045e EB03     		.2byte	0x3eb
 9568 0460 2C000000 		.4byte	0x2c
 9569 0464 02       		.uleb128 0x2
 9570 0465 91       		.byte	0x91
 9571 0466 6F       		.sleb128 -17
 9572 0467 10       		.uleb128 0x10
 9573 0468 DE030000 		.4byte	.LASF24
 9574 046c 01       		.byte	0x1
 9575 046d EC03     		.2byte	0x3ec
 9576 046f 2C000000 		.4byte	0x2c
 9577 0473 02       		.uleb128 0x2
 9578 0474 91       		.byte	0x91
 9579 0475 6E       		.sleb128 -18
 9580 0476 10       		.uleb128 0x10
 9581 0477 E8070000 		.4byte	.LASF41
 9582 047b 01       		.byte	0x1
 9583 047c ED03     		.2byte	0x3ed
 9584 047e 77000000 		.4byte	0x77
 9585 0482 02       		.uleb128 0x2
 9586 0483 91       		.byte	0x91
 9587 0484 68       		.sleb128 -24
 9588 0485 00       		.byte	0
 9589 0486 0E       		.uleb128 0xe
 9590 0487 10050000 		.4byte	.LASF42
 9591 048b 01       		.byte	0x1
 9592 048c 6104     		.2byte	0x461
 9593 048e 2C000000 		.4byte	0x2c
 9594 0492 00000000 		.4byte	.LFB48
 9595 0496 20010000 		.4byte	.LFE48-.LFB48
 9596 049a 01       		.uleb128 0x1
 9597 049b 9C       		.byte	0x9c
 9598 049c EA040000 		.4byte	0x4ea
 9599 04a0 0F       		.uleb128 0xf
 9600 04a1 7A000000 		.4byte	.LASF20
 9601 04a5 01       		.byte	0x1
 9602 04a6 6104     		.2byte	0x461
 9603 04a8 2C000000 		.4byte	0x2c
 9604 04ac 02       		.uleb128 0x2
 9605 04ad 91       		.byte	0x91
 9606 04ae 67       		.sleb128 -25
 9607 04af 0F       		.uleb128 0xf
 9608 04b0 7E080000 		.4byte	.LASF43
 9609 04b4 01       		.byte	0x1
 9610 04b5 6104     		.2byte	0x461
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 244


 9611 04b7 77000000 		.4byte	0x77
 9612 04bb 02       		.uleb128 0x2
 9613 04bc 91       		.byte	0x91
 9614 04bd 60       		.sleb128 -32
 9615 04be 10       		.uleb128 0x10
 9616 04bf 1F060000 		.4byte	.LASF23
 9617 04c3 01       		.byte	0x1
 9618 04c4 6304     		.2byte	0x463
 9619 04c6 2C000000 		.4byte	0x2c
 9620 04ca 02       		.uleb128 0x2
 9621 04cb 91       		.byte	0x91
 9622 04cc 77       		.sleb128 -9
 9623 04cd 10       		.uleb128 0x10
 9624 04ce 19030000 		.4byte	.LASF44
 9625 04d2 01       		.byte	0x1
 9626 04d3 6504     		.2byte	0x465
 9627 04d5 77000000 		.4byte	0x77
 9628 04d9 02       		.uleb128 0x2
 9629 04da 91       		.byte	0x91
 9630 04db 6C       		.sleb128 -20
 9631 04dc 13       		.uleb128 0x13
 9632 04dd 7800     		.ascii	"x\000"
 9633 04df 01       		.byte	0x1
 9634 04e0 6604     		.2byte	0x466
 9635 04e2 77000000 		.4byte	0x77
 9636 04e6 02       		.uleb128 0x2
 9637 04e7 91       		.byte	0x91
 9638 04e8 70       		.sleb128 -16
 9639 04e9 00       		.byte	0
 9640 04ea 0E       		.uleb128 0xe
 9641 04eb 24050000 		.4byte	.LASF45
 9642 04ef 01       		.byte	0x1
 9643 04f0 AB04     		.2byte	0x4ab
 9644 04f2 2C000000 		.4byte	0x2c
 9645 04f6 00000000 		.4byte	.LFB49
 9646 04fa 3E000000 		.4byte	.LFE49-.LFB49
 9647 04fe 01       		.uleb128 0x1
 9648 04ff 9C       		.byte	0x9c
 9649 0500 14050000 		.4byte	0x514
 9650 0504 10       		.uleb128 0x10
 9651 0505 1D050000 		.4byte	.LASF46
 9652 0509 01       		.byte	0x1
 9653 050a AD04     		.2byte	0x4ad
 9654 050c 2C000000 		.4byte	0x2c
 9655 0510 02       		.uleb128 0x2
 9656 0511 91       		.byte	0x91
 9657 0512 77       		.sleb128 -9
 9658 0513 00       		.byte	0
 9659 0514 0E       		.uleb128 0xe
 9660 0515 72030000 		.4byte	.LASF47
 9661 0519 01       		.byte	0x1
 9662 051a D304     		.2byte	0x4d3
 9663 051c 2C000000 		.4byte	0x2c
 9664 0520 00000000 		.4byte	.LFB50
 9665 0524 3E000000 		.4byte	.LFE50-.LFB50
 9666 0528 01       		.uleb128 0x1
 9667 0529 9C       		.byte	0x9c
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 245


 9668 052a 3E050000 		.4byte	0x53e
 9669 052e 10       		.uleb128 0x10
 9670 052f 19020000 		.4byte	.LASF48
 9671 0533 01       		.byte	0x1
 9672 0534 D504     		.2byte	0x4d5
 9673 0536 2C000000 		.4byte	0x2c
 9674 053a 02       		.uleb128 0x2
 9675 053b 91       		.byte	0x91
 9676 053c 77       		.sleb128 -9
 9677 053d 00       		.byte	0
 9678 053e 14       		.uleb128 0x14
 9679 053f C6010000 		.4byte	.LASF169
 9680 0543 01       		.byte	0x1
 9681 0544 F904     		.2byte	0x4f9
 9682 0546 64000000 		.4byte	0x64
 9683 054a 00000000 		.4byte	.LFB51
 9684 054e 1C000000 		.4byte	.LFE51-.LFB51
 9685 0552 01       		.uleb128 0x1
 9686 0553 9C       		.byte	0x9c
 9687 0554 15       		.uleb128 0x15
 9688 0555 E0010000 		.4byte	.LASF49
 9689 0559 01       		.byte	0x1
 9690 055a 1A05     		.2byte	0x51a
 9691 055c 77000000 		.4byte	0x77
 9692 0560 00000000 		.4byte	.LFB52
 9693 0564 34000000 		.4byte	.LFE52-.LFB52
 9694 0568 01       		.uleb128 0x1
 9695 0569 9C       		.byte	0x9c
 9696 056a 8D050000 		.4byte	0x58d
 9697 056e 0F       		.uleb128 0xf
 9698 056f 7A000000 		.4byte	.LASF20
 9699 0573 01       		.byte	0x1
 9700 0574 1A05     		.2byte	0x51a
 9701 0576 2C000000 		.4byte	0x2c
 9702 057a 02       		.uleb128 0x2
 9703 057b 91       		.byte	0x91
 9704 057c 6F       		.sleb128 -17
 9705 057d 10       		.uleb128 0x10
 9706 057e F1040000 		.4byte	.LASF50
 9707 0582 01       		.byte	0x1
 9708 0583 1E05     		.2byte	0x51e
 9709 0585 77000000 		.4byte	0x77
 9710 0589 02       		.uleb128 0x2
 9711 058a 91       		.byte	0x91
 9712 058b 74       		.sleb128 -12
 9713 058c 00       		.byte	0
 9714 058d 16       		.uleb128 0x16
 9715 058e 7F000000 		.4byte	.LASF52
 9716 0592 01       		.byte	0x1
 9717 0593 3B05     		.2byte	0x53b
 9718 0595 00000000 		.4byte	.LFB53
 9719 0599 2C000000 		.4byte	.LFE53-.LFB53
 9720 059d 01       		.uleb128 0x1
 9721 059e 9C       		.byte	0x9c
 9722 059f B3050000 		.4byte	0x5b3
 9723 05a3 0F       		.uleb128 0xf
 9724 05a4 7A000000 		.4byte	.LASF20
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 246


 9725 05a8 01       		.byte	0x1
 9726 05a9 3B05     		.2byte	0x53b
 9727 05ab 2C000000 		.4byte	0x2c
 9728 05af 02       		.uleb128 0x2
 9729 05b0 91       		.byte	0x91
 9730 05b1 77       		.sleb128 -9
 9731 05b2 00       		.byte	0
 9732 05b3 15       		.uleb128 0x15
 9733 05b4 2E030000 		.4byte	.LASF53
 9734 05b8 01       		.byte	0x1
 9735 05b9 5905     		.2byte	0x559
 9736 05bb 2C000000 		.4byte	0x2c
 9737 05bf 00000000 		.4byte	.LFB54
 9738 05c3 40000000 		.4byte	.LFE54-.LFB54
 9739 05c7 01       		.uleb128 0x1
 9740 05c8 9C       		.byte	0x9c
 9741 05c9 EC050000 		.4byte	0x5ec
 9742 05cd 0F       		.uleb128 0xf
 9743 05ce 7A000000 		.4byte	.LASF20
 9744 05d2 01       		.byte	0x1
 9745 05d3 5905     		.2byte	0x559
 9746 05d5 2C000000 		.4byte	0x2c
 9747 05d9 02       		.uleb128 0x2
 9748 05da 91       		.byte	0x91
 9749 05db 6F       		.sleb128 -17
 9750 05dc 10       		.uleb128 0x10
 9751 05dd 1F060000 		.4byte	.LASF23
 9752 05e1 01       		.byte	0x1
 9753 05e2 5D05     		.2byte	0x55d
 9754 05e4 2C000000 		.4byte	0x2c
 9755 05e8 02       		.uleb128 0x2
 9756 05e9 91       		.byte	0x91
 9757 05ea 77       		.sleb128 -9
 9758 05eb 00       		.byte	0
 9759 05ec 15       		.uleb128 0x15
 9760 05ed 6A050000 		.4byte	.LASF54
 9761 05f1 01       		.byte	0x1
 9762 05f2 7E05     		.2byte	0x57e
 9763 05f4 2C000000 		.4byte	0x2c
 9764 05f8 00000000 		.4byte	.LFB55
 9765 05fc 3C000000 		.4byte	.LFE55-.LFB55
 9766 0600 01       		.uleb128 0x1
 9767 0601 9C       		.byte	0x9c
 9768 0602 25060000 		.4byte	0x625
 9769 0606 0F       		.uleb128 0xf
 9770 0607 7A000000 		.4byte	.LASF20
 9771 060b 01       		.byte	0x1
 9772 060c 7E05     		.2byte	0x57e
 9773 060e 2C000000 		.4byte	0x2c
 9774 0612 02       		.uleb128 0x2
 9775 0613 91       		.byte	0x91
 9776 0614 6F       		.sleb128 -17
 9777 0615 10       		.uleb128 0x10
 9778 0616 1F060000 		.4byte	.LASF23
 9779 061a 01       		.byte	0x1
 9780 061b 8105     		.2byte	0x581
 9781 061d 2C000000 		.4byte	0x2c
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 247


 9782 0621 02       		.uleb128 0x2
 9783 0622 91       		.byte	0x91
 9784 0623 77       		.sleb128 -9
 9785 0624 00       		.byte	0
 9786 0625 15       		.uleb128 0x15
 9787 0626 51050000 		.4byte	.LASF55
 9788 062a 01       		.byte	0x1
 9789 062b 9F05     		.2byte	0x59f
 9790 062d 77000000 		.4byte	0x77
 9791 0631 00000000 		.4byte	.LFB56
 9792 0635 34000000 		.4byte	.LFE56-.LFB56
 9793 0639 01       		.uleb128 0x1
 9794 063a 9C       		.byte	0x9c
 9795 063b 5E060000 		.4byte	0x65e
 9796 063f 0F       		.uleb128 0xf
 9797 0640 7A000000 		.4byte	.LASF20
 9798 0644 01       		.byte	0x1
 9799 0645 9F05     		.2byte	0x59f
 9800 0647 2C000000 		.4byte	0x2c
 9801 064b 02       		.uleb128 0x2
 9802 064c 91       		.byte	0x91
 9803 064d 6F       		.sleb128 -17
 9804 064e 10       		.uleb128 0x10
 9805 064f 0C090000 		.4byte	.LASF56
 9806 0653 01       		.byte	0x1
 9807 0654 A105     		.2byte	0x5a1
 9808 0656 77000000 		.4byte	0x77
 9809 065a 02       		.uleb128 0x2
 9810 065b 91       		.byte	0x91
 9811 065c 74       		.sleb128 -12
 9812 065d 00       		.byte	0
 9813 065e 0E       		.uleb128 0xe
 9814 065f 7D070000 		.4byte	.LASF57
 9815 0663 01       		.byte	0x1
 9816 0664 C105     		.2byte	0x5c1
 9817 0666 2C000000 		.4byte	0x2c
 9818 066a 00000000 		.4byte	.LFB57
 9819 066e 70000000 		.4byte	.LFE57-.LFB57
 9820 0672 01       		.uleb128 0x1
 9821 0673 9C       		.byte	0x9c
 9822 0674 A6060000 		.4byte	0x6a6
 9823 0678 0F       		.uleb128 0xf
 9824 0679 64070000 		.4byte	.LASF21
 9825 067d 01       		.byte	0x1
 9826 067e C105     		.2byte	0x5c1
 9827 0680 BC000000 		.4byte	0xbc
 9828 0684 02       		.uleb128 0x2
 9829 0685 91       		.byte	0x91
 9830 0686 64       		.sleb128 -28
 9831 0687 10       		.uleb128 0x10
 9832 0688 DE030000 		.4byte	.LASF24
 9833 068c 01       		.byte	0x1
 9834 068d C305     		.2byte	0x5c3
 9835 068f 2C000000 		.4byte	0x2c
 9836 0693 02       		.uleb128 0x2
 9837 0694 91       		.byte	0x91
 9838 0695 6F       		.sleb128 -17
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 248


 9839 0696 10       		.uleb128 0x10
 9840 0697 7A000000 		.4byte	.LASF20
 9841 069b 01       		.byte	0x1
 9842 069c C405     		.2byte	0x5c4
 9843 069e 2C000000 		.4byte	0x2c
 9844 06a2 02       		.uleb128 0x2
 9845 06a3 91       		.byte	0x91
 9846 06a4 6E       		.sleb128 -18
 9847 06a5 00       		.byte	0
 9848 06a6 0E       		.uleb128 0xe
 9849 06a7 A1020000 		.4byte	.LASF58
 9850 06ab 01       		.byte	0x1
 9851 06ac EF05     		.2byte	0x5ef
 9852 06ae 2C000000 		.4byte	0x2c
 9853 06b2 00000000 		.4byte	.LFB58
 9854 06b6 4C010000 		.4byte	.LFE58-.LFB58
 9855 06ba 01       		.uleb128 0x1
 9856 06bb 9C       		.byte	0x9c
 9857 06bc 28070000 		.4byte	0x728
 9858 06c0 0F       		.uleb128 0xf
 9859 06c1 1D070000 		.4byte	.LASF59
 9860 06c5 01       		.byte	0x1
 9861 06c6 EF05     		.2byte	0x5ef
 9862 06c8 BC000000 		.4byte	0xbc
 9863 06cc 02       		.uleb128 0x2
 9864 06cd 91       		.byte	0x91
 9865 06ce 54       		.sleb128 -44
 9866 06cf 0F       		.uleb128 0xf
 9867 06d0 37070000 		.4byte	.LASF60
 9868 06d4 01       		.byte	0x1
 9869 06d5 EF05     		.2byte	0x5ef
 9870 06d7 BC000000 		.4byte	0xbc
 9871 06db 02       		.uleb128 0x2
 9872 06dc 91       		.byte	0x91
 9873 06dd 50       		.sleb128 -48
 9874 06de 13       		.uleb128 0x13
 9875 06df 7800     		.ascii	"x\000"
 9876 06e1 01       		.byte	0x1
 9877 06e2 F205     		.2byte	0x5f2
 9878 06e4 2C000000 		.4byte	0x2c
 9879 06e8 02       		.uleb128 0x2
 9880 06e9 91       		.byte	0x91
 9881 06ea 6F       		.sleb128 -17
 9882 06eb 10       		.uleb128 0x10
 9883 06ec DE030000 		.4byte	.LASF24
 9884 06f0 01       		.byte	0x1
 9885 06f1 F305     		.2byte	0x5f3
 9886 06f3 2C000000 		.4byte	0x2c
 9887 06f7 02       		.uleb128 0x2
 9888 06f8 91       		.byte	0x91
 9889 06f9 6E       		.sleb128 -18
 9890 06fa 10       		.uleb128 0x10
 9891 06fb 7A000000 		.4byte	.LASF20
 9892 06ff 01       		.byte	0x1
 9893 0700 F405     		.2byte	0x5f4
 9894 0702 2C000000 		.4byte	0x2c
 9895 0706 02       		.uleb128 0x2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 249


 9896 0707 91       		.byte	0x91
 9897 0708 6D       		.sleb128 -19
 9898 0709 10       		.uleb128 0x10
 9899 070a 79080000 		.4byte	.LASF61
 9900 070e 01       		.byte	0x1
 9901 070f F505     		.2byte	0x5f5
 9902 0711 BC000000 		.4byte	0xbc
 9903 0715 02       		.uleb128 0x2
 9904 0716 91       		.byte	0x91
 9905 0717 68       		.sleb128 -24
 9906 0718 10       		.uleb128 0x10
 9907 0719 6D070000 		.4byte	.LASF25
 9908 071d 01       		.byte	0x1
 9909 071e F605     		.2byte	0x5f6
 9910 0720 AC010000 		.4byte	0x1ac
 9911 0724 02       		.uleb128 0x2
 9912 0725 91       		.byte	0x91
 9913 0726 58       		.sleb128 -40
 9914 0727 00       		.byte	0
 9915 0728 0E       		.uleb128 0xe
 9916 0729 07020000 		.4byte	.LASF62
 9917 072d 01       		.byte	0x1
 9918 072e 4106     		.2byte	0x641
 9919 0730 2C000000 		.4byte	0x2c
 9920 0734 00000000 		.4byte	.LFB59
 9921 0738 44010000 		.4byte	.LFE59-.LFB59
 9922 073c 01       		.uleb128 0x1
 9923 073d 9C       		.byte	0x9c
 9924 073e 8E070000 		.4byte	0x78e
 9925 0742 0F       		.uleb128 0xf
 9926 0743 1D070000 		.4byte	.LASF59
 9927 0747 01       		.byte	0x1
 9928 0748 4106     		.2byte	0x641
 9929 074a BC000000 		.4byte	0xbc
 9930 074e 02       		.uleb128 0x2
 9931 074f 91       		.byte	0x91
 9932 0750 64       		.sleb128 -28
 9933 0751 0F       		.uleb128 0xf
 9934 0752 37070000 		.4byte	.LASF60
 9935 0756 01       		.byte	0x1
 9936 0757 4106     		.2byte	0x641
 9937 0759 BC000000 		.4byte	0xbc
 9938 075d 02       		.uleb128 0x2
 9939 075e 91       		.byte	0x91
 9940 075f 60       		.sleb128 -32
 9941 0760 10       		.uleb128 0x10
 9942 0761 DE030000 		.4byte	.LASF24
 9943 0765 01       		.byte	0x1
 9944 0766 4306     		.2byte	0x643
 9945 0768 2C000000 		.4byte	0x2c
 9946 076c 02       		.uleb128 0x2
 9947 076d 91       		.byte	0x91
 9948 076e 6F       		.sleb128 -17
 9949 076f 10       		.uleb128 0x10
 9950 0770 7A000000 		.4byte	.LASF20
 9951 0774 01       		.byte	0x1
 9952 0775 4406     		.2byte	0x644
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 250


 9953 0777 2C000000 		.4byte	0x2c
 9954 077b 02       		.uleb128 0x2
 9955 077c 91       		.byte	0x91
 9956 077d 6E       		.sleb128 -18
 9957 077e 10       		.uleb128 0x10
 9958 077f 19060000 		.4byte	.LASF63
 9959 0783 01       		.byte	0x1
 9960 0784 4406     		.2byte	0x644
 9961 0786 2C000000 		.4byte	0x2c
 9962 078a 02       		.uleb128 0x2
 9963 078b 91       		.byte	0x91
 9964 078c 6D       		.sleb128 -19
 9965 078d 00       		.byte	0
 9966 078e 12       		.uleb128 0x12
 9967 078f DD050000 		.4byte	.LASF64
 9968 0793 01       		.byte	0x1
 9969 0794 8E06     		.2byte	0x68e
 9970 0796 00000000 		.4byte	.LFB60
 9971 079a F4000000 		.4byte	.LFE60-.LFB60
 9972 079e 01       		.uleb128 0x1
 9973 079f 9C       		.byte	0x9c
 9974 07a0 C3070000 		.4byte	0x7c3
 9975 07a4 0F       		.uleb128 0xf
 9976 07a5 29040000 		.4byte	.LASF65
 9977 07a9 01       		.byte	0x1
 9978 07aa 8E06     		.2byte	0x68e
 9979 07ac 2C000000 		.4byte	0x2c
 9980 07b0 02       		.uleb128 0x2
 9981 07b1 91       		.byte	0x91
 9982 07b2 77       		.sleb128 -9
 9983 07b3 0F       		.uleb128 0xf
 9984 07b4 24060000 		.4byte	.LASF66
 9985 07b8 01       		.byte	0x1
 9986 07b9 8E06     		.2byte	0x68e
 9987 07bb 77000000 		.4byte	0x77
 9988 07bf 02       		.uleb128 0x2
 9989 07c0 91       		.byte	0x91
 9990 07c1 70       		.sleb128 -16
 9991 07c2 00       		.byte	0
 9992 07c3 0E       		.uleb128 0xe
 9993 07c4 92080000 		.4byte	.LASF67
 9994 07c8 01       		.byte	0x1
 9995 07c9 D906     		.2byte	0x6d9
 9996 07cb 2C000000 		.4byte	0x2c
 9997 07cf 00000000 		.4byte	.LFB61
 9998 07d3 7C000000 		.4byte	.LFE61-.LFB61
 9999 07d7 01       		.uleb128 0x1
 10000 07d8 9C       		.byte	0x9c
 10001 07d9 1A080000 		.4byte	0x81a
 10002 07dd 10       		.uleb128 0x10
 10003 07de DE030000 		.4byte	.LASF24
 10004 07e2 01       		.byte	0x1
 10005 07e3 DB06     		.2byte	0x6db
 10006 07e5 2C000000 		.4byte	0x2c
 10007 07e9 02       		.uleb128 0x2
 10008 07ea 91       		.byte	0x91
 10009 07eb 6F       		.sleb128 -17
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 251


 10010 07ec 10       		.uleb128 0x10
 10011 07ed C1080000 		.4byte	.LASF68
 10012 07f1 01       		.byte	0x1
 10013 07f2 DC06     		.2byte	0x6dc
 10014 07f4 6B000000 		.4byte	0x6b
 10015 07f8 02       		.uleb128 0x2
 10016 07f9 91       		.byte	0x91
 10017 07fa 6E       		.sleb128 -18
 10018 07fb 10       		.uleb128 0x10
 10019 07fc C7080000 		.4byte	.LASF69
 10020 0800 01       		.byte	0x1
 10021 0801 DC06     		.2byte	0x6dc
 10022 0803 6B000000 		.4byte	0x6b
 10023 0807 02       		.uleb128 0x2
 10024 0808 91       		.byte	0x91
 10025 0809 6D       		.sleb128 -19
 10026 080a 10       		.uleb128 0x10
 10027 080b CD080000 		.4byte	.LASF70
 10028 080f 01       		.byte	0x1
 10029 0810 DC06     		.2byte	0x6dc
 10030 0812 6B000000 		.4byte	0x6b
 10031 0816 02       		.uleb128 0x2
 10032 0817 91       		.byte	0x91
 10033 0818 6C       		.sleb128 -20
 10034 0819 00       		.byte	0
 10035 081a 0E       		.uleb128 0xe
 10036 081b 9F080000 		.4byte	.LASF71
 10037 081f 01       		.byte	0x1
 10038 0820 0907     		.2byte	0x709
 10039 0822 64000000 		.4byte	0x64
 10040 0826 00000000 		.4byte	.LFB62
 10041 082a 64000000 		.4byte	.LFE62-.LFB62
 10042 082e 01       		.uleb128 0x1
 10043 082f 9C       		.byte	0x9c
 10044 0830 53080000 		.4byte	0x853
 10045 0834 10       		.uleb128 0x10
 10046 0835 DE030000 		.4byte	.LASF24
 10047 0839 01       		.byte	0x1
 10048 083a 0D07     		.2byte	0x70d
 10049 083c 64000000 		.4byte	0x64
 10050 0840 02       		.uleb128 0x2
 10051 0841 91       		.byte	0x91
 10052 0842 6C       		.sleb128 -20
 10053 0843 10       		.uleb128 0x10
 10054 0844 0E060000 		.4byte	.LASF72
 10055 0848 01       		.byte	0x1
 10056 0849 0E07     		.2byte	0x70e
 10057 084b 2C000000 		.4byte	0x2c
 10058 084f 02       		.uleb128 0x2
 10059 0850 91       		.byte	0x91
 10060 0851 6B       		.sleb128 -21
 10061 0852 00       		.byte	0
 10062 0853 17       		.uleb128 0x17
 10063 0854 43050000 		.4byte	.LASF73
 10064 0858 01       		.byte	0x1
 10065 0859 3A07     		.2byte	0x73a
 10066 085b 00000000 		.4byte	.LFB63
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 252


 10067 085f 30000000 		.4byte	.LFE63-.LFB63
 10068 0863 01       		.uleb128 0x1
 10069 0864 9C       		.byte	0x9c
 10070 0865 12       		.uleb128 0x12
 10071 0866 5E060000 		.4byte	.LASF74
 10072 086a 01       		.byte	0x1
 10073 086b 5A07     		.2byte	0x75a
 10074 086d 00000000 		.4byte	.LFB64
 10075 0871 1C000000 		.4byte	.LFE64-.LFB64
 10076 0875 01       		.uleb128 0x1
 10077 0876 9C       		.byte	0x9c
 10078 0877 86080000 		.4byte	0x886
 10079 087b 18       		.uleb128 0x18
 10080 087c 7800     		.ascii	"x\000"
 10081 087e 01       		.byte	0x1
 10082 087f 5C07     		.2byte	0x75c
 10083 0881 2C000000 		.4byte	0x2c
 10084 0885 00       		.byte	0
 10085 0886 17       		.uleb128 0x17
 10086 0887 5F080000 		.4byte	.LASF75
 10087 088b 01       		.byte	0x1
 10088 088c 7707     		.2byte	0x777
 10089 088e 00000000 		.4byte	.LFB65
 10090 0892 10000000 		.4byte	.LFE65-.LFB65
 10091 0896 01       		.uleb128 0x1
 10092 0897 9C       		.byte	0x9c
 10093 0898 0E       		.uleb128 0xe
 10094 0899 48070000 		.4byte	.LASF76
 10095 089d 01       		.byte	0x1
 10096 089e 9407     		.2byte	0x794
 10097 08a0 2C000000 		.4byte	0x2c
 10098 08a4 00000000 		.4byte	.LFB66
 10099 08a8 94000000 		.4byte	.LFE66-.LFB66
 10100 08ac 01       		.uleb128 0x1
 10101 08ad 9C       		.byte	0x9c
 10102 08ae CF080000 		.4byte	0x8cf
 10103 08b2 10       		.uleb128 0x10
 10104 08b3 DE030000 		.4byte	.LASF24
 10105 08b7 01       		.byte	0x1
 10106 08b8 9607     		.2byte	0x796
 10107 08ba 2C000000 		.4byte	0x2c
 10108 08be 02       		.uleb128 0x2
 10109 08bf 91       		.byte	0x91
 10110 08c0 6B       		.sleb128 -21
 10111 08c1 13       		.uleb128 0x13
 10112 08c2 7800     		.ascii	"x\000"
 10113 08c4 01       		.byte	0x1
 10114 08c5 9707     		.2byte	0x797
 10115 08c7 64000000 		.4byte	0x64
 10116 08cb 02       		.uleb128 0x2
 10117 08cc 91       		.byte	0x91
 10118 08cd 6C       		.sleb128 -20
 10119 08ce 00       		.byte	0
 10120 08cf 0E       		.uleb128 0xe
 10121 08d0 56070000 		.4byte	.LASF77
 10122 08d4 01       		.byte	0x1
 10123 08d5 CD07     		.2byte	0x7cd
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 253


 10124 08d7 2C000000 		.4byte	0x2c
 10125 08db 00000000 		.4byte	.LFB67
 10126 08df 2E000000 		.4byte	.LFE67-.LFB67
 10127 08e3 01       		.uleb128 0x1
 10128 08e4 9C       		.byte	0x9c
 10129 08e5 F9080000 		.4byte	0x8f9
 10130 08e9 10       		.uleb128 0x10
 10131 08ea DE030000 		.4byte	.LASF24
 10132 08ee 01       		.byte	0x1
 10133 08ef D007     		.2byte	0x7d0
 10134 08f1 2C000000 		.4byte	0x2c
 10135 08f5 02       		.uleb128 0x2
 10136 08f6 91       		.byte	0x91
 10137 08f7 6F       		.sleb128 -17
 10138 08f8 00       		.byte	0
 10139 08f9 0E       		.uleb128 0xe
 10140 08fa 1D010000 		.4byte	.LASF78
 10141 08fe 01       		.byte	0x1
 10142 08ff F307     		.2byte	0x7f3
 10143 0901 2C000000 		.4byte	0x2c
 10144 0905 00000000 		.4byte	.LFB68
 10145 0909 2E000000 		.4byte	.LFE68-.LFB68
 10146 090d 01       		.uleb128 0x1
 10147 090e 9C       		.byte	0x9c
 10148 090f 23090000 		.4byte	0x923
 10149 0913 10       		.uleb128 0x10
 10150 0914 DE030000 		.4byte	.LASF24
 10151 0918 01       		.byte	0x1
 10152 0919 F507     		.2byte	0x7f5
 10153 091b 2C000000 		.4byte	0x2c
 10154 091f 02       		.uleb128 0x2
 10155 0920 91       		.byte	0x91
 10156 0921 6F       		.sleb128 -17
 10157 0922 00       		.byte	0
 10158 0923 0E       		.uleb128 0xe
 10159 0924 AB010000 		.4byte	.LASF79
 10160 0928 01       		.byte	0x1
 10161 0929 1708     		.2byte	0x817
 10162 092b 2C000000 		.4byte	0x2c
 10163 092f 00000000 		.4byte	.LFB69
 10164 0933 2E000000 		.4byte	.LFE69-.LFB69
 10165 0937 01       		.uleb128 0x1
 10166 0938 9C       		.byte	0x9c
 10167 0939 4D090000 		.4byte	0x94d
 10168 093d 10       		.uleb128 0x10
 10169 093e DE030000 		.4byte	.LASF24
 10170 0942 01       		.byte	0x1
 10171 0943 1908     		.2byte	0x819
 10172 0945 2C000000 		.4byte	0x2c
 10173 0949 02       		.uleb128 0x2
 10174 094a 91       		.byte	0x91
 10175 094b 6F       		.sleb128 -17
 10176 094c 00       		.byte	0
 10177 094d 0E       		.uleb128 0xe
 10178 094e 9D060000 		.4byte	.LASF80
 10179 0952 01       		.byte	0x1
 10180 0953 3B08     		.2byte	0x83b
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 254


 10181 0955 64000000 		.4byte	0x64
 10182 0959 00000000 		.4byte	.LFB70
 10183 095d 28000000 		.4byte	.LFE70-.LFB70
 10184 0961 01       		.uleb128 0x1
 10185 0962 9C       		.byte	0x9c
 10186 0963 77090000 		.4byte	0x977
 10187 0967 10       		.uleb128 0x10
 10188 0968 DE030000 		.4byte	.LASF24
 10189 096c 01       		.byte	0x1
 10190 096d 3D08     		.2byte	0x83d
 10191 096f 64000000 		.4byte	0x64
 10192 0973 02       		.uleb128 0x2
 10193 0974 91       		.byte	0x91
 10194 0975 74       		.sleb128 -12
 10195 0976 00       		.byte	0
 10196 0977 0E       		.uleb128 0xe
 10197 0978 4A020000 		.4byte	.LASF81
 10198 097c 01       		.byte	0x1
 10199 097d 6108     		.2byte	0x861
 10200 097f 77000000 		.4byte	0x77
 10201 0983 00000000 		.4byte	.LFB71
 10202 0987 B4000000 		.4byte	.LFE71-.LFB71
 10203 098b 01       		.uleb128 0x1
 10204 098c 9C       		.byte	0x9c
 10205 098d BD090000 		.4byte	0x9bd
 10206 0991 10       		.uleb128 0x10
 10207 0992 E5030000 		.4byte	.LASF82
 10208 0996 01       		.byte	0x1
 10209 0997 6308     		.2byte	0x863
 10210 0999 77000000 		.4byte	0x77
 10211 099d 02       		.uleb128 0x2
 10212 099e 91       		.byte	0x91
 10213 099f 74       		.sleb128 -12
 10214 09a0 10       		.uleb128 0x10
 10215 09a1 DE030000 		.4byte	.LASF24
 10216 09a5 01       		.byte	0x1
 10217 09a6 6408     		.2byte	0x864
 10218 09a8 2C000000 		.4byte	0x2c
 10219 09ac 02       		.uleb128 0x2
 10220 09ad 91       		.byte	0x91
 10221 09ae 72       		.sleb128 -14
 10222 09af 13       		.uleb128 0x13
 10223 09b0 7800     		.ascii	"x\000"
 10224 09b2 01       		.byte	0x1
 10225 09b3 6508     		.2byte	0x865
 10226 09b5 2C000000 		.4byte	0x2c
 10227 09b9 02       		.uleb128 0x2
 10228 09ba 91       		.byte	0x91
 10229 09bb 73       		.sleb128 -13
 10230 09bc 00       		.byte	0
 10231 09bd 0E       		.uleb128 0xe
 10232 09be 92020000 		.4byte	.LASF83
 10233 09c2 01       		.byte	0x1
 10234 09c3 D508     		.2byte	0x8d5
 10235 09c5 2C000000 		.4byte	0x2c
 10236 09c9 00000000 		.4byte	.LFB72
 10237 09cd DC030000 		.4byte	.LFE72-.LFB72
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 255


 10238 09d1 01       		.uleb128 0x1
 10239 09d2 9C       		.byte	0x9c
 10240 09d3 210A0000 		.4byte	0xa21
 10241 09d7 0F       		.uleb128 0xf
 10242 09d8 E5030000 		.4byte	.LASF82
 10243 09dc 01       		.byte	0x1
 10244 09dd D508     		.2byte	0x8d5
 10245 09df 77000000 		.4byte	0x77
 10246 09e3 02       		.uleb128 0x2
 10247 09e4 91       		.byte	0x91
 10248 09e5 64       		.sleb128 -28
 10249 09e6 10       		.uleb128 0x10
 10250 09e7 DE030000 		.4byte	.LASF24
 10251 09eb 01       		.byte	0x1
 10252 09ec D708     		.2byte	0x8d7
 10253 09ee 2C000000 		.4byte	0x2c
 10254 09f2 02       		.uleb128 0x2
 10255 09f3 91       		.byte	0x91
 10256 09f4 77       		.sleb128 -9
 10257 09f5 10       		.uleb128 0x10
 10258 09f6 3A030000 		.4byte	.LASF84
 10259 09fa 01       		.byte	0x1
 10260 09fb D808     		.2byte	0x8d8
 10261 09fd 64000000 		.4byte	0x64
 10262 0a01 02       		.uleb128 0x2
 10263 0a02 91       		.byte	0x91
 10264 0a03 68       		.sleb128 -24
 10265 0a04 13       		.uleb128 0x13
 10266 0a05 7800     		.ascii	"x\000"
 10267 0a07 01       		.byte	0x1
 10268 0a08 D908     		.2byte	0x8d9
 10269 0a0a 64000000 		.4byte	0x64
 10270 0a0e 02       		.uleb128 0x2
 10271 0a0f 91       		.byte	0x91
 10272 0a10 70       		.sleb128 -16
 10273 0a11 10       		.uleb128 0x10
 10274 0a12 BD030000 		.4byte	.LASF85
 10275 0a16 01       		.byte	0x1
 10276 0a17 DA08     		.2byte	0x8da
 10277 0a19 77000000 		.4byte	0x77
 10278 0a1d 02       		.uleb128 0x2
 10279 0a1e 91       		.byte	0x91
 10280 0a1f 6C       		.sleb128 -20
 10281 0a20 00       		.byte	0
 10282 0a21 0E       		.uleb128 0xe
 10283 0a22 AB030000 		.4byte	.LASF86
 10284 0a26 01       		.byte	0x1
 10285 0a27 8309     		.2byte	0x983
 10286 0a29 2C000000 		.4byte	0x2c
 10287 0a2d 00000000 		.4byte	.LFB73
 10288 0a31 92000000 		.4byte	.LFE73-.LFB73
 10289 0a35 01       		.uleb128 0x1
 10290 0a36 9C       		.byte	0x9c
 10291 0a37 780A0000 		.4byte	0xa78
 10292 0a3b 0F       		.uleb128 0xf
 10293 0a3c 01090000 		.4byte	.LASF87
 10294 0a40 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 256


 10295 0a41 8309     		.2byte	0x983
 10296 0a43 2C000000 		.4byte	0x2c
 10297 0a47 02       		.uleb128 0x2
 10298 0a48 91       		.byte	0x91
 10299 0a49 67       		.sleb128 -25
 10300 0a4a 10       		.uleb128 0x10
 10301 0a4b DE030000 		.4byte	.LASF24
 10302 0a4f 01       		.byte	0x1
 10303 0a50 8509     		.2byte	0x985
 10304 0a52 2C000000 		.4byte	0x2c
 10305 0a56 02       		.uleb128 0x2
 10306 0a57 91       		.byte	0x91
 10307 0a58 6F       		.sleb128 -17
 10308 0a59 10       		.uleb128 0x10
 10309 0a5a 00000000 		.4byte	.LASF88
 10310 0a5e 01       		.byte	0x1
 10311 0a5f 8609     		.2byte	0x986
 10312 0a61 2C000000 		.4byte	0x2c
 10313 0a65 02       		.uleb128 0x2
 10314 0a66 91       		.byte	0x91
 10315 0a67 6E       		.sleb128 -18
 10316 0a68 10       		.uleb128 0x10
 10317 0a69 8C020000 		.4byte	.LASF89
 10318 0a6d 01       		.byte	0x1
 10319 0a6e 8709     		.2byte	0x987
 10320 0a70 2C000000 		.4byte	0x2c
 10321 0a74 02       		.uleb128 0x2
 10322 0a75 91       		.byte	0x91
 10323 0a76 6D       		.sleb128 -19
 10324 0a77 00       		.byte	0
 10325 0a78 0E       		.uleb128 0xe
 10326 0a79 22000000 		.4byte	.LASF90
 10327 0a7d 01       		.byte	0x1
 10328 0a7e B309     		.2byte	0x9b3
 10329 0a80 2C000000 		.4byte	0x2c
 10330 0a84 00000000 		.4byte	.LFB74
 10331 0a88 38000000 		.4byte	.LFE74-.LFB74
 10332 0a8c 01       		.uleb128 0x1
 10333 0a8d 9C       		.byte	0x9c
 10334 0a8e B10A0000 		.4byte	0xab1
 10335 0a92 0F       		.uleb128 0xf
 10336 0a93 F1040000 		.4byte	.LASF50
 10337 0a97 01       		.byte	0x1
 10338 0a98 B309     		.2byte	0x9b3
 10339 0a9a 77000000 		.4byte	0x77
 10340 0a9e 02       		.uleb128 0x2
 10341 0a9f 91       		.byte	0x91
 10342 0aa0 64       		.sleb128 -28
 10343 0aa1 10       		.uleb128 0x10
 10344 0aa2 DE030000 		.4byte	.LASF24
 10345 0aa6 01       		.byte	0x1
 10346 0aa7 B509     		.2byte	0x9b5
 10347 0aa9 2C000000 		.4byte	0x2c
 10348 0aad 02       		.uleb128 0x2
 10349 0aae 91       		.byte	0x91
 10350 0aaf 6F       		.sleb128 -17
 10351 0ab0 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 257


 10352 0ab1 12       		.uleb128 0x12
 10353 0ab2 2C010000 		.4byte	.LASF91
 10354 0ab6 01       		.byte	0x1
 10355 0ab7 D809     		.2byte	0x9d8
 10356 0ab9 00000000 		.4byte	.LFB75
 10357 0abd 2C000000 		.4byte	.LFE75-.LFB75
 10358 0ac1 01       		.uleb128 0x1
 10359 0ac2 9C       		.byte	0x9c
 10360 0ac3 D70A0000 		.4byte	0xad7
 10361 0ac7 10       		.uleb128 0x10
 10362 0ac8 B4020000 		.4byte	.LASF92
 10363 0acc 01       		.byte	0x1
 10364 0acd DA09     		.2byte	0x9da
 10365 0acf 6B000000 		.4byte	0x6b
 10366 0ad3 02       		.uleb128 0x2
 10367 0ad4 91       		.byte	0x91
 10368 0ad5 6F       		.sleb128 -17
 10369 0ad6 00       		.byte	0
 10370 0ad7 12       		.uleb128 0x12
 10371 0ad8 86030000 		.4byte	.LASF93
 10372 0adc 01       		.byte	0x1
 10373 0add FB09     		.2byte	0x9fb
 10374 0adf 00000000 		.4byte	.LFB76
 10375 0ae3 BC000000 		.4byte	.LFE76-.LFB76
 10376 0ae7 01       		.uleb128 0x1
 10377 0ae8 9C       		.byte	0x9c
 10378 0ae9 0C0B0000 		.4byte	0xb0c
 10379 0aed 0F       		.uleb128 0xf
 10380 0aee 7A000000 		.4byte	.LASF20
 10381 0af2 01       		.byte	0x1
 10382 0af3 FB09     		.2byte	0x9fb
 10383 0af5 2C000000 		.4byte	0x2c
 10384 0af9 02       		.uleb128 0x2
 10385 0afa 91       		.byte	0x91
 10386 0afb 67       		.sleb128 -25
 10387 0afc 10       		.uleb128 0x10
 10388 0afd C6030000 		.4byte	.LASF94
 10389 0b01 01       		.byte	0x1
 10390 0b02 FE09     		.2byte	0x9fe
 10391 0b04 77000000 		.4byte	0x77
 10392 0b08 02       		.uleb128 0x2
 10393 0b09 91       		.byte	0x91
 10394 0b0a 6C       		.sleb128 -20
 10395 0b0b 00       		.byte	0
 10396 0b0c 0E       		.uleb128 0xe
 10397 0b0d DB040000 		.4byte	.LASF95
 10398 0b11 01       		.byte	0x1
 10399 0b12 2D0A     		.2byte	0xa2d
 10400 0b14 77000000 		.4byte	0x77
 10401 0b18 00000000 		.4byte	.LFB77
 10402 0b1c 44010000 		.4byte	.LFE77-.LFB77
 10403 0b20 01       		.uleb128 0x1
 10404 0b21 9C       		.byte	0x9c
 10405 0b22 8E0B0000 		.4byte	0xb8e
 10406 0b26 0F       		.uleb128 0xf
 10407 0b27 07060000 		.4byte	.LASF96
 10408 0b2b 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 258


 10409 0b2c 2D0A     		.2byte	0xa2d
 10410 0b2e 77000000 		.4byte	0x77
 10411 0b32 02       		.uleb128 0x2
 10412 0b33 91       		.byte	0x91
 10413 0b34 5C       		.sleb128 -36
 10414 0b35 10       		.uleb128 0x10
 10415 0b36 5A040000 		.4byte	.LASF97
 10416 0b3a 01       		.byte	0x1
 10417 0b3b 360A     		.2byte	0xa36
 10418 0b3d 77000000 		.4byte	0x77
 10419 0b41 02       		.uleb128 0x2
 10420 0b42 91       		.byte	0x91
 10421 0b43 74       		.sleb128 -12
 10422 0b44 10       		.uleb128 0x10
 10423 0b45 DE030000 		.4byte	.LASF24
 10424 0b49 01       		.byte	0x1
 10425 0b4a 3A0A     		.2byte	0xa3a
 10426 0b4c 2C000000 		.4byte	0x2c
 10427 0b50 02       		.uleb128 0x2
 10428 0b51 91       		.byte	0x91
 10429 0b52 6B       		.sleb128 -21
 10430 0b53 13       		.uleb128 0x13
 10431 0b54 7800     		.ascii	"x\000"
 10432 0b56 01       		.byte	0x1
 10433 0b57 3B0A     		.2byte	0xa3b
 10434 0b59 2C000000 		.4byte	0x2c
 10435 0b5d 02       		.uleb128 0x2
 10436 0b5e 91       		.byte	0x91
 10437 0b5f 73       		.sleb128 -13
 10438 0b60 10       		.uleb128 0x10
 10439 0b61 43070000 		.4byte	.LASF98
 10440 0b65 01       		.byte	0x1
 10441 0b66 3C0A     		.2byte	0xa3c
 10442 0b68 2C000000 		.4byte	0x2c
 10443 0b6c 02       		.uleb128 0x2
 10444 0b6d 91       		.byte	0x91
 10445 0b6e 72       		.sleb128 -14
 10446 0b6f 13       		.uleb128 0x13
 10447 0b70 546D7000 		.ascii	"Tmp\000"
 10448 0b74 01       		.byte	0x1
 10449 0b75 3D0A     		.2byte	0xa3d
 10450 0b77 9F000000 		.4byte	0x9f
 10451 0b7b 02       		.uleb128 0x2
 10452 0b7c 91       		.byte	0x91
 10453 0b7d 64       		.sleb128 -28
 10454 0b7e 10       		.uleb128 0x10
 10455 0b7f C6060000 		.4byte	.LASF99
 10456 0b83 01       		.byte	0x1
 10457 0b84 3E0A     		.2byte	0xa3e
 10458 0b86 77000000 		.4byte	0x77
 10459 0b8a 02       		.uleb128 0x2
 10460 0b8b 91       		.byte	0x91
 10461 0b8c 6C       		.sleb128 -20
 10462 0b8d 00       		.byte	0
 10463 0b8e 0E       		.uleb128 0xe
 10464 0b8f C4050000 		.4byte	.LASF100
 10465 0b93 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 259


 10466 0b94 9C0A     		.2byte	0xa9c
 10467 0b96 77000000 		.4byte	0x77
 10468 0b9a 00000000 		.4byte	.LFB78
 10469 0b9e 5C000000 		.4byte	.LFE78-.LFB78
 10470 0ba2 01       		.uleb128 0x1
 10471 0ba3 9C       		.byte	0x9c
 10472 0ba4 D60B0000 		.4byte	0xbd6
 10473 0ba8 0F       		.uleb128 0xf
 10474 0ba9 7A000000 		.4byte	.LASF20
 10475 0bad 01       		.byte	0x1
 10476 0bae 9C0A     		.2byte	0xa9c
 10477 0bb0 2C000000 		.4byte	0x2c
 10478 0bb4 02       		.uleb128 0x2
 10479 0bb5 91       		.byte	0x91
 10480 0bb6 6F       		.sleb128 -17
 10481 0bb7 10       		.uleb128 0x10
 10482 0bb8 5A040000 		.4byte	.LASF97
 10483 0bbc 01       		.byte	0x1
 10484 0bbd A30A     		.2byte	0xaa3
 10485 0bbf 77000000 		.4byte	0x77
 10486 0bc3 02       		.uleb128 0x2
 10487 0bc4 91       		.byte	0x91
 10488 0bc5 74       		.sleb128 -12
 10489 0bc6 10       		.uleb128 0x10
 10490 0bc7 83010000 		.4byte	.LASF101
 10491 0bcb 01       		.byte	0x1
 10492 0bcc A40A     		.2byte	0xaa4
 10493 0bce 77000000 		.4byte	0x77
 10494 0bd2 02       		.uleb128 0x2
 10495 0bd3 91       		.byte	0x91
 10496 0bd4 70       		.sleb128 -16
 10497 0bd5 00       		.byte	0
 10498 0bd6 0E       		.uleb128 0xe
 10499 0bd7 33050000 		.4byte	.LASF102
 10500 0bdb 01       		.byte	0x1
 10501 0bdc D70A     		.2byte	0xad7
 10502 0bde 2C000000 		.4byte	0x2c
 10503 0be2 00000000 		.4byte	.LFB79
 10504 0be6 E4000000 		.4byte	.LFE79-.LFB79
 10505 0bea 01       		.uleb128 0x1
 10506 0beb 9C       		.byte	0x9c
 10507 0bec 0F0C0000 		.4byte	0xc0f
 10508 0bf0 0F       		.uleb128 0xf
 10509 0bf1 7A000000 		.4byte	.LASF20
 10510 0bf5 01       		.byte	0x1
 10511 0bf6 D70A     		.2byte	0xad7
 10512 0bf8 2C000000 		.4byte	0x2c
 10513 0bfc 02       		.uleb128 0x2
 10514 0bfd 91       		.byte	0x91
 10515 0bfe 6F       		.sleb128 -17
 10516 0bff 10       		.uleb128 0x10
 10517 0c00 DE030000 		.4byte	.LASF24
 10518 0c04 01       		.byte	0x1
 10519 0c05 D90A     		.2byte	0xad9
 10520 0c07 2C000000 		.4byte	0x2c
 10521 0c0b 02       		.uleb128 0x2
 10522 0c0c 91       		.byte	0x91
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 260


 10523 0c0d 77       		.sleb128 -9
 10524 0c0e 00       		.byte	0
 10525 0c0f 0E       		.uleb128 0xe
 10526 0c10 3C010000 		.4byte	.LASF103
 10527 0c14 01       		.byte	0x1
 10528 0c15 110B     		.2byte	0xb11
 10529 0c17 2C000000 		.4byte	0x2c
 10530 0c1b 00000000 		.4byte	.LFB80
 10531 0c1f 68040000 		.4byte	.LFE80-.LFB80
 10532 0c23 01       		.uleb128 0x1
 10533 0c24 9C       		.byte	0x9c
 10534 0c25 9E0C0000 		.4byte	0xc9e
 10535 0c29 0F       		.uleb128 0xf
 10536 0c2a 7A000000 		.4byte	.LASF20
 10537 0c2e 01       		.byte	0x1
 10538 0c2f 110B     		.2byte	0xb11
 10539 0c31 2C000000 		.4byte	0x2c
 10540 0c35 02       		.uleb128 0x2
 10541 0c36 91       		.byte	0x91
 10542 0c37 5F       		.sleb128 -33
 10543 0c38 0F       		.uleb128 0xf
 10544 0c39 EF030000 		.4byte	.LASF104
 10545 0c3d 01       		.byte	0x1
 10546 0c3e 110B     		.2byte	0xb11
 10547 0c40 64000000 		.4byte	0x64
 10548 0c44 02       		.uleb128 0x2
 10549 0c45 91       		.byte	0x91
 10550 0c46 58       		.sleb128 -40
 10551 0c47 10       		.uleb128 0x10
 10552 0c48 A1040000 		.4byte	.LASF105
 10553 0c4c 01       		.byte	0x1
 10554 0c4d 180B     		.2byte	0xb18
 10555 0c4f 2C000000 		.4byte	0x2c
 10556 0c53 02       		.uleb128 0x2
 10557 0c54 91       		.byte	0x91
 10558 0c55 6F       		.sleb128 -17
 10559 0c56 13       		.uleb128 0x13
 10560 0c57 656E6400 		.ascii	"end\000"
 10561 0c5b 01       		.byte	0x1
 10562 0c5c 190B     		.2byte	0xb19
 10563 0c5e 2C000000 		.4byte	0x2c
 10564 0c62 02       		.uleb128 0x2
 10565 0c63 91       		.byte	0x91
 10566 0c64 6E       		.sleb128 -18
 10567 0c65 13       		.uleb128 0x13
 10568 0c66 7800     		.ascii	"x\000"
 10569 0c68 01       		.byte	0x1
 10570 0c69 1A0B     		.2byte	0xb1a
 10571 0c6b 2C000000 		.4byte	0x2c
 10572 0c6f 02       		.uleb128 0x2
 10573 0c70 91       		.byte	0x91
 10574 0c71 6D       		.sleb128 -19
 10575 0c72 13       		.uleb128 0x13
 10576 0c73 7900     		.ascii	"y\000"
 10577 0c75 01       		.byte	0x1
 10578 0c76 1B0B     		.2byte	0xb1b
 10579 0c78 64000000 		.4byte	0x64
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 261


 10580 0c7c 02       		.uleb128 0x2
 10581 0c7d 91       		.byte	0x91
 10582 0c7e 68       		.sleb128 -24
 10583 0c7f 10       		.uleb128 0x10
 10584 0c80 EB040000 		.4byte	.LASF106
 10585 0c84 01       		.byte	0x1
 10586 0c85 1C0B     		.2byte	0xb1c
 10587 0c87 64000000 		.4byte	0x64
 10588 0c8b 02       		.uleb128 0x2
 10589 0c8c 91       		.byte	0x91
 10590 0c8d 64       		.sleb128 -28
 10591 0c8e 10       		.uleb128 0x10
 10592 0c8f DE030000 		.4byte	.LASF24
 10593 0c93 01       		.byte	0x1
 10594 0c94 1D0B     		.2byte	0xb1d
 10595 0c96 2C000000 		.4byte	0x2c
 10596 0c9a 02       		.uleb128 0x2
 10597 0c9b 91       		.byte	0x91
 10598 0c9c 63       		.sleb128 -29
 10599 0c9d 00       		.byte	0
 10600 0c9e 0E       		.uleb128 0xe
 10601 0c9f C6040000 		.4byte	.LASF107
 10602 0ca3 01       		.byte	0x1
 10603 0ca4 F30B     		.2byte	0xbf3
 10604 0ca6 2C000000 		.4byte	0x2c
 10605 0caa 00000000 		.4byte	.LFB81
 10606 0cae 68000000 		.4byte	.LFE81-.LFB81
 10607 0cb2 01       		.uleb128 0x1
 10608 0cb3 9C       		.byte	0x9c
 10609 0cb4 D70C0000 		.4byte	0xcd7
 10610 0cb8 0F       		.uleb128 0xf
 10611 0cb9 7A000000 		.4byte	.LASF20
 10612 0cbd 01       		.byte	0x1
 10613 0cbe F30B     		.2byte	0xbf3
 10614 0cc0 2C000000 		.4byte	0x2c
 10615 0cc4 02       		.uleb128 0x2
 10616 0cc5 91       		.byte	0x91
 10617 0cc6 67       		.sleb128 -25
 10618 0cc7 10       		.uleb128 0x10
 10619 0cc8 DE030000 		.4byte	.LASF24
 10620 0ccc 01       		.byte	0x1
 10621 0ccd F50B     		.2byte	0xbf5
 10622 0ccf 2C000000 		.4byte	0x2c
 10623 0cd3 02       		.uleb128 0x2
 10624 0cd4 91       		.byte	0x91
 10625 0cd5 6F       		.sleb128 -17
 10626 0cd6 00       		.byte	0
 10627 0cd7 0E       		.uleb128 0xe
 10628 0cd8 82040000 		.4byte	.LASF108
 10629 0cdc 01       		.byte	0x1
 10630 0cdd 1E0C     		.2byte	0xc1e
 10631 0cdf 2C000000 		.4byte	0x2c
 10632 0ce3 00000000 		.4byte	.LFB82
 10633 0ce7 7C010000 		.4byte	.LFE82-.LFB82
 10634 0ceb 01       		.uleb128 0x1
 10635 0cec 9C       		.byte	0x9c
 10636 0ced 1D0D0000 		.4byte	0xd1d
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 262


 10637 0cf1 0F       		.uleb128 0xf
 10638 0cf2 C6060000 		.4byte	.LASF99
 10639 0cf6 01       		.byte	0x1
 10640 0cf7 1E0C     		.2byte	0xc1e
 10641 0cf9 77000000 		.4byte	0x77
 10642 0cfd 02       		.uleb128 0x2
 10643 0cfe 91       		.byte	0x91
 10644 0cff 64       		.sleb128 -28
 10645 0d00 10       		.uleb128 0x10
 10646 0d01 DE030000 		.4byte	.LASF24
 10647 0d05 01       		.byte	0x1
 10648 0d06 200C     		.2byte	0xc20
 10649 0d08 2C000000 		.4byte	0x2c
 10650 0d0c 02       		.uleb128 0x2
 10651 0d0d 91       		.byte	0x91
 10652 0d0e 6F       		.sleb128 -17
 10653 0d0f 13       		.uleb128 0x13
 10654 0d10 7900     		.ascii	"y\000"
 10655 0d12 01       		.byte	0x1
 10656 0d13 210C     		.2byte	0xc21
 10657 0d15 64000000 		.4byte	0x64
 10658 0d19 02       		.uleb128 0x2
 10659 0d1a 91       		.byte	0x91
 10660 0d1b 68       		.sleb128 -24
 10661 0d1c 00       		.byte	0
 10662 0d1d 0E       		.uleb128 0xe
 10663 0d1e C5070000 		.4byte	.LASF109
 10664 0d22 01       		.byte	0x1
 10665 0d23 9F0C     		.2byte	0xc9f
 10666 0d25 2C000000 		.4byte	0x2c
 10667 0d29 00000000 		.4byte	.LFB83
 10668 0d2d 74000000 		.4byte	.LFE83-.LFB83
 10669 0d31 01       		.uleb128 0x1
 10670 0d32 9C       		.byte	0x9c
 10671 0d33 560D0000 		.4byte	0xd56
 10672 0d37 0F       		.uleb128 0xf
 10673 0d38 7A000000 		.4byte	.LASF20
 10674 0d3c 01       		.byte	0x1
 10675 0d3d 9F0C     		.2byte	0xc9f
 10676 0d3f 2C000000 		.4byte	0x2c
 10677 0d43 02       		.uleb128 0x2
 10678 0d44 91       		.byte	0x91
 10679 0d45 67       		.sleb128 -25
 10680 0d46 10       		.uleb128 0x10
 10681 0d47 DE030000 		.4byte	.LASF24
 10682 0d4b 01       		.byte	0x1
 10683 0d4c A10C     		.2byte	0xca1
 10684 0d4e 2C000000 		.4byte	0x2c
 10685 0d52 02       		.uleb128 0x2
 10686 0d53 91       		.byte	0x91
 10687 0d54 6F       		.sleb128 -17
 10688 0d55 00       		.byte	0
 10689 0d56 0E       		.uleb128 0xe
 10690 0d57 2A060000 		.4byte	.LASF110
 10691 0d5b 01       		.byte	0x1
 10692 0d5c CB0C     		.2byte	0xccb
 10693 0d5e 2C000000 		.4byte	0x2c
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 263


 10694 0d62 00000000 		.4byte	.LFB84
 10695 0d66 C4000000 		.4byte	.LFE84-.LFB84
 10696 0d6a 01       		.uleb128 0x1
 10697 0d6b 9C       		.byte	0x9c
 10698 0d6c 8F0D0000 		.4byte	0xd8f
 10699 0d70 0F       		.uleb128 0xf
 10700 0d71 C6060000 		.4byte	.LASF99
 10701 0d75 01       		.byte	0x1
 10702 0d76 CB0C     		.2byte	0xccb
 10703 0d78 77000000 		.4byte	0x77
 10704 0d7c 02       		.uleb128 0x2
 10705 0d7d 91       		.byte	0x91
 10706 0d7e 6C       		.sleb128 -20
 10707 0d7f 10       		.uleb128 0x10
 10708 0d80 DE030000 		.4byte	.LASF24
 10709 0d84 01       		.byte	0x1
 10710 0d85 CD0C     		.2byte	0xccd
 10711 0d87 2C000000 		.4byte	0x2c
 10712 0d8b 02       		.uleb128 0x2
 10713 0d8c 91       		.byte	0x91
 10714 0d8d 77       		.sleb128 -9
 10715 0d8e 00       		.byte	0
 10716 0d8f 0E       		.uleb128 0xe
 10717 0d90 DF060000 		.4byte	.LASF111
 10718 0d94 01       		.byte	0x1
 10719 0d95 0E0D     		.2byte	0xd0e
 10720 0d97 2C000000 		.4byte	0x2c
 10721 0d9b 00000000 		.4byte	.LFB85
 10722 0d9f 50010000 		.4byte	.LFE85-.LFB85
 10723 0da3 01       		.uleb128 0x1
 10724 0da4 9C       		.byte	0x9c
 10725 0da5 F30D0000 		.4byte	0xdf3
 10726 0da9 0F       		.uleb128 0xf
 10727 0daa 7A000000 		.4byte	.LASF20
 10728 0dae 01       		.byte	0x1
 10729 0daf 0E0D     		.2byte	0xd0e
 10730 0db1 2C000000 		.4byte	0x2c
 10731 0db5 02       		.uleb128 0x2
 10732 0db6 91       		.byte	0x91
 10733 0db7 5F       		.sleb128 -33
 10734 0db8 0F       		.uleb128 0xf
 10735 0db9 64070000 		.4byte	.LASF21
 10736 0dbd 01       		.byte	0x1
 10737 0dbe 0E0D     		.2byte	0xd0e
 10738 0dc0 BC000000 		.4byte	0xbc
 10739 0dc4 02       		.uleb128 0x2
 10740 0dc5 91       		.byte	0x91
 10741 0dc6 58       		.sleb128 -40
 10742 0dc7 13       		.uleb128 0x13
 10743 0dc8 7800     		.ascii	"x\000"
 10744 0dca 01       		.byte	0x1
 10745 0dcb 100D     		.2byte	0xd10
 10746 0dcd 2C000000 		.4byte	0x2c
 10747 0dd1 02       		.uleb128 0x2
 10748 0dd2 91       		.byte	0x91
 10749 0dd3 77       		.sleb128 -9
 10750 0dd4 13       		.uleb128 0x13
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 264


 10751 0dd5 546D7000 		.ascii	"Tmp\000"
 10752 0dd9 01       		.byte	0x1
 10753 0dda 110D     		.2byte	0xd11
 10754 0ddc F30D0000 		.4byte	0xdf3
 10755 0de0 02       		.uleb128 0x2
 10756 0de1 91       		.byte	0x91
 10757 0de2 64       		.sleb128 -28
 10758 0de3 10       		.uleb128 0x10
 10759 0de4 79080000 		.4byte	.LASF61
 10760 0de8 01       		.byte	0x1
 10761 0de9 120D     		.2byte	0xd12
 10762 0deb BC000000 		.4byte	0xbc
 10763 0def 02       		.uleb128 0x2
 10764 0df0 91       		.byte	0x91
 10765 0df1 70       		.sleb128 -16
 10766 0df2 00       		.byte	0
 10767 0df3 05       		.uleb128 0x5
 10768 0df4 2C000000 		.4byte	0x2c
 10769 0df8 030E0000 		.4byte	0xe03
 10770 0dfc 06       		.uleb128 0x6
 10771 0dfd AF000000 		.4byte	0xaf
 10772 0e01 0A       		.byte	0xa
 10773 0e02 00       		.byte	0
 10774 0e03 0E       		.uleb128 0xe
 10775 0e04 F1080000 		.4byte	.LASF112
 10776 0e08 01       		.byte	0x1
 10777 0e09 4B0D     		.2byte	0xd4b
 10778 0e0b 2C000000 		.4byte	0x2c
 10779 0e0f 00000000 		.4byte	.LFB86
 10780 0e13 54010000 		.4byte	.LFE86-.LFB86
 10781 0e17 01       		.uleb128 0x1
 10782 0e18 9C       		.byte	0x9c
 10783 0e19 760E0000 		.4byte	0xe76
 10784 0e1d 0F       		.uleb128 0xf
 10785 0e1e 7A000000 		.4byte	.LASF20
 10786 0e22 01       		.byte	0x1
 10787 0e23 4B0D     		.2byte	0xd4b
 10788 0e25 2C000000 		.4byte	0x2c
 10789 0e29 02       		.uleb128 0x2
 10790 0e2a 91       		.byte	0x91
 10791 0e2b 5F       		.sleb128 -33
 10792 0e2c 11       		.uleb128 0x11
 10793 0e2d 44656C00 		.ascii	"Del\000"
 10794 0e31 01       		.byte	0x1
 10795 0e32 4B0D     		.2byte	0xd4b
 10796 0e34 2C000000 		.4byte	0x2c
 10797 0e38 02       		.uleb128 0x2
 10798 0e39 91       		.byte	0x91
 10799 0e3a 5E       		.sleb128 -34
 10800 0e3b 13       		.uleb128 0x13
 10801 0e3c 7800     		.ascii	"x\000"
 10802 0e3e 01       		.byte	0x1
 10803 0e3f 4D0D     		.2byte	0xd4d
 10804 0e41 2C000000 		.4byte	0x2c
 10805 0e45 02       		.uleb128 0x2
 10806 0e46 91       		.byte	0x91
 10807 0e47 6F       		.sleb128 -17
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 265


 10808 0e48 10       		.uleb128 0x10
 10809 0e49 7E080000 		.4byte	.LASF43
 10810 0e4d 01       		.byte	0x1
 10811 0e4e 4E0D     		.2byte	0xd4e
 10812 0e50 64000000 		.4byte	0x64
 10813 0e54 02       		.uleb128 0x2
 10814 0e55 91       		.byte	0x91
 10815 0e56 68       		.sleb128 -24
 10816 0e57 10       		.uleb128 0x10
 10817 0e58 79080000 		.4byte	.LASF61
 10818 0e5c 01       		.byte	0x1
 10819 0e5d 4F0D     		.2byte	0xd4f
 10820 0e5f BC000000 		.4byte	0xbc
 10821 0e63 02       		.uleb128 0x2
 10822 0e64 91       		.byte	0x91
 10823 0e65 64       		.sleb128 -28
 10824 0e66 10       		.uleb128 0x10
 10825 0e67 DE030000 		.4byte	.LASF24
 10826 0e6b 01       		.byte	0x1
 10827 0e6c 500D     		.2byte	0xd50
 10828 0e6e 2C000000 		.4byte	0x2c
 10829 0e72 02       		.uleb128 0x2
 10830 0e73 91       		.byte	0x91
 10831 0e74 6E       		.sleb128 -18
 10832 0e75 00       		.byte	0
 10833 0e76 0E       		.uleb128 0xe
 10834 0e77 17040000 		.4byte	.LASF113
 10835 0e7b 01       		.byte	0x1
 10836 0e7c 970D     		.2byte	0xd97
 10837 0e7e 2C000000 		.4byte	0x2c
 10838 0e82 00000000 		.4byte	.LFB87
 10839 0e86 0C010000 		.4byte	.LFE87-.LFB87
 10840 0e8a 01       		.uleb128 0x1
 10841 0e8b 9C       		.byte	0x9c
 10842 0e8c DA0E0000 		.4byte	0xeda
 10843 0e90 0F       		.uleb128 0xf
 10844 0e91 10030000 		.4byte	.LASF114
 10845 0e95 01       		.byte	0x1
 10846 0e96 970D     		.2byte	0xd97
 10847 0e98 77000000 		.4byte	0x77
 10848 0e9c 02       		.uleb128 0x2
 10849 0e9d 91       		.byte	0x91
 10850 0e9e 64       		.sleb128 -28
 10851 0e9f 10       		.uleb128 0x10
 10852 0ea0 B9020000 		.4byte	.LASF115
 10853 0ea4 01       		.byte	0x1
 10854 0ea5 9E0D     		.2byte	0xd9e
 10855 0ea7 77000000 		.4byte	0x77
 10856 0eab 02       		.uleb128 0x2
 10857 0eac 91       		.byte	0x91
 10858 0ead 74       		.sleb128 -12
 10859 0eae 10       		.uleb128 0x10
 10860 0eaf 7E080000 		.4byte	.LASF43
 10861 0eb3 01       		.byte	0x1
 10862 0eb4 A20D     		.2byte	0xda2
 10863 0eb6 64000000 		.4byte	0x64
 10864 0eba 02       		.uleb128 0x2
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 266


 10865 0ebb 91       		.byte	0x91
 10866 0ebc 6C       		.sleb128 -20
 10867 0ebd 13       		.uleb128 0x13
 10868 0ebe 7800     		.ascii	"x\000"
 10869 0ec0 01       		.byte	0x1
 10870 0ec1 A30D     		.2byte	0xda3
 10871 0ec3 2C000000 		.4byte	0x2c
 10872 0ec7 02       		.uleb128 0x2
 10873 0ec8 91       		.byte	0x91
 10874 0ec9 73       		.sleb128 -13
 10875 0eca 10       		.uleb128 0x10
 10876 0ecb 79080000 		.4byte	.LASF61
 10877 0ecf 01       		.byte	0x1
 10878 0ed0 A40D     		.2byte	0xda4
 10879 0ed2 BC000000 		.4byte	0xbc
 10880 0ed6 02       		.uleb128 0x2
 10881 0ed7 91       		.byte	0x91
 10882 0ed8 68       		.sleb128 -24
 10883 0ed9 00       		.byte	0
 10884 0eda 0E       		.uleb128 0xe
 10885 0edb 9D010000 		.4byte	.LASF116
 10886 0edf 01       		.byte	0x1
 10887 0ee0 E80D     		.2byte	0xde8
 10888 0ee2 2C000000 		.4byte	0x2c
 10889 0ee6 00000000 		.4byte	.LFB88
 10890 0eea B0010000 		.4byte	.LFE88-.LFB88
 10891 0eee 01       		.uleb128 0x1
 10892 0eef 9C       		.byte	0x9c
 10893 0ef0 3E0F0000 		.4byte	0xf3e
 10894 0ef4 0F       		.uleb128 0xf
 10895 0ef5 7A000000 		.4byte	.LASF20
 10896 0ef9 01       		.byte	0x1
 10897 0efa E80D     		.2byte	0xde8
 10898 0efc 2C000000 		.4byte	0x2c
 10899 0f00 02       		.uleb128 0x2
 10900 0f01 91       		.byte	0x91
 10901 0f02 5F       		.sleb128 -33
 10902 0f03 10       		.uleb128 0x10
 10903 0f04 08030000 		.4byte	.LASF117
 10904 0f08 01       		.byte	0x1
 10905 0f09 ED0D     		.2byte	0xded
 10906 0f0b 77000000 		.4byte	0x77
 10907 0f0f 02       		.uleb128 0x2
 10908 0f10 91       		.byte	0x91
 10909 0f11 64       		.sleb128 -28
 10910 0f12 10       		.uleb128 0x10
 10911 0f13 88010000 		.4byte	.LASF118
 10912 0f17 01       		.byte	0x1
 10913 0f18 EE0D     		.2byte	0xdee
 10914 0f1a 77000000 		.4byte	0x77
 10915 0f1e 02       		.uleb128 0x2
 10916 0f1f 91       		.byte	0x91
 10917 0f20 60       		.sleb128 -32
 10918 0f21 13       		.uleb128 0x13
 10919 0f22 7800     		.ascii	"x\000"
 10920 0f24 01       		.byte	0x1
 10921 0f25 F30D     		.2byte	0xdf3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 267


 10922 0f27 2C000000 		.4byte	0x2c
 10923 0f2b 02       		.uleb128 0x2
 10924 0f2c 91       		.byte	0x91
 10925 0f2d 6F       		.sleb128 -17
 10926 0f2e 10       		.uleb128 0x10
 10927 0f2f 79080000 		.4byte	.LASF61
 10928 0f33 01       		.byte	0x1
 10929 0f34 F40D     		.2byte	0xdf4
 10930 0f36 BC000000 		.4byte	0xbc
 10931 0f3a 02       		.uleb128 0x2
 10932 0f3b 91       		.byte	0x91
 10933 0f3c 68       		.sleb128 -24
 10934 0f3d 00       		.byte	0
 10935 0f3e 15       		.uleb128 0x15
 10936 0f3f 43000000 		.4byte	.LASF119
 10937 0f43 01       		.byte	0x1
 10938 0f44 570E     		.2byte	0xe57
 10939 0f46 BC000000 		.4byte	0xbc
 10940 0f4a 00000000 		.4byte	.LFB89
 10941 0f4e 48000000 		.4byte	.LFE89-.LFB89
 10942 0f52 01       		.uleb128 0x1
 10943 0f53 9C       		.byte	0x9c
 10944 0f54 770F0000 		.4byte	0xf77
 10945 0f58 0F       		.uleb128 0xf
 10946 0f59 7E080000 		.4byte	.LASF43
 10947 0f5d 01       		.byte	0x1
 10948 0f5e 570E     		.2byte	0xe57
 10949 0f60 64000000 		.4byte	0x64
 10950 0f64 02       		.uleb128 0x2
 10951 0f65 91       		.byte	0x91
 10952 0f66 6C       		.sleb128 -20
 10953 0f67 10       		.uleb128 0x10
 10954 0f68 79080000 		.4byte	.LASF61
 10955 0f6c 01       		.byte	0x1
 10956 0f6d 590E     		.2byte	0xe59
 10957 0f6f BC000000 		.4byte	0xbc
 10958 0f73 02       		.uleb128 0x2
 10959 0f74 91       		.byte	0x91
 10960 0f75 74       		.sleb128 -12
 10961 0f76 00       		.byte	0
 10962 0f77 0E       		.uleb128 0xe
 10963 0f78 78050000 		.4byte	.LASF120
 10964 0f7c 01       		.byte	0x1
 10965 0f7d 810E     		.2byte	0xe81
 10966 0f7f B6000000 		.4byte	0xb6
 10967 0f83 00000000 		.4byte	.LFB90
 10968 0f87 48000000 		.4byte	.LFE90-.LFB90
 10969 0f8b 01       		.uleb128 0x1
 10970 0f8c 9C       		.byte	0x9c
 10971 0f8d B00F0000 		.4byte	0xfb0
 10972 0f91 0F       		.uleb128 0xf
 10973 0f92 7A000000 		.4byte	.LASF20
 10974 0f96 01       		.byte	0x1
 10975 0f97 810E     		.2byte	0xe81
 10976 0f99 2C000000 		.4byte	0x2c
 10977 0f9d 02       		.uleb128 0x2
 10978 0f9e 91       		.byte	0x91
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 268


 10979 0f9f 6F       		.sleb128 -17
 10980 0fa0 10       		.uleb128 0x10
 10981 0fa1 7E080000 		.4byte	.LASF43
 10982 0fa5 01       		.byte	0x1
 10983 0fa6 830E     		.2byte	0xe83
 10984 0fa8 64000000 		.4byte	0x64
 10985 0fac 02       		.uleb128 0x2
 10986 0fad 91       		.byte	0x91
 10987 0fae 74       		.sleb128 -12
 10988 0faf 00       		.byte	0
 10989 0fb0 12       		.uleb128 0x12
 10990 0fb1 66000000 		.4byte	.LASF121
 10991 0fb5 01       		.byte	0x1
 10992 0fb6 A20E     		.2byte	0xea2
 10993 0fb8 00000000 		.4byte	.LFB91
 10994 0fbc 2C000000 		.4byte	.LFE91-.LFB91
 10995 0fc0 01       		.uleb128 0x1
 10996 0fc1 9C       		.byte	0x9c
 10997 0fc2 D60F0000 		.4byte	0xfd6
 10998 0fc6 0F       		.uleb128 0xf
 10999 0fc7 7A000000 		.4byte	.LASF20
 11000 0fcb 01       		.byte	0x1
 11001 0fcc A20E     		.2byte	0xea2
 11002 0fce 2C000000 		.4byte	0x2c
 11003 0fd2 02       		.uleb128 0x2
 11004 0fd3 91       		.byte	0x91
 11005 0fd4 77       		.sleb128 -9
 11006 0fd5 00       		.byte	0
 11007 0fd6 0E       		.uleb128 0xe
 11008 0fd7 79020000 		.4byte	.LASF122
 11009 0fdb 01       		.byte	0x1
 11010 0fdc C10E     		.2byte	0xec1
 11011 0fde B6000000 		.4byte	0xb6
 11012 0fe2 00000000 		.4byte	.LFB92
 11013 0fe6 4C000000 		.4byte	.LFE92-.LFB92
 11014 0fea 01       		.uleb128 0x1
 11015 0feb 9C       		.byte	0x9c
 11016 0fec 1E100000 		.4byte	0x101e
 11017 0ff0 11       		.uleb128 0x11
 11018 0ff1 46617400 		.ascii	"Fat\000"
 11019 0ff5 01       		.byte	0x1
 11020 0ff6 C10E     		.2byte	0xec1
 11021 0ff8 77000000 		.4byte	0x77
 11022 0ffc 02       		.uleb128 0x2
 11023 0ffd 91       		.byte	0x91
 11024 0ffe 6C       		.sleb128 -20
 11025 0fff 10       		.uleb128 0x10
 11026 1000 7E080000 		.4byte	.LASF43
 11027 1004 01       		.byte	0x1
 11028 1005 C60E     		.2byte	0xec6
 11029 1007 64000000 		.4byte	0x64
 11030 100b 02       		.uleb128 0x2
 11031 100c 91       		.byte	0x91
 11032 100d 70       		.sleb128 -16
 11033 100e 10       		.uleb128 0x10
 11034 100f C6060000 		.4byte	.LASF99
 11035 1013 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 269


 11036 1014 C70E     		.2byte	0xec7
 11037 1016 77000000 		.4byte	0x77
 11038 101a 02       		.uleb128 0x2
 11039 101b 91       		.byte	0x91
 11040 101c 74       		.sleb128 -12
 11041 101d 00       		.byte	0
 11042 101e 12       		.uleb128 0x12
 11043 101f 3A060000 		.4byte	.LASF123
 11044 1023 01       		.byte	0x1
 11045 1024 EA0E     		.2byte	0xeea
 11046 1026 00000000 		.4byte	.LFB93
 11047 102a 40000000 		.4byte	.LFE93-.LFB93
 11048 102e 01       		.uleb128 0x1
 11049 102f 9C       		.byte	0x9c
 11050 1030 53100000 		.4byte	0x1053
 11051 1034 11       		.uleb128 0x11
 11052 1035 46617400 		.ascii	"Fat\000"
 11053 1039 01       		.byte	0x1
 11054 103a EA0E     		.2byte	0xeea
 11055 103c 77000000 		.4byte	0x77
 11056 1040 02       		.uleb128 0x2
 11057 1041 91       		.byte	0x91
 11058 1042 6C       		.sleb128 -20
 11059 1043 10       		.uleb128 0x10
 11060 1044 C6060000 		.4byte	.LASF99
 11061 1048 01       		.byte	0x1
 11062 1049 EF0E     		.2byte	0xeef
 11063 104b 77000000 		.4byte	0x77
 11064 104f 02       		.uleb128 0x2
 11065 1050 91       		.byte	0x91
 11066 1051 74       		.sleb128 -12
 11067 1052 00       		.byte	0
 11068 1053 15       		.uleb128 0x15
 11069 1054 8B070000 		.4byte	.LASF124
 11070 1058 01       		.byte	0x1
 11071 1059 120F     		.2byte	0xf12
 11072 105b 77000000 		.4byte	0x77
 11073 105f 00000000 		.4byte	.LFB94
 11074 1063 24000000 		.4byte	.LFE94-.LFB94
 11075 1067 01       		.uleb128 0x1
 11076 1068 9C       		.byte	0x9c
 11077 1069 7D100000 		.4byte	0x107d
 11078 106d 11       		.uleb128 0x11
 11079 106e 46617400 		.ascii	"Fat\000"
 11080 1072 01       		.byte	0x1
 11081 1073 120F     		.2byte	0xf12
 11082 1075 77000000 		.4byte	0x77
 11083 1079 02       		.uleb128 0x2
 11084 107a 91       		.byte	0x91
 11085 107b 74       		.sleb128 -12
 11086 107c 00       		.byte	0
 11087 107d 12       		.uleb128 0x12
 11088 107e 9D070000 		.4byte	.LASF125
 11089 1082 01       		.byte	0x1
 11090 1083 330F     		.2byte	0xf33
 11091 1085 00000000 		.4byte	.LFB95
 11092 1089 B4000000 		.4byte	.LFE95-.LFB95
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 270


 11093 108d 01       		.uleb128 0x1
 11094 108e 9C       		.byte	0x9c
 11095 108f CE100000 		.4byte	0x10ce
 11096 1093 0F       		.uleb128 0xf
 11097 1094 7A000000 		.4byte	.LASF20
 11098 1098 01       		.byte	0x1
 11099 1099 330F     		.2byte	0xf33
 11100 109b 2C000000 		.4byte	0x2c
 11101 109f 02       		.uleb128 0x2
 11102 10a0 91       		.byte	0x91
 11103 10a1 67       		.sleb128 -25
 11104 10a2 13       		.uleb128 0x13
 11105 10a3 7800     		.ascii	"x\000"
 11106 10a5 01       		.byte	0x1
 11107 10a6 350F     		.2byte	0xf35
 11108 10a8 2C000000 		.4byte	0x2c
 11109 10ac 02       		.uleb128 0x2
 11110 10ad 91       		.byte	0x91
 11111 10ae 77       		.sleb128 -9
 11112 10af 10       		.uleb128 0x10
 11113 10b0 79080000 		.4byte	.LASF61
 11114 10b4 01       		.byte	0x1
 11115 10b5 360F     		.2byte	0xf36
 11116 10b7 BC000000 		.4byte	0xbc
 11117 10bb 02       		.uleb128 0x2
 11118 10bc 91       		.byte	0x91
 11119 10bd 6C       		.sleb128 -20
 11120 10be 10       		.uleb128 0x10
 11121 10bf BC070000 		.4byte	.LASF126
 11122 10c3 01       		.byte	0x1
 11123 10c4 380F     		.2byte	0xf38
 11124 10c6 77000000 		.4byte	0x77
 11125 10ca 02       		.uleb128 0x2
 11126 10cb 91       		.byte	0x91
 11127 10cc 70       		.sleb128 -16
 11128 10cd 00       		.byte	0
 11129 10ce 15       		.uleb128 0x15
 11130 10cf AC080000 		.4byte	.LASF127
 11131 10d3 01       		.byte	0x1
 11132 10d4 630F     		.2byte	0xf63
 11133 10d6 2C000000 		.4byte	0x2c
 11134 10da 00000000 		.4byte	.LFB96
 11135 10de 58020000 		.4byte	.LFE96-.LFB96
 11136 10e2 01       		.uleb128 0x1
 11137 10e3 9C       		.byte	0x9c
 11138 10e4 4E110000 		.4byte	0x114e
 11139 10e8 0F       		.uleb128 0xf
 11140 10e9 64070000 		.4byte	.LASF21
 11141 10ed 01       		.byte	0x1
 11142 10ee 630F     		.2byte	0xf63
 11143 10f0 BC000000 		.4byte	0xbc
 11144 10f4 02       		.uleb128 0x2
 11145 10f5 91       		.byte	0x91
 11146 10f6 6C       		.sleb128 -20
 11147 10f7 13       		.uleb128 0x13
 11148 10f8 7800     		.ascii	"x\000"
 11149 10fa 01       		.byte	0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 271


 11150 10fb 660F     		.2byte	0xf66
 11151 10fd 2C000000 		.4byte	0x2c
 11152 1101 02       		.uleb128 0x2
 11153 1102 91       		.byte	0x91
 11154 1103 77       		.sleb128 -9
 11155 1104 13       		.uleb128 0x13
 11156 1105 7900     		.ascii	"y\000"
 11157 1107 01       		.byte	0x1
 11158 1108 670F     		.2byte	0xf67
 11159 110a 2C000000 		.4byte	0x2c
 11160 110e 02       		.uleb128 0x2
 11161 110f 91       		.byte	0x91
 11162 1110 72       		.sleb128 -14
 11163 1111 10       		.uleb128 0x10
 11164 1112 DE030000 		.4byte	.LASF24
 11165 1116 01       		.byte	0x1
 11166 1117 680F     		.2byte	0xf68
 11167 1119 2C000000 		.4byte	0x2c
 11168 111d 02       		.uleb128 0x2
 11169 111e 91       		.byte	0x91
 11170 111f 76       		.sleb128 -10
 11171 1120 13       		.uleb128 0x13
 11172 1121 446F7400 		.ascii	"Dot\000"
 11173 1125 01       		.byte	0x1
 11174 1126 690F     		.2byte	0xf69
 11175 1128 2C000000 		.4byte	0x2c
 11176 112c 02       		.uleb128 0x2
 11177 112d 91       		.byte	0x91
 11178 112e 75       		.sleb128 -11
 11179 112f 10       		.uleb128 0x10
 11180 1130 E6020000 		.4byte	.LASF128
 11181 1134 01       		.byte	0x1
 11182 1135 6A0F     		.2byte	0xf6a
 11183 1137 2C000000 		.4byte	0x2c
 11184 113b 02       		.uleb128 0x2
 11185 113c 91       		.byte	0x91
 11186 113d 74       		.sleb128 -12
 11187 113e 13       		.uleb128 0x13
 11188 113f 45787400 		.ascii	"Ext\000"
 11189 1143 01       		.byte	0x1
 11190 1144 6B0F     		.2byte	0xf6b
 11191 1146 2C000000 		.4byte	0x2c
 11192 114a 02       		.uleb128 0x2
 11193 114b 91       		.byte	0x91
 11194 114c 73       		.sleb128 -13
 11195 114d 00       		.byte	0
 11196 114e 12       		.uleb128 0x12
 11197 114f B5050000 		.4byte	.LASF129
 11198 1153 01       		.byte	0x1
 11199 1154 CF0F     		.2byte	0xfcf
 11200 1156 00000000 		.4byte	.LFB97
 11201 115a 50000000 		.4byte	.LFE97-.LFB97
 11202 115e 01       		.uleb128 0x1
 11203 115f 9C       		.byte	0x9c
 11204 1160 83110000 		.4byte	0x1183
 11205 1164 0F       		.uleb128 0xf
 11206 1165 13060000 		.4byte	.LASF130
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 272


 11207 1169 01       		.byte	0x1
 11208 116a CF0F     		.2byte	0xfcf
 11209 116c 2C000000 		.4byte	0x2c
 11210 1170 02       		.uleb128 0x2
 11211 1171 91       		.byte	0x91
 11212 1172 77       		.sleb128 -9
 11213 1173 0F       		.uleb128 0xf
 11214 1174 19060000 		.4byte	.LASF63
 11215 1178 01       		.byte	0x1
 11216 1179 CF0F     		.2byte	0xfcf
 11217 117b 2C000000 		.4byte	0x2c
 11218 117f 02       		.uleb128 0x2
 11219 1180 91       		.byte	0x91
 11220 1181 76       		.sleb128 -10
 11221 1182 00       		.byte	0
 11222 1183 16       		.uleb128 0x16
 11223 1184 31000000 		.4byte	.LASF131
 11224 1188 01       		.byte	0x1
 11225 1189 F60F     		.2byte	0xff6
 11226 118b 00000000 		.4byte	.LFB98
 11227 118f A0000000 		.4byte	.LFE98-.LFB98
 11228 1193 01       		.uleb128 0x1
 11229 1194 9C       		.byte	0x9c
 11230 1195 B8110000 		.4byte	0x11b8
 11231 1199 0F       		.uleb128 0xf
 11232 119a 7A000000 		.4byte	.LASF20
 11233 119e 01       		.byte	0x1
 11234 119f F60F     		.2byte	0xff6
 11235 11a1 2C000000 		.4byte	0x2c
 11236 11a5 02       		.uleb128 0x2
 11237 11a6 91       		.byte	0x91
 11238 11a7 77       		.sleb128 -9
 11239 11a8 0F       		.uleb128 0xf
 11240 11a9 4C010000 		.4byte	.LASF132
 11241 11ad 01       		.byte	0x1
 11242 11ae F60F     		.2byte	0xff6
 11243 11b0 2C000000 		.4byte	0x2c
 11244 11b4 02       		.uleb128 0x2
 11245 11b5 91       		.byte	0x91
 11246 11b6 76       		.sleb128 -10
 11247 11b7 00       		.byte	0
 11248 11b8 12       		.uleb128 0x12
 11249 11b9 55000000 		.4byte	.LASF133
 11250 11bd 01       		.byte	0x1
 11251 11be 2010     		.2byte	0x1020
 11252 11c0 00000000 		.4byte	.LFB99
 11253 11c4 BC000000 		.4byte	.LFE99-.LFB99
 11254 11c8 01       		.uleb128 0x1
 11255 11c9 9C       		.byte	0x9c
 11256 11ca ED110000 		.4byte	0x11ed
 11257 11ce 0F       		.uleb128 0xf
 11258 11cf 7A000000 		.4byte	.LASF20
 11259 11d3 01       		.byte	0x1
 11260 11d4 2010     		.2byte	0x1020
 11261 11d6 2C000000 		.4byte	0x2c
 11262 11da 02       		.uleb128 0x2
 11263 11db 91       		.byte	0x91
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 273


 11264 11dc 6F       		.sleb128 -17
 11265 11dd 0F       		.uleb128 0xf
 11266 11de 4C010000 		.4byte	.LASF132
 11267 11e2 01       		.byte	0x1
 11268 11e3 2010     		.2byte	0x1020
 11269 11e5 2C000000 		.4byte	0x2c
 11270 11e9 02       		.uleb128 0x2
 11271 11ea 91       		.byte	0x91
 11272 11eb 6E       		.sleb128 -18
 11273 11ec 00       		.byte	0
 11274 11ed 05       		.uleb128 0x5
 11275 11ee 77000000 		.4byte	0x77
 11276 11f2 FD110000 		.4byte	0x11fd
 11277 11f6 06       		.uleb128 0x6
 11278 11f7 AF000000 		.4byte	0xaf
 11279 11fb 02       		.byte	0x2
 11280 11fc 00       		.byte	0
 11281 11fd 19       		.uleb128 0x19
 11282 11fe 0D070000 		.4byte	.LASF134
 11283 1202 01       		.byte	0x1
 11284 1203 2A       		.byte	0x2a
 11285 1204 ED110000 		.4byte	0x11ed
 11286 1208 05       		.uleb128 0x5
 11287 1209 03       		.byte	0x3
 11288 120a 00000000 		.4byte	SDCard_CurStart
 11289 120e 19       		.uleb128 0x19
 11290 120f 3E040000 		.4byte	.LASF135
 11291 1213 01       		.byte	0x1
 11292 1214 2B       		.byte	0x2b
 11293 1215 ED110000 		.4byte	0x11ed
 11294 1219 05       		.uleb128 0x5
 11295 121a 03       		.byte	0x3
 11296 121b 00000000 		.4byte	SDCard_CurFat
 11297 121f 19       		.uleb128 0x19
 11298 1220 08040000 		.4byte	.LASF136
 11299 1224 01       		.byte	0x1
 11300 1225 30       		.byte	0x30
 11301 1226 CD000000 		.4byte	0xcd
 11302 122a 05       		.uleb128 0x5
 11303 122b 03       		.byte	0x3
 11304 122c 00000000 		.4byte	SDCard_CurSect
 11305 1230 05       		.uleb128 0x5
 11306 1231 2C000000 		.4byte	0x2c
 11307 1235 40120000 		.4byte	0x1240
 11308 1239 06       		.uleb128 0x6
 11309 123a AF000000 		.4byte	0xaf
 11310 123e 01       		.byte	0x1
 11311 123f 00       		.byte	0
 11312 1240 19       		.uleb128 0x19
 11313 1241 51010000 		.4byte	.LASF137
 11314 1245 01       		.byte	0x1
 11315 1246 31       		.byte	0x31
 11316 1247 30120000 		.4byte	0x1230
 11317 124b 05       		.uleb128 0x5
 11318 124c 03       		.byte	0x3
 11319 124d 00000000 		.4byte	SDCard_CurAttr
 11320 1251 19       		.uleb128 0x19
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 274


 11321 1252 9A030000 		.4byte	.LASF138
 11322 1256 01       		.byte	0x1
 11323 1257 24       		.byte	0x24
 11324 1258 30120000 		.4byte	0x1230
 11325 125c 05       		.uleb128 0x5
 11326 125d 03       		.byte	0x3
 11327 125e 00000000 		.4byte	SDCard_FileError
 11328 1262 19       		.uleb128 0x19
 11329 1263 5F040000 		.4byte	.LASF139
 11330 1267 01       		.byte	0x1
 11331 1268 33       		.byte	0x33
 11332 1269 30120000 		.4byte	0x1230
 11333 126d 05       		.uleb128 0x5
 11334 126e 03       		.byte	0x3
 11335 126f 00000000 		.4byte	SDCard_FileMode
 11336 1273 19       		.uleb128 0x19
 11337 1274 B7040000 		.4byte	.LASF140
 11338 1278 01       		.byte	0x1
 11339 1279 25       		.byte	0x25
 11340 127a ED110000 		.4byte	0x11ed
 11341 127e 05       		.uleb128 0x5
 11342 127f 03       		.byte	0x3
 11343 1280 00000000 		.4byte	SDCard_CurSize
 11344 1284 19       		.uleb128 0x19
 11345 1285 39020000 		.4byte	.LASF141
 11346 1289 01       		.byte	0x1
 11347 128a 26       		.byte	0x26
 11348 128b ED110000 		.4byte	0x11ed
 11349 128f 05       		.uleb128 0x5
 11350 1290 03       		.byte	0x3
 11351 1291 00000000 		.4byte	SDCard_CurOffset
 11352 1295 19       		.uleb128 0x19
 11353 1296 4E060000 		.4byte	.LASF142
 11354 129a 01       		.byte	0x1
 11355 129b 3E       		.byte	0x3e
 11356 129c 2C000000 		.4byte	0x2c
 11357 12a0 05       		.uleb128 0x5
 11358 12a1 03       		.byte	0x3
 11359 12a2 00000000 		.4byte	SDCard_CardType
 11360 12a6 19       		.uleb128 0x19
 11361 12a7 D3080000 		.4byte	.LASF143
 11362 12ab 01       		.byte	0x1
 11363 12ac 4A       		.byte	0x4a
 11364 12ad BC000000 		.4byte	0xbc
 11365 12b1 05       		.uleb128 0x5
 11366 12b2 03       		.byte	0x3
 11367 12b3 00000000 		.4byte	SDCard_Buffer1
 11368 12b7 19       		.uleb128 0x19
 11369 12b8 E2080000 		.4byte	.LASF144
 11370 12bc 01       		.byte	0x1
 11371 12bd 4B       		.byte	0x4b
 11372 12be BC000000 		.4byte	0xbc
 11373 12c2 05       		.uleb128 0x5
 11374 12c3 03       		.byte	0x3
 11375 12c4 00000000 		.4byte	SDCard_Buffer2
 11376 12c8 19       		.uleb128 0x19
 11377 12c9 6F040000 		.4byte	.LASF145
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 275


 11378 12cd 01       		.byte	0x1
 11379 12ce 36       		.byte	0x36
 11380 12cf 2C000000 		.4byte	0x2c
 11381 12d3 05       		.uleb128 0x5
 11382 12d4 03       		.byte	0x3
 11383 12d5 00000000 		.4byte	SDCard_ClusterSize
 11384 12d9 19       		.uleb128 0x19
 11385 12da 5A020000 		.4byte	.LASF146
 11386 12de 01       		.byte	0x1
 11387 12df 38       		.byte	0x38
 11388 12e0 77000000 		.4byte	0x77
 11389 12e4 05       		.uleb128 0x5
 11390 12e5 03       		.byte	0x3
 11391 12e6 00000000 		.4byte	SDCard_Fat1Start
 11392 12ea 19       		.uleb128 0x19
 11393 12eb CE060000 		.4byte	.LASF147
 11394 12ef 01       		.byte	0x1
 11395 12f0 39       		.byte	0x39
 11396 12f1 77000000 		.4byte	0x77
 11397 12f5 05       		.uleb128 0x5
 11398 12f6 03       		.byte	0x3
 11399 12f7 00000000 		.4byte	SDCard_Fat2Start
 11400 12fb 19       		.uleb128 0x19
 11401 12fc A7040000 		.4byte	.LASF148
 11402 1300 01       		.byte	0x1
 11403 1301 3A       		.byte	0x3a
 11404 1302 77000000 		.4byte	0x77
 11405 1306 05       		.uleb128 0x5
 11406 1307 03       		.byte	0x3
 11407 1308 00000000 		.4byte	SDCard_DirStart
 11408 130c 19       		.uleb128 0x19
 11409 130d 6A060000 		.4byte	.LASF149
 11410 1311 01       		.byte	0x1
 11411 1312 40       		.byte	0x40
 11412 1313 77000000 		.4byte	0x77
 11413 1317 05       		.uleb128 0x5
 11414 1318 03       		.byte	0x3
 11415 1319 00000000 		.4byte	SDCard_DataStart
 11416 131d 19       		.uleb128 0x19
 11417 131e FD040000 		.4byte	.LASF150
 11418 1322 01       		.byte	0x1
 11419 1323 23       		.byte	0x23
 11420 1324 77000000 		.4byte	0x77
 11421 1328 05       		.uleb128 0x5
 11422 1329 03       		.byte	0x3
 11423 132a 00000000 		.4byte	SDCard_MemoryStart
 11424 132e 05       		.uleb128 0x5
 11425 132f 77000000 		.4byte	0x77
 11426 1333 3E130000 		.4byte	0x133e
 11427 1337 06       		.uleb128 0x6
 11428 1338 AF000000 		.4byte	0xaf
 11429 133c 01       		.byte	0x1
 11430 133d 00       		.byte	0
 11431 133e 19       		.uleb128 0x19
 11432 133f F9010000 		.4byte	.LASF151
 11433 1343 01       		.byte	0x1
 11434 1344 28       		.byte	0x28
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 276


 11435 1345 2E130000 		.4byte	0x132e
 11436 1349 05       		.uleb128 0x5
 11437 134a 03       		.byte	0x3
 11438 134b 00000000 		.4byte	SDCard_CurDir
 11439 134f 19       		.uleb128 0x19
 11440 1350 8E060000 		.4byte	.LASF152
 11441 1354 01       		.byte	0x1
 11442 1355 34       		.byte	0x34
 11443 1356 64000000 		.4byte	0x64
 11444 135a 05       		.uleb128 0x5
 11445 135b 03       		.byte	0x3
 11446 135c 00000000 		.4byte	SDCard_DirSize
 11447 1360 19       		.uleb128 0x19
 11448 1361 62030000 		.4byte	.LASF153
 11449 1365 01       		.byte	0x1
 11450 1366 35       		.byte	0x35
 11451 1367 77000000 		.4byte	0x77
 11452 136b 05       		.uleb128 0x5
 11453 136c 03       		.byte	0x3
 11454 136d 00000000 		.4byte	SDCard_EmptyFat
 11455 1371 19       		.uleb128 0x19
 11456 1372 F4020000 		.4byte	.LASF154
 11457 1376 01       		.byte	0x1
 11458 1377 37       		.byte	0x37
 11459 1378 2C000000 		.4byte	0x2c
 11460 137c 05       		.uleb128 0x5
 11461 137d 03       		.byte	0x3
 11462 137e 00000000 		.4byte	SDCard_FatEntrySize
 11463 1382 19       		.uleb128 0x19
 11464 1383 D9070000 		.4byte	.LASF155
 11465 1387 01       		.byte	0x1
 11466 1388 3C       		.byte	0x3c
 11467 1389 77000000 		.4byte	0x77
 11468 138d 05       		.uleb128 0x5
 11469 138e 03       		.byte	0x3
 11470 138f 00000000 		.4byte	SDCard_BuffLoc
 11471 1393 19       		.uleb128 0x19
 11472 1394 F7030000 		.4byte	.LASF156
 11473 1398 01       		.byte	0x1
 11474 1399 3D       		.byte	0x3d
 11475 139a 2C000000 		.4byte	0x2c
 11476 139e 05       		.uleb128 0x5
 11477 139f 03       		.byte	0x3
 11478 13a0 00000000 		.4byte	SDCard_DirtyFlag
 11479 13a4 19       		.uleb128 0x19
 11480 13a5 D8020000 		.4byte	.LASF157
 11481 13a9 01       		.byte	0x1
 11482 13aa 42       		.byte	0x42
 11483 13ab 77000000 		.4byte	0x77
 11484 13af 05       		.uleb128 0x5
 11485 13b0 03       		.byte	0x3
 11486 13b1 00000000 		.4byte	SDCard_DirFat
 11487 13b5 19       		.uleb128 0x19
 11488 13b6 AE070000 		.4byte	.LASF158
 11489 13ba 01       		.byte	0x1
 11490 13bb 43       		.byte	0x43
 11491 13bc 77000000 		.4byte	0x77
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 277


 11492 13c0 05       		.uleb128 0x5
 11493 13c1 03       		.byte	0x3
 11494 13c2 00000000 		.4byte	SDCard_FatEnd
 11495 13c6 19       		.uleb128 0x19
 11496 13c7 FE060000 		.4byte	.LASF159
 11497 13cb 01       		.byte	0x1
 11498 13cc 49       		.byte	0x49
 11499 13cd 77000000 		.4byte	0x77
 11500 13d1 05       		.uleb128 0x5
 11501 13d2 03       		.byte	0x3
 11502 13d3 00000000 		.4byte	SDCard_Address
 11503 13d7 19       		.uleb128 0x19
 11504 13d8 85080000 		.4byte	.LASF160
 11505 13dc 01       		.byte	0x1
 11506 13dd 4D       		.byte	0x4d
 11507 13de 2C000000 		.4byte	0x2c
 11508 13e2 05       		.uleb128 0x5
 11509 13e3 03       		.byte	0x3
 11510 13e4 00000000 		.4byte	SDCard_Speed
 11511 13e8 05       		.uleb128 0x5
 11512 13e9 2C000000 		.4byte	0x2c
 11513 13ed F8130000 		.4byte	0x13f8
 11514 13f1 06       		.uleb128 0x6
 11515 13f2 AF000000 		.4byte	0xaf
 11516 13f6 FF       		.byte	0xff
 11517 13f7 00       		.byte	0
 11518 13f8 19       		.uleb128 0x19
 11519 13f9 42030000 		.4byte	.LASF161
 11520 13fd 01       		.byte	0x1
 11521 13fe 4F       		.byte	0x4f
 11522 13ff E8130000 		.4byte	0x13e8
 11523 1403 05       		.uleb128 0x5
 11524 1404 03       		.byte	0x3
 11525 1405 00000000 		.4byte	SDCard_SectBuf1
 11526 1409 19       		.uleb128 0x19
 11527 140a 52030000 		.4byte	.LASF162
 11528 140e 01       		.byte	0x1
 11529 140f 50       		.byte	0x50
 11530 1410 E8130000 		.4byte	0x13e8
 11531 1414 05       		.uleb128 0x5
 11532 1415 03       		.byte	0x3
 11533 1416 00000000 		.4byte	SDCard_SectBuf2
 11534 141a 05       		.uleb128 0x5
 11535 141b A7010000 		.4byte	0x1a7
 11536 141f 2A140000 		.4byte	0x142a
 11537 1423 06       		.uleb128 0x6
 11538 1424 AF000000 		.4byte	0xaf
 11539 1428 05       		.byte	0x5
 11540 1429 00       		.byte	0
 11541 142a 19       		.uleb128 0x19
 11542 142b EE060000 		.4byte	.LASF163
 11543 142f 01       		.byte	0x1
 11544 1430 52       		.byte	0x52
 11545 1431 3B140000 		.4byte	0x143b
 11546 1435 05       		.uleb128 0x5
 11547 1436 03       		.byte	0x3
 11548 1437 00000000 		.4byte	SDCard_CmdStr00
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 278


 11549 143b 08       		.uleb128 0x8
 11550 143c 1A140000 		.4byte	0x141a
 11551 1440 05       		.uleb128 0x5
 11552 1441 A7010000 		.4byte	0x1a7
 11553 1445 50140000 		.4byte	0x1450
 11554 1449 06       		.uleb128 0x6
 11555 144a AF000000 		.4byte	0xaf
 11556 144e 1F       		.byte	0x1f
 11557 144f 00       		.byte	0
 11558 1450 19       		.uleb128 0x19
 11559 1451 CE030000 		.4byte	.LASF164
 11560 1455 01       		.byte	0x1
 11561 1456 53       		.byte	0x53
 11562 1457 61140000 		.4byte	0x1461
 11563 145b 05       		.uleb128 0x5
 11564 145c 03       		.byte	0x3
 11565 145d 00000000 		.4byte	SDCard_BlankDir
 11566 1461 08       		.uleb128 0x8
 11567 1462 40140000 		.4byte	0x1440
 11568 1466 19       		.uleb128 0x19
 11569 1467 77070000 		.4byte	.LASF165
 11570 146b 01       		.byte	0x1
 11571 146c 55       		.byte	0x55
 11572 146d 6B000000 		.4byte	0x6b
 11573 1471 05       		.uleb128 0x5
 11574 1472 03       		.byte	0x3
 11575 1473 00000000 		.4byte	rbuff
 11576 1477 00       		.byte	0
 11577              		.section	.debug_abbrev,"",%progbits
 11578              	.Ldebug_abbrev0:
 11579 0000 01       		.uleb128 0x1
 11580 0001 11       		.uleb128 0x11
 11581 0002 01       		.byte	0x1
 11582 0003 25       		.uleb128 0x25
 11583 0004 0E       		.uleb128 0xe
 11584 0005 13       		.uleb128 0x13
 11585 0006 0B       		.uleb128 0xb
 11586 0007 03       		.uleb128 0x3
 11587 0008 0E       		.uleb128 0xe
 11588 0009 1B       		.uleb128 0x1b
 11589 000a 0E       		.uleb128 0xe
 11590 000b 55       		.uleb128 0x55
 11591 000c 17       		.uleb128 0x17
 11592 000d 11       		.uleb128 0x11
 11593 000e 01       		.uleb128 0x1
 11594 000f 10       		.uleb128 0x10
 11595 0010 17       		.uleb128 0x17
 11596 0011 00       		.byte	0
 11597 0012 00       		.byte	0
 11598 0013 02       		.uleb128 0x2
 11599 0014 24       		.uleb128 0x24
 11600 0015 00       		.byte	0
 11601 0016 0B       		.uleb128 0xb
 11602 0017 0B       		.uleb128 0xb
 11603 0018 3E       		.uleb128 0x3e
 11604 0019 0B       		.uleb128 0xb
 11605 001a 03       		.uleb128 0x3
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 279


 11606 001b 0E       		.uleb128 0xe
 11607 001c 00       		.byte	0
 11608 001d 00       		.byte	0
 11609 001e 03       		.uleb128 0x3
 11610 001f 24       		.uleb128 0x24
 11611 0020 00       		.byte	0
 11612 0021 0B       		.uleb128 0xb
 11613 0022 0B       		.uleb128 0xb
 11614 0023 3E       		.uleb128 0x3e
 11615 0024 0B       		.uleb128 0xb
 11616 0025 03       		.uleb128 0x3
 11617 0026 08       		.uleb128 0x8
 11618 0027 00       		.byte	0
 11619 0028 00       		.byte	0
 11620 0029 04       		.uleb128 0x4
 11621 002a 16       		.uleb128 0x16
 11622 002b 00       		.byte	0
 11623 002c 03       		.uleb128 0x3
 11624 002d 0E       		.uleb128 0xe
 11625 002e 3A       		.uleb128 0x3a
 11626 002f 0B       		.uleb128 0xb
 11627 0030 3B       		.uleb128 0x3b
 11628 0031 05       		.uleb128 0x5
 11629 0032 49       		.uleb128 0x49
 11630 0033 13       		.uleb128 0x13
 11631 0034 00       		.byte	0
 11632 0035 00       		.byte	0
 11633 0036 05       		.uleb128 0x5
 11634 0037 01       		.uleb128 0x1
 11635 0038 01       		.byte	0x1
 11636 0039 49       		.uleb128 0x49
 11637 003a 13       		.uleb128 0x13
 11638 003b 01       		.uleb128 0x1
 11639 003c 13       		.uleb128 0x13
 11640 003d 00       		.byte	0
 11641 003e 00       		.byte	0
 11642 003f 06       		.uleb128 0x6
 11643 0040 21       		.uleb128 0x21
 11644 0041 00       		.byte	0
 11645 0042 49       		.uleb128 0x49
 11646 0043 13       		.uleb128 0x13
 11647 0044 2F       		.uleb128 0x2f
 11648 0045 0B       		.uleb128 0xb
 11649 0046 00       		.byte	0
 11650 0047 00       		.byte	0
 11651 0048 07       		.uleb128 0x7
 11652 0049 0F       		.uleb128 0xf
 11653 004a 00       		.byte	0
 11654 004b 0B       		.uleb128 0xb
 11655 004c 0B       		.uleb128 0xb
 11656 004d 49       		.uleb128 0x49
 11657 004e 13       		.uleb128 0x13
 11658 004f 00       		.byte	0
 11659 0050 00       		.byte	0
 11660 0051 08       		.uleb128 0x8
 11661 0052 26       		.uleb128 0x26
 11662 0053 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 280


 11663 0054 49       		.uleb128 0x49
 11664 0055 13       		.uleb128 0x13
 11665 0056 00       		.byte	0
 11666 0057 00       		.byte	0
 11667 0058 09       		.uleb128 0x9
 11668 0059 2E       		.uleb128 0x2e
 11669 005a 00       		.byte	0
 11670 005b 3F       		.uleb128 0x3f
 11671 005c 19       		.uleb128 0x19
 11672 005d 03       		.uleb128 0x3
 11673 005e 0E       		.uleb128 0xe
 11674 005f 3A       		.uleb128 0x3a
 11675 0060 0B       		.uleb128 0xb
 11676 0061 3B       		.uleb128 0x3b
 11677 0062 0B       		.uleb128 0xb
 11678 0063 27       		.uleb128 0x27
 11679 0064 19       		.uleb128 0x19
 11680 0065 11       		.uleb128 0x11
 11681 0066 01       		.uleb128 0x1
 11682 0067 12       		.uleb128 0x12
 11683 0068 06       		.uleb128 0x6
 11684 0069 40       		.uleb128 0x40
 11685 006a 18       		.uleb128 0x18
 11686 006b 9642     		.uleb128 0x2116
 11687 006d 19       		.uleb128 0x19
 11688 006e 00       		.byte	0
 11689 006f 00       		.byte	0
 11690 0070 0A       		.uleb128 0xa
 11691 0071 2E       		.uleb128 0x2e
 11692 0072 01       		.byte	0x1
 11693 0073 3F       		.uleb128 0x3f
 11694 0074 19       		.uleb128 0x19
 11695 0075 03       		.uleb128 0x3
 11696 0076 0E       		.uleb128 0xe
 11697 0077 3A       		.uleb128 0x3a
 11698 0078 0B       		.uleb128 0xb
 11699 0079 3B       		.uleb128 0x3b
 11700 007a 0B       		.uleb128 0xb
 11701 007b 27       		.uleb128 0x27
 11702 007c 19       		.uleb128 0x19
 11703 007d 49       		.uleb128 0x49
 11704 007e 13       		.uleb128 0x13
 11705 007f 11       		.uleb128 0x11
 11706 0080 01       		.uleb128 0x1
 11707 0081 12       		.uleb128 0x12
 11708 0082 06       		.uleb128 0x6
 11709 0083 40       		.uleb128 0x40
 11710 0084 18       		.uleb128 0x18
 11711 0085 9642     		.uleb128 0x2116
 11712 0087 19       		.uleb128 0x19
 11713 0088 01       		.uleb128 0x1
 11714 0089 13       		.uleb128 0x13
 11715 008a 00       		.byte	0
 11716 008b 00       		.byte	0
 11717 008c 0B       		.uleb128 0xb
 11718 008d 05       		.uleb128 0x5
 11719 008e 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 281


 11720 008f 03       		.uleb128 0x3
 11721 0090 0E       		.uleb128 0xe
 11722 0091 3A       		.uleb128 0x3a
 11723 0092 0B       		.uleb128 0xb
 11724 0093 3B       		.uleb128 0x3b
 11725 0094 0B       		.uleb128 0xb
 11726 0095 49       		.uleb128 0x49
 11727 0096 13       		.uleb128 0x13
 11728 0097 02       		.uleb128 0x2
 11729 0098 18       		.uleb128 0x18
 11730 0099 00       		.byte	0
 11731 009a 00       		.byte	0
 11732 009b 0C       		.uleb128 0xc
 11733 009c 34       		.uleb128 0x34
 11734 009d 00       		.byte	0
 11735 009e 03       		.uleb128 0x3
 11736 009f 0E       		.uleb128 0xe
 11737 00a0 3A       		.uleb128 0x3a
 11738 00a1 0B       		.uleb128 0xb
 11739 00a2 3B       		.uleb128 0x3b
 11740 00a3 0B       		.uleb128 0xb
 11741 00a4 49       		.uleb128 0x49
 11742 00a5 13       		.uleb128 0x13
 11743 00a6 02       		.uleb128 0x2
 11744 00a7 18       		.uleb128 0x18
 11745 00a8 00       		.byte	0
 11746 00a9 00       		.byte	0
 11747 00aa 0D       		.uleb128 0xd
 11748 00ab 34       		.uleb128 0x34
 11749 00ac 00       		.byte	0
 11750 00ad 03       		.uleb128 0x3
 11751 00ae 08       		.uleb128 0x8
 11752 00af 3A       		.uleb128 0x3a
 11753 00b0 0B       		.uleb128 0xb
 11754 00b1 3B       		.uleb128 0x3b
 11755 00b2 0B       		.uleb128 0xb
 11756 00b3 49       		.uleb128 0x49
 11757 00b4 13       		.uleb128 0x13
 11758 00b5 02       		.uleb128 0x2
 11759 00b6 18       		.uleb128 0x18
 11760 00b7 00       		.byte	0
 11761 00b8 00       		.byte	0
 11762 00b9 0E       		.uleb128 0xe
 11763 00ba 2E       		.uleb128 0x2e
 11764 00bb 01       		.byte	0x1
 11765 00bc 3F       		.uleb128 0x3f
 11766 00bd 19       		.uleb128 0x19
 11767 00be 03       		.uleb128 0x3
 11768 00bf 0E       		.uleb128 0xe
 11769 00c0 3A       		.uleb128 0x3a
 11770 00c1 0B       		.uleb128 0xb
 11771 00c2 3B       		.uleb128 0x3b
 11772 00c3 05       		.uleb128 0x5
 11773 00c4 27       		.uleb128 0x27
 11774 00c5 19       		.uleb128 0x19
 11775 00c6 49       		.uleb128 0x49
 11776 00c7 13       		.uleb128 0x13
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 282


 11777 00c8 11       		.uleb128 0x11
 11778 00c9 01       		.uleb128 0x1
 11779 00ca 12       		.uleb128 0x12
 11780 00cb 06       		.uleb128 0x6
 11781 00cc 40       		.uleb128 0x40
 11782 00cd 18       		.uleb128 0x18
 11783 00ce 9642     		.uleb128 0x2116
 11784 00d0 19       		.uleb128 0x19
 11785 00d1 01       		.uleb128 0x1
 11786 00d2 13       		.uleb128 0x13
 11787 00d3 00       		.byte	0
 11788 00d4 00       		.byte	0
 11789 00d5 0F       		.uleb128 0xf
 11790 00d6 05       		.uleb128 0x5
 11791 00d7 00       		.byte	0
 11792 00d8 03       		.uleb128 0x3
 11793 00d9 0E       		.uleb128 0xe
 11794 00da 3A       		.uleb128 0x3a
 11795 00db 0B       		.uleb128 0xb
 11796 00dc 3B       		.uleb128 0x3b
 11797 00dd 05       		.uleb128 0x5
 11798 00de 49       		.uleb128 0x49
 11799 00df 13       		.uleb128 0x13
 11800 00e0 02       		.uleb128 0x2
 11801 00e1 18       		.uleb128 0x18
 11802 00e2 00       		.byte	0
 11803 00e3 00       		.byte	0
 11804 00e4 10       		.uleb128 0x10
 11805 00e5 34       		.uleb128 0x34
 11806 00e6 00       		.byte	0
 11807 00e7 03       		.uleb128 0x3
 11808 00e8 0E       		.uleb128 0xe
 11809 00e9 3A       		.uleb128 0x3a
 11810 00ea 0B       		.uleb128 0xb
 11811 00eb 3B       		.uleb128 0x3b
 11812 00ec 05       		.uleb128 0x5
 11813 00ed 49       		.uleb128 0x49
 11814 00ee 13       		.uleb128 0x13
 11815 00ef 02       		.uleb128 0x2
 11816 00f0 18       		.uleb128 0x18
 11817 00f1 00       		.byte	0
 11818 00f2 00       		.byte	0
 11819 00f3 11       		.uleb128 0x11
 11820 00f4 05       		.uleb128 0x5
 11821 00f5 00       		.byte	0
 11822 00f6 03       		.uleb128 0x3
 11823 00f7 08       		.uleb128 0x8
 11824 00f8 3A       		.uleb128 0x3a
 11825 00f9 0B       		.uleb128 0xb
 11826 00fa 3B       		.uleb128 0x3b
 11827 00fb 05       		.uleb128 0x5
 11828 00fc 49       		.uleb128 0x49
 11829 00fd 13       		.uleb128 0x13
 11830 00fe 02       		.uleb128 0x2
 11831 00ff 18       		.uleb128 0x18
 11832 0100 00       		.byte	0
 11833 0101 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 283


 11834 0102 12       		.uleb128 0x12
 11835 0103 2E       		.uleb128 0x2e
 11836 0104 01       		.byte	0x1
 11837 0105 3F       		.uleb128 0x3f
 11838 0106 19       		.uleb128 0x19
 11839 0107 03       		.uleb128 0x3
 11840 0108 0E       		.uleb128 0xe
 11841 0109 3A       		.uleb128 0x3a
 11842 010a 0B       		.uleb128 0xb
 11843 010b 3B       		.uleb128 0x3b
 11844 010c 05       		.uleb128 0x5
 11845 010d 27       		.uleb128 0x27
 11846 010e 19       		.uleb128 0x19
 11847 010f 11       		.uleb128 0x11
 11848 0110 01       		.uleb128 0x1
 11849 0111 12       		.uleb128 0x12
 11850 0112 06       		.uleb128 0x6
 11851 0113 40       		.uleb128 0x40
 11852 0114 18       		.uleb128 0x18
 11853 0115 9642     		.uleb128 0x2116
 11854 0117 19       		.uleb128 0x19
 11855 0118 01       		.uleb128 0x1
 11856 0119 13       		.uleb128 0x13
 11857 011a 00       		.byte	0
 11858 011b 00       		.byte	0
 11859 011c 13       		.uleb128 0x13
 11860 011d 34       		.uleb128 0x34
 11861 011e 00       		.byte	0
 11862 011f 03       		.uleb128 0x3
 11863 0120 08       		.uleb128 0x8
 11864 0121 3A       		.uleb128 0x3a
 11865 0122 0B       		.uleb128 0xb
 11866 0123 3B       		.uleb128 0x3b
 11867 0124 05       		.uleb128 0x5
 11868 0125 49       		.uleb128 0x49
 11869 0126 13       		.uleb128 0x13
 11870 0127 02       		.uleb128 0x2
 11871 0128 18       		.uleb128 0x18
 11872 0129 00       		.byte	0
 11873 012a 00       		.byte	0
 11874 012b 14       		.uleb128 0x14
 11875 012c 2E       		.uleb128 0x2e
 11876 012d 00       		.byte	0
 11877 012e 3F       		.uleb128 0x3f
 11878 012f 19       		.uleb128 0x19
 11879 0130 03       		.uleb128 0x3
 11880 0131 0E       		.uleb128 0xe
 11881 0132 3A       		.uleb128 0x3a
 11882 0133 0B       		.uleb128 0xb
 11883 0134 3B       		.uleb128 0x3b
 11884 0135 05       		.uleb128 0x5
 11885 0136 27       		.uleb128 0x27
 11886 0137 19       		.uleb128 0x19
 11887 0138 49       		.uleb128 0x49
 11888 0139 13       		.uleb128 0x13
 11889 013a 11       		.uleb128 0x11
 11890 013b 01       		.uleb128 0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 284


 11891 013c 12       		.uleb128 0x12
 11892 013d 06       		.uleb128 0x6
 11893 013e 40       		.uleb128 0x40
 11894 013f 18       		.uleb128 0x18
 11895 0140 9642     		.uleb128 0x2116
 11896 0142 19       		.uleb128 0x19
 11897 0143 00       		.byte	0
 11898 0144 00       		.byte	0
 11899 0145 15       		.uleb128 0x15
 11900 0146 2E       		.uleb128 0x2e
 11901 0147 01       		.byte	0x1
 11902 0148 3F       		.uleb128 0x3f
 11903 0149 19       		.uleb128 0x19
 11904 014a 03       		.uleb128 0x3
 11905 014b 0E       		.uleb128 0xe
 11906 014c 3A       		.uleb128 0x3a
 11907 014d 0B       		.uleb128 0xb
 11908 014e 3B       		.uleb128 0x3b
 11909 014f 05       		.uleb128 0x5
 11910 0150 27       		.uleb128 0x27
 11911 0151 19       		.uleb128 0x19
 11912 0152 49       		.uleb128 0x49
 11913 0153 13       		.uleb128 0x13
 11914 0154 11       		.uleb128 0x11
 11915 0155 01       		.uleb128 0x1
 11916 0156 12       		.uleb128 0x12
 11917 0157 06       		.uleb128 0x6
 11918 0158 40       		.uleb128 0x40
 11919 0159 18       		.uleb128 0x18
 11920 015a 9742     		.uleb128 0x2117
 11921 015c 19       		.uleb128 0x19
 11922 015d 01       		.uleb128 0x1
 11923 015e 13       		.uleb128 0x13
 11924 015f 00       		.byte	0
 11925 0160 00       		.byte	0
 11926 0161 16       		.uleb128 0x16
 11927 0162 2E       		.uleb128 0x2e
 11928 0163 01       		.byte	0x1
 11929 0164 3F       		.uleb128 0x3f
 11930 0165 19       		.uleb128 0x19
 11931 0166 03       		.uleb128 0x3
 11932 0167 0E       		.uleb128 0xe
 11933 0168 3A       		.uleb128 0x3a
 11934 0169 0B       		.uleb128 0xb
 11935 016a 3B       		.uleb128 0x3b
 11936 016b 05       		.uleb128 0x5
 11937 016c 27       		.uleb128 0x27
 11938 016d 19       		.uleb128 0x19
 11939 016e 11       		.uleb128 0x11
 11940 016f 01       		.uleb128 0x1
 11941 0170 12       		.uleb128 0x12
 11942 0171 06       		.uleb128 0x6
 11943 0172 40       		.uleb128 0x40
 11944 0173 18       		.uleb128 0x18
 11945 0174 9742     		.uleb128 0x2117
 11946 0176 19       		.uleb128 0x19
 11947 0177 01       		.uleb128 0x1
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 285


 11948 0178 13       		.uleb128 0x13
 11949 0179 00       		.byte	0
 11950 017a 00       		.byte	0
 11951 017b 17       		.uleb128 0x17
 11952 017c 2E       		.uleb128 0x2e
 11953 017d 00       		.byte	0
 11954 017e 3F       		.uleb128 0x3f
 11955 017f 19       		.uleb128 0x19
 11956 0180 03       		.uleb128 0x3
 11957 0181 0E       		.uleb128 0xe
 11958 0182 3A       		.uleb128 0x3a
 11959 0183 0B       		.uleb128 0xb
 11960 0184 3B       		.uleb128 0x3b
 11961 0185 05       		.uleb128 0x5
 11962 0186 27       		.uleb128 0x27
 11963 0187 19       		.uleb128 0x19
 11964 0188 11       		.uleb128 0x11
 11965 0189 01       		.uleb128 0x1
 11966 018a 12       		.uleb128 0x12
 11967 018b 06       		.uleb128 0x6
 11968 018c 40       		.uleb128 0x40
 11969 018d 18       		.uleb128 0x18
 11970 018e 9642     		.uleb128 0x2116
 11971 0190 19       		.uleb128 0x19
 11972 0191 00       		.byte	0
 11973 0192 00       		.byte	0
 11974 0193 18       		.uleb128 0x18
 11975 0194 34       		.uleb128 0x34
 11976 0195 00       		.byte	0
 11977 0196 03       		.uleb128 0x3
 11978 0197 08       		.uleb128 0x8
 11979 0198 3A       		.uleb128 0x3a
 11980 0199 0B       		.uleb128 0xb
 11981 019a 3B       		.uleb128 0x3b
 11982 019b 05       		.uleb128 0x5
 11983 019c 49       		.uleb128 0x49
 11984 019d 13       		.uleb128 0x13
 11985 019e 00       		.byte	0
 11986 019f 00       		.byte	0
 11987 01a0 19       		.uleb128 0x19
 11988 01a1 34       		.uleb128 0x34
 11989 01a2 00       		.byte	0
 11990 01a3 03       		.uleb128 0x3
 11991 01a4 0E       		.uleb128 0xe
 11992 01a5 3A       		.uleb128 0x3a
 11993 01a6 0B       		.uleb128 0xb
 11994 01a7 3B       		.uleb128 0x3b
 11995 01a8 0B       		.uleb128 0xb
 11996 01a9 49       		.uleb128 0x49
 11997 01aa 13       		.uleb128 0x13
 11998 01ab 3F       		.uleb128 0x3f
 11999 01ac 19       		.uleb128 0x19
 12000 01ad 02       		.uleb128 0x2
 12001 01ae 18       		.uleb128 0x18
 12002 01af 00       		.byte	0
 12003 01b0 00       		.byte	0
 12004 01b1 00       		.byte	0
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 286


 12005              		.section	.debug_aranges,"",%progbits
 12006 0000 24020000 		.4byte	0x224
 12007 0004 0200     		.2byte	0x2
 12008 0006 00000000 		.4byte	.Ldebug_info0
 12009 000a 04       		.byte	0x4
 12010 000b 00       		.byte	0
 12011 000c 0000     		.2byte	0
 12012 000e 0000     		.2byte	0
 12013 0010 00000000 		.4byte	.LFB34
 12014 0014 2C000000 		.4byte	.LFE34-.LFB34
 12015 0018 00000000 		.4byte	.LFB35
 12016 001c 24000000 		.4byte	.LFE35-.LFB35
 12017 0020 00000000 		.4byte	.LFB36
 12018 0024 DC000000 		.4byte	.LFE36-.LFB36
 12019 0028 00000000 		.4byte	.LFB37
 12020 002c 40030000 		.4byte	.LFE37-.LFB37
 12021 0030 00000000 		.4byte	.LFB38
 12022 0034 A4010000 		.4byte	.LFE38-.LFB38
 12023 0038 00000000 		.4byte	.LFB39
 12024 003c 40010000 		.4byte	.LFE39-.LFB39
 12025 0040 00000000 		.4byte	.LFB40
 12026 0044 CC010000 		.4byte	.LFE40-.LFB40
 12027 0048 00000000 		.4byte	.LFB41
 12028 004c 5A000000 		.4byte	.LFE41-.LFB41
 12029 0050 00000000 		.4byte	.LFB42
 12030 0054 5A000000 		.4byte	.LFE42-.LFB42
 12031 0058 00000000 		.4byte	.LFB43
 12032 005c 5E000000 		.4byte	.LFE43-.LFB43
 12033 0060 00000000 		.4byte	.LFB44
 12034 0064 5E000000 		.4byte	.LFE44-.LFB44
 12035 0068 00000000 		.4byte	.LFB45
 12036 006c 58000000 		.4byte	.LFE45-.LFB45
 12037 0070 00000000 		.4byte	.LFB46
 12038 0074 F4000000 		.4byte	.LFE46-.LFB46
 12039 0078 00000000 		.4byte	.LFB47
 12040 007c AC010000 		.4byte	.LFE47-.LFB47
 12041 0080 00000000 		.4byte	.LFB48
 12042 0084 20010000 		.4byte	.LFE48-.LFB48
 12043 0088 00000000 		.4byte	.LFB49
 12044 008c 3E000000 		.4byte	.LFE49-.LFB49
 12045 0090 00000000 		.4byte	.LFB50
 12046 0094 3E000000 		.4byte	.LFE50-.LFB50
 12047 0098 00000000 		.4byte	.LFB51
 12048 009c 1C000000 		.4byte	.LFE51-.LFB51
 12049 00a0 00000000 		.4byte	.LFB52
 12050 00a4 34000000 		.4byte	.LFE52-.LFB52
 12051 00a8 00000000 		.4byte	.LFB53
 12052 00ac 2C000000 		.4byte	.LFE53-.LFB53
 12053 00b0 00000000 		.4byte	.LFB54
 12054 00b4 40000000 		.4byte	.LFE54-.LFB54
 12055 00b8 00000000 		.4byte	.LFB55
 12056 00bc 3C000000 		.4byte	.LFE55-.LFB55
 12057 00c0 00000000 		.4byte	.LFB56
 12058 00c4 34000000 		.4byte	.LFE56-.LFB56
 12059 00c8 00000000 		.4byte	.LFB57
 12060 00cc 70000000 		.4byte	.LFE57-.LFB57
 12061 00d0 00000000 		.4byte	.LFB58
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 287


 12062 00d4 4C010000 		.4byte	.LFE58-.LFB58
 12063 00d8 00000000 		.4byte	.LFB59
 12064 00dc 44010000 		.4byte	.LFE59-.LFB59
 12065 00e0 00000000 		.4byte	.LFB60
 12066 00e4 F4000000 		.4byte	.LFE60-.LFB60
 12067 00e8 00000000 		.4byte	.LFB61
 12068 00ec 7C000000 		.4byte	.LFE61-.LFB61
 12069 00f0 00000000 		.4byte	.LFB62
 12070 00f4 64000000 		.4byte	.LFE62-.LFB62
 12071 00f8 00000000 		.4byte	.LFB63
 12072 00fc 30000000 		.4byte	.LFE63-.LFB63
 12073 0100 00000000 		.4byte	.LFB64
 12074 0104 1C000000 		.4byte	.LFE64-.LFB64
 12075 0108 00000000 		.4byte	.LFB65
 12076 010c 10000000 		.4byte	.LFE65-.LFB65
 12077 0110 00000000 		.4byte	.LFB66
 12078 0114 94000000 		.4byte	.LFE66-.LFB66
 12079 0118 00000000 		.4byte	.LFB67
 12080 011c 2E000000 		.4byte	.LFE67-.LFB67
 12081 0120 00000000 		.4byte	.LFB68
 12082 0124 2E000000 		.4byte	.LFE68-.LFB68
 12083 0128 00000000 		.4byte	.LFB69
 12084 012c 2E000000 		.4byte	.LFE69-.LFB69
 12085 0130 00000000 		.4byte	.LFB70
 12086 0134 28000000 		.4byte	.LFE70-.LFB70
 12087 0138 00000000 		.4byte	.LFB71
 12088 013c B4000000 		.4byte	.LFE71-.LFB71
 12089 0140 00000000 		.4byte	.LFB72
 12090 0144 DC030000 		.4byte	.LFE72-.LFB72
 12091 0148 00000000 		.4byte	.LFB73
 12092 014c 92000000 		.4byte	.LFE73-.LFB73
 12093 0150 00000000 		.4byte	.LFB74
 12094 0154 38000000 		.4byte	.LFE74-.LFB74
 12095 0158 00000000 		.4byte	.LFB75
 12096 015c 2C000000 		.4byte	.LFE75-.LFB75
 12097 0160 00000000 		.4byte	.LFB76
 12098 0164 BC000000 		.4byte	.LFE76-.LFB76
 12099 0168 00000000 		.4byte	.LFB77
 12100 016c 44010000 		.4byte	.LFE77-.LFB77
 12101 0170 00000000 		.4byte	.LFB78
 12102 0174 5C000000 		.4byte	.LFE78-.LFB78
 12103 0178 00000000 		.4byte	.LFB79
 12104 017c E4000000 		.4byte	.LFE79-.LFB79
 12105 0180 00000000 		.4byte	.LFB80
 12106 0184 68040000 		.4byte	.LFE80-.LFB80
 12107 0188 00000000 		.4byte	.LFB81
 12108 018c 68000000 		.4byte	.LFE81-.LFB81
 12109 0190 00000000 		.4byte	.LFB82
 12110 0194 7C010000 		.4byte	.LFE82-.LFB82
 12111 0198 00000000 		.4byte	.LFB83
 12112 019c 74000000 		.4byte	.LFE83-.LFB83
 12113 01a0 00000000 		.4byte	.LFB84
 12114 01a4 C4000000 		.4byte	.LFE84-.LFB84
 12115 01a8 00000000 		.4byte	.LFB85
 12116 01ac 50010000 		.4byte	.LFE85-.LFB85
 12117 01b0 00000000 		.4byte	.LFB86
 12118 01b4 54010000 		.4byte	.LFE86-.LFB86
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 288


 12119 01b8 00000000 		.4byte	.LFB87
 12120 01bc 0C010000 		.4byte	.LFE87-.LFB87
 12121 01c0 00000000 		.4byte	.LFB88
 12122 01c4 B0010000 		.4byte	.LFE88-.LFB88
 12123 01c8 00000000 		.4byte	.LFB89
 12124 01cc 48000000 		.4byte	.LFE89-.LFB89
 12125 01d0 00000000 		.4byte	.LFB90
 12126 01d4 48000000 		.4byte	.LFE90-.LFB90
 12127 01d8 00000000 		.4byte	.LFB91
 12128 01dc 2C000000 		.4byte	.LFE91-.LFB91
 12129 01e0 00000000 		.4byte	.LFB92
 12130 01e4 4C000000 		.4byte	.LFE92-.LFB92
 12131 01e8 00000000 		.4byte	.LFB93
 12132 01ec 40000000 		.4byte	.LFE93-.LFB93
 12133 01f0 00000000 		.4byte	.LFB94
 12134 01f4 24000000 		.4byte	.LFE94-.LFB94
 12135 01f8 00000000 		.4byte	.LFB95
 12136 01fc B4000000 		.4byte	.LFE95-.LFB95
 12137 0200 00000000 		.4byte	.LFB96
 12138 0204 58020000 		.4byte	.LFE96-.LFB96
 12139 0208 00000000 		.4byte	.LFB97
 12140 020c 50000000 		.4byte	.LFE97-.LFB97
 12141 0210 00000000 		.4byte	.LFB98
 12142 0214 A0000000 		.4byte	.LFE98-.LFB98
 12143 0218 00000000 		.4byte	.LFB99
 12144 021c BC000000 		.4byte	.LFE99-.LFB99
 12145 0220 00000000 		.4byte	0
 12146 0224 00000000 		.4byte	0
 12147              		.section	.debug_ranges,"",%progbits
 12148              	.Ldebug_ranges0:
 12149 0000 00000000 		.4byte	.LFB34
 12150 0004 2C000000 		.4byte	.LFE34
 12151 0008 00000000 		.4byte	.LFB35
 12152 000c 24000000 		.4byte	.LFE35
 12153 0010 00000000 		.4byte	.LFB36
 12154 0014 DC000000 		.4byte	.LFE36
 12155 0018 00000000 		.4byte	.LFB37
 12156 001c 40030000 		.4byte	.LFE37
 12157 0020 00000000 		.4byte	.LFB38
 12158 0024 A4010000 		.4byte	.LFE38
 12159 0028 00000000 		.4byte	.LFB39
 12160 002c 40010000 		.4byte	.LFE39
 12161 0030 00000000 		.4byte	.LFB40
 12162 0034 CC010000 		.4byte	.LFE40
 12163 0038 00000000 		.4byte	.LFB41
 12164 003c 5A000000 		.4byte	.LFE41
 12165 0040 00000000 		.4byte	.LFB42
 12166 0044 5A000000 		.4byte	.LFE42
 12167 0048 00000000 		.4byte	.LFB43
 12168 004c 5E000000 		.4byte	.LFE43
 12169 0050 00000000 		.4byte	.LFB44
 12170 0054 5E000000 		.4byte	.LFE44
 12171 0058 00000000 		.4byte	.LFB45
 12172 005c 58000000 		.4byte	.LFE45
 12173 0060 00000000 		.4byte	.LFB46
 12174 0064 F4000000 		.4byte	.LFE46
 12175 0068 00000000 		.4byte	.LFB47
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 289


 12176 006c AC010000 		.4byte	.LFE47
 12177 0070 00000000 		.4byte	.LFB48
 12178 0074 20010000 		.4byte	.LFE48
 12179 0078 00000000 		.4byte	.LFB49
 12180 007c 3E000000 		.4byte	.LFE49
 12181 0080 00000000 		.4byte	.LFB50
 12182 0084 3E000000 		.4byte	.LFE50
 12183 0088 00000000 		.4byte	.LFB51
 12184 008c 1C000000 		.4byte	.LFE51
 12185 0090 00000000 		.4byte	.LFB52
 12186 0094 34000000 		.4byte	.LFE52
 12187 0098 00000000 		.4byte	.LFB53
 12188 009c 2C000000 		.4byte	.LFE53
 12189 00a0 00000000 		.4byte	.LFB54
 12190 00a4 40000000 		.4byte	.LFE54
 12191 00a8 00000000 		.4byte	.LFB55
 12192 00ac 3C000000 		.4byte	.LFE55
 12193 00b0 00000000 		.4byte	.LFB56
 12194 00b4 34000000 		.4byte	.LFE56
 12195 00b8 00000000 		.4byte	.LFB57
 12196 00bc 70000000 		.4byte	.LFE57
 12197 00c0 00000000 		.4byte	.LFB58
 12198 00c4 4C010000 		.4byte	.LFE58
 12199 00c8 00000000 		.4byte	.LFB59
 12200 00cc 44010000 		.4byte	.LFE59
 12201 00d0 00000000 		.4byte	.LFB60
 12202 00d4 F4000000 		.4byte	.LFE60
 12203 00d8 00000000 		.4byte	.LFB61
 12204 00dc 7C000000 		.4byte	.LFE61
 12205 00e0 00000000 		.4byte	.LFB62
 12206 00e4 64000000 		.4byte	.LFE62
 12207 00e8 00000000 		.4byte	.LFB63
 12208 00ec 30000000 		.4byte	.LFE63
 12209 00f0 00000000 		.4byte	.LFB64
 12210 00f4 1C000000 		.4byte	.LFE64
 12211 00f8 00000000 		.4byte	.LFB65
 12212 00fc 10000000 		.4byte	.LFE65
 12213 0100 00000000 		.4byte	.LFB66
 12214 0104 94000000 		.4byte	.LFE66
 12215 0108 00000000 		.4byte	.LFB67
 12216 010c 2E000000 		.4byte	.LFE67
 12217 0110 00000000 		.4byte	.LFB68
 12218 0114 2E000000 		.4byte	.LFE68
 12219 0118 00000000 		.4byte	.LFB69
 12220 011c 2E000000 		.4byte	.LFE69
 12221 0120 00000000 		.4byte	.LFB70
 12222 0124 28000000 		.4byte	.LFE70
 12223 0128 00000000 		.4byte	.LFB71
 12224 012c B4000000 		.4byte	.LFE71
 12225 0130 00000000 		.4byte	.LFB72
 12226 0134 DC030000 		.4byte	.LFE72
 12227 0138 00000000 		.4byte	.LFB73
 12228 013c 92000000 		.4byte	.LFE73
 12229 0140 00000000 		.4byte	.LFB74
 12230 0144 38000000 		.4byte	.LFE74
 12231 0148 00000000 		.4byte	.LFB75
 12232 014c 2C000000 		.4byte	.LFE75
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 290


 12233 0150 00000000 		.4byte	.LFB76
 12234 0154 BC000000 		.4byte	.LFE76
 12235 0158 00000000 		.4byte	.LFB77
 12236 015c 44010000 		.4byte	.LFE77
 12237 0160 00000000 		.4byte	.LFB78
 12238 0164 5C000000 		.4byte	.LFE78
 12239 0168 00000000 		.4byte	.LFB79
 12240 016c E4000000 		.4byte	.LFE79
 12241 0170 00000000 		.4byte	.LFB80
 12242 0174 68040000 		.4byte	.LFE80
 12243 0178 00000000 		.4byte	.LFB81
 12244 017c 68000000 		.4byte	.LFE81
 12245 0180 00000000 		.4byte	.LFB82
 12246 0184 7C010000 		.4byte	.LFE82
 12247 0188 00000000 		.4byte	.LFB83
 12248 018c 74000000 		.4byte	.LFE83
 12249 0190 00000000 		.4byte	.LFB84
 12250 0194 C4000000 		.4byte	.LFE84
 12251 0198 00000000 		.4byte	.LFB85
 12252 019c 50010000 		.4byte	.LFE85
 12253 01a0 00000000 		.4byte	.LFB86
 12254 01a4 54010000 		.4byte	.LFE86
 12255 01a8 00000000 		.4byte	.LFB87
 12256 01ac 0C010000 		.4byte	.LFE87
 12257 01b0 00000000 		.4byte	.LFB88
 12258 01b4 B0010000 		.4byte	.LFE88
 12259 01b8 00000000 		.4byte	.LFB89
 12260 01bc 48000000 		.4byte	.LFE89
 12261 01c0 00000000 		.4byte	.LFB90
 12262 01c4 48000000 		.4byte	.LFE90
 12263 01c8 00000000 		.4byte	.LFB91
 12264 01cc 2C000000 		.4byte	.LFE91
 12265 01d0 00000000 		.4byte	.LFB92
 12266 01d4 4C000000 		.4byte	.LFE92
 12267 01d8 00000000 		.4byte	.LFB93
 12268 01dc 40000000 		.4byte	.LFE93
 12269 01e0 00000000 		.4byte	.LFB94
 12270 01e4 24000000 		.4byte	.LFE94
 12271 01e8 00000000 		.4byte	.LFB95
 12272 01ec B4000000 		.4byte	.LFE95
 12273 01f0 00000000 		.4byte	.LFB96
 12274 01f4 58020000 		.4byte	.LFE96
 12275 01f8 00000000 		.4byte	.LFB97
 12276 01fc 50000000 		.4byte	.LFE97
 12277 0200 00000000 		.4byte	.LFB98
 12278 0204 A0000000 		.4byte	.LFE98
 12279 0208 00000000 		.4byte	.LFB99
 12280 020c BC000000 		.4byte	.LFE99
 12281 0210 00000000 		.4byte	0
 12282 0214 00000000 		.4byte	0
 12283              		.section	.debug_line,"",%progbits
 12284              	.Ldebug_line0:
 12285 0000 630B0000 		.section	.debug_str,"MS",%progbits,1
 12285      02004600 
 12285      00000201 
 12285      FB0E0D00 
 12285      01010101 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 291


 12286              	.LASF88:
 12287 0000 54696D65 		.ascii	"Timeout\000"
 12287      6F757400 
 12288              	.LASF16:
 12289 0008 53444361 		.ascii	"SDCard_Start\000"
 12289      72645F53 
 12289      74617274 
 12289      00
 12290              	.LASF8:
 12291 0015 756E7369 		.ascii	"unsigned int\000"
 12291      676E6564 
 12291      20696E74 
 12291      00
 12292              	.LASF90:
 12293 0022 53444361 		.ascii	"SDCard_SetSize\000"
 12293      72645F53 
 12293      65745369 
 12293      7A6500
 12294              	.LASF131:
 12295 0031 53444361 		.ascii	"SDCard_GetAddress\000"
 12295      72645F47 
 12295      65744164 
 12295      64726573 
 12295      7300
 12296              	.LASF119:
 12297 0043 53444361 		.ascii	"SDCard_GetBuffPtr\000"
 12297      72645F47 
 12297      65744275 
 12297      66665074 
 12297      7200
 12298              	.LASF133:
 12299 0055 53444361 		.ascii	"SDCard_IncOffset\000"
 12299      72645F49 
 12299      6E634F66 
 12299      66736574 
 12299      00
 12300              	.LASF121:
 12301 0066 53444361 		.ascii	"SDCard_WriteDirSect\000"
 12301      72645F57 
 12301      72697465 
 12301      44697253 
 12301      65637400 
 12302              	.LASF20:
 12303 007a 46707472 		.ascii	"Fptr\000"
 12303      00
 12304              	.LASF52:
 12305 007f 53444361 		.ascii	"SDCard_clearerr\000"
 12305      72645F63 
 12305      6C656172 
 12305      65727200 
 12306              	.LASF166:
 12307 008f 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 12307      43313120 
 12307      352E342E 
 12307      31203230 
 12307      31363036 
 12308 00c2 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m0 -mthumb -g -O"
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 292


 12308      20726576 
 12308      6973696F 
 12308      6E203233 
 12308      37373135 
 12309 00f5 30202D66 		.ascii	"0 -ffunction-sections -ffat-lto-objects\000"
 12309      66756E63 
 12309      74696F6E 
 12309      2D736563 
 12309      74696F6E 
 12310              	.LASF78:
 12311 011d 53444361 		.ascii	"SDCard_ACmd_41\000"
 12311      72645F41 
 12311      436D645F 
 12311      343100
 12312              	.LASF91:
 12313 012c 53444361 		.ascii	"SDCard_XferWait\000"
 12313      72645F58 
 12313      66657257 
 12313      61697400 
 12314              	.LASF103:
 12315 013c 53444361 		.ascii	"SDCard_FindFile\000"
 12315      72645F46 
 12315      696E6446 
 12315      696C6500 
 12316              	.LASF132:
 12317 014c 6D6F6465 		.ascii	"mode\000"
 12317      00
 12318              	.LASF137:
 12319 0151 53444361 		.ascii	"SDCard_CurAttr\000"
 12319      72645F43 
 12319      75724174 
 12319      747200
 12320              	.LASF167:
 12321 0160 47656E65 		.ascii	"Generated_Source\\PSoC4\\SDCard_FS.c\000"
 12321      72617465 
 12321      645F536F 
 12321      75726365 
 12321      5C50536F 
 12322              	.LASF101:
 12323 0183 43666174 		.ascii	"Cfat\000"
 12323      00
 12324              	.LASF118:
 12325 0188 4C617374 		.ascii	"LastNum\000"
 12325      4E756D00 
 12326              	.LASF30:
 12327 0190 53444361 		.ascii	"SDCard_fputc\000"
 12327      72645F66 
 12327      70757463 
 12327      00
 12328              	.LASF116:
 12329 019d 53444361 		.ascii	"SDCard_AddFat\000"
 12329      72645F41 
 12329      64644661 
 12329      7400
 12330              	.LASF79:
 12331 01ab 53444361 		.ascii	"SDCard_Cmd_55\000"
 12331      72645F43 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 293


 12331      6D645F35 
 12331      3500
 12332              	.LASF31:
 12333 01b9 53444361 		.ascii	"SDCard_fputs\000"
 12333      72645F66 
 12333      70757473 
 12333      00
 12334              	.LASF169:
 12335 01c6 53444361 		.ascii	"SDCard_GetFileCount\000"
 12335      72645F47 
 12335      65744669 
 12335      6C65436F 
 12335      756E7400 
 12336              	.LASF38:
 12337 01da 456E7472 		.ascii	"Entry\000"
 12337      7900
 12338              	.LASF49:
 12339 01e0 53444361 		.ascii	"SDCard_GetFileSize\000"
 12339      72645F47 
 12339      65744669 
 12339      6C655369 
 12339      7A6500
 12340              	.LASF11:
 12341 01f3 666C6F61 		.ascii	"float\000"
 12341      7400
 12342              	.LASF151:
 12343 01f9 53444361 		.ascii	"SDCard_CurDir\000"
 12343      72645F43 
 12343      75724469 
 12343      7200
 12344              	.LASF62:
 12345 0207 53444361 		.ascii	"SDCard_Copy\000"
 12345      72645F43 
 12345      6F707900 
 12346              	.LASF35:
 12347 0213 636F756E 		.ascii	"count\000"
 12347      7400
 12348              	.LASF48:
 12349 0219 7750726F 		.ascii	"wProtect\000"
 12349      74656374 
 12349      00
 12350              	.LASF7:
 12351 0222 6C6F6E67 		.ascii	"long long unsigned int\000"
 12351      206C6F6E 
 12351      6720756E 
 12351      7369676E 
 12351      65642069 
 12352              	.LASF141:
 12353 0239 53444361 		.ascii	"SDCard_CurOffset\000"
 12353      72645F43 
 12353      75724F66 
 12353      66736574 
 12353      00
 12354              	.LASF81:
 12355 024a 53444361 		.ascii	"SDCard_GetTable\000"
 12355      72645F47 
 12355      65745461 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 294


 12355      626C6500 
 12356              	.LASF146:
 12357 025a 53444361 		.ascii	"SDCard_Fat1Start\000"
 12357      72645F46 
 12357      61743153 
 12357      74617274 
 12357      00
 12358              	.LASF51:
 12359 026b 53444361 		.ascii	"SDCard_fflush\000"
 12359      72645F66 
 12359      666C7573 
 12359      6800
 12360              	.LASF122:
 12361 0279 53444361 		.ascii	"SDCard_ReadFatSect\000"
 12361      72645F52 
 12361      65616446 
 12361      61745365 
 12361      637400
 12362              	.LASF89:
 12363 028c 5265706C 		.ascii	"Reply\000"
 12363      7900
 12364              	.LASF83:
 12365 0292 53444361 		.ascii	"SDCard_GetBoot\000"
 12365      72645F47 
 12365      6574426F 
 12365      6F7400
 12366              	.LASF58:
 12367 02a1 53444361 		.ascii	"SDCard_Rename\000"
 12367      72645F52 
 12367      656E616D 
 12367      6500
 12368              	.LASF40:
 12369 02af 6C6F6F70 		.ascii	"loop\000"
 12369      00
 12370              	.LASF92:
 12371 02b4 73746174 		.ascii	"stat\000"
 12371      00
 12372              	.LASF115:
 12373 02b9 4E657874 		.ascii	"NextEntry\000"
 12373      456E7472 
 12373      7900
 12374              	.LASF33:
 12375 02c3 53444361 		.ascii	"SDCard_fputBuff\000"
 12375      72645F66 
 12375      70757442 
 12375      75666600 
 12376              	.LASF34:
 12377 02d3 62756666 		.ascii	"buff\000"
 12377      00
 12378              	.LASF157:
 12379 02d8 53444361 		.ascii	"SDCard_DirFat\000"
 12379      72645F44 
 12379      69724661 
 12379      7400
 12380              	.LASF128:
 12381 02e6 4C656E67 		.ascii	"Length\000"
 12381      746800
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 295


 12382              	.LASF27:
 12383 02ed 6F666673 		.ascii	"offset\000"
 12383      657400
 12384              	.LASF154:
 12385 02f4 53444361 		.ascii	"SDCard_FatEntrySize\000"
 12385      72645F46 
 12385      6174456E 
 12385      74727953 
 12385      697A6500 
 12386              	.LASF117:
 12387 0308 46726565 		.ascii	"FreeNum\000"
 12387      4E756D00 
 12388              	.LASF114:
 12389 0310 46697273 		.ascii	"FirstFat\000"
 12389      74466174 
 12389      00
 12390              	.LASF44:
 12391 0319 436C7573 		.ascii	"Clusters\000"
 12391      74657273 
 12391      00
 12392              	.LASF17:
 12393 0322 53444361 		.ascii	"SDCard_Stop\000"
 12393      72645F53 
 12393      746F7000 
 12394              	.LASF53:
 12395 032e 53444361 		.ascii	"SDCard_feof\000"
 12395      72645F66 
 12395      656F6600 
 12396              	.LASF84:
 12397 033a 54656D70 		.ascii	"TempInt\000"
 12397      496E7400 
 12398              	.LASF161:
 12399 0342 53444361 		.ascii	"SDCard_SectBuf1\000"
 12399      72645F53 
 12399      65637442 
 12399      75663100 
 12400              	.LASF162:
 12401 0352 53444361 		.ascii	"SDCard_SectBuf2\000"
 12401      72645F53 
 12401      65637442 
 12401      75663200 
 12402              	.LASF153:
 12403 0362 53444361 		.ascii	"SDCard_EmptyFat\000"
 12403      72645F45 
 12403      6D707479 
 12403      46617400 
 12404              	.LASF47:
 12405 0372 53444361 		.ascii	"SDCard_WriteProtect\000"
 12405      72645F57 
 12405      72697465 
 12405      50726F74 
 12405      65637400 
 12406              	.LASF93:
 12407 0386 53444361 		.ascii	"SDCard_NextFat\000"
 12407      72645F4E 
 12407      65787446 
 12407      617400
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 296


 12408              	.LASF13:
 12409 0395 63686172 		.ascii	"char\000"
 12409      00
 12410              	.LASF138:
 12411 039a 53444361 		.ascii	"SDCard_FileError\000"
 12411      72645F46 
 12411      696C6545 
 12411      72726F72 
 12411      00
 12412              	.LASF86:
 12413 03ab 53444361 		.ascii	"SDCard_CheckReply\000"
 12413      72645F43 
 12413      6865636B 
 12413      5265706C 
 12413      7900
 12414              	.LASF85:
 12415 03bd 54656D70 		.ascii	"TempLong\000"
 12415      4C6F6E67 
 12415      00
 12416              	.LASF94:
 12417 03c6 53617665 		.ascii	"SaveFat\000"
 12417      46617400 
 12418              	.LASF164:
 12419 03ce 53444361 		.ascii	"SDCard_BlankDir\000"
 12419      72645F42 
 12419      6C616E6B 
 12419      44697200 
 12420              	.LASF24:
 12421 03de 73746174 		.ascii	"status\000"
 12421      757300
 12422              	.LASF82:
 12423 03e5 426F6F74 		.ascii	"BootStart\000"
 12423      53746172 
 12423      7400
 12424              	.LASF104:
 12425 03ef 46696C65 		.ascii	"FileNum\000"
 12425      4E756D00 
 12426              	.LASF156:
 12427 03f7 53444361 		.ascii	"SDCard_DirtyFlag\000"
 12427      72645F44 
 12427      69727479 
 12427      466C6167 
 12427      00
 12428              	.LASF136:
 12429 0408 53444361 		.ascii	"SDCard_CurSect\000"
 12429      72645F43 
 12429      75725365 
 12429      637400
 12430              	.LASF113:
 12431 0417 53444361 		.ascii	"SDCard_FatReclaim\000"
 12431      72645F46 
 12431      61745265 
 12431      636C6169 
 12431      6D00
 12432              	.LASF65:
 12433 0429 436D644E 		.ascii	"CmdNum\000"
 12433      756D00
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 297


 12434              	.LASF29:
 12435 0430 53444361 		.ascii	"SDCard_fbgetc\000"
 12435      72645F66 
 12435      62676574 
 12435      6300
 12436              	.LASF135:
 12437 043e 53444361 		.ascii	"SDCard_CurFat\000"
 12437      72645F43 
 12437      75724661 
 12437      7400
 12438              	.LASF6:
 12439 044c 6C6F6E67 		.ascii	"long long int\000"
 12439      206C6F6E 
 12439      6720696E 
 12439      7400
 12440              	.LASF97:
 12441 045a 4E666174 		.ascii	"Nfat\000"
 12441      00
 12442              	.LASF139:
 12443 045f 53444361 		.ascii	"SDCard_FileMode\000"
 12443      72645F46 
 12443      696C654D 
 12443      6F646500 
 12444              	.LASF145:
 12445 046f 53444361 		.ascii	"SDCard_ClusterSize\000"
 12445      72645F43 
 12445      6C757374 
 12445      65725369 
 12445      7A6500
 12446              	.LASF108:
 12447 0482 53444361 		.ascii	"SDCard_WriteSect\000"
 12447      72645F57 
 12447      72697465 
 12447      53656374 
 12447      00
 12448              	.LASF32:
 12449 0493 53444361 		.ascii	"SDCard_fputcs\000"
 12449      72645F66 
 12449      70757463 
 12449      7300
 12450              	.LASF105:
 12451 04a1 6D617463 		.ascii	"match\000"
 12451      6800
 12452              	.LASF148:
 12453 04a7 53444361 		.ascii	"SDCard_DirStart\000"
 12453      72645F44 
 12453      69725374 
 12453      61727400 
 12454              	.LASF140:
 12455 04b7 53444361 		.ascii	"SDCard_CurSize\000"
 12455      72645F43 
 12455      75725369 
 12455      7A6500
 12456              	.LASF107:
 12457 04c6 53444361 		.ascii	"SDCard_WriteFileSect\000"
 12457      72645F57 
 12457      72697465 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 298


 12457      46696C65 
 12457      53656374 
 12458              	.LASF95:
 12459 04db 53444361 		.ascii	"SDCard_FatTrack\000"
 12459      72645F46 
 12459      61745472 
 12459      61636B00 
 12460              	.LASF106:
 12461 04eb 66696C65 		.ascii	"files\000"
 12461      7300
 12462              	.LASF50:
 12463 04f1 73697A65 		.ascii	"size\000"
 12463      00
 12464              	.LASF10:
 12465 04f6 75696E74 		.ascii	"uint32\000"
 12465      333200
 12466              	.LASF150:
 12467 04fd 53444361 		.ascii	"SDCard_MemoryStart\000"
 12467      72645F4D 
 12467      656D6F72 
 12467      79537461 
 12467      727400
 12468              	.LASF42:
 12469 0510 53444361 		.ascii	"SDCard_fseek\000"
 12469      72645F66 
 12469      7365656B 
 12469      00
 12470              	.LASF46:
 12471 051d 43617264 		.ascii	"CardIn\000"
 12471      496E00
 12472              	.LASF45:
 12473 0524 53444361 		.ascii	"SDCard_Present\000"
 12473      72645F50 
 12473      72657365 
 12473      6E7400
 12474              	.LASF102:
 12475 0533 53444361 		.ascii	"SDCard_NextSect\000"
 12475      72645F4E 
 12475      65787453 
 12475      65637400 
 12476              	.LASF73:
 12477 0543 53444361 		.ascii	"SDCard_EndCmd\000"
 12477      72645F45 
 12477      6E64436D 
 12477      6400
 12478              	.LASF55:
 12479 0551 53444361 		.ascii	"SDCard_ftell\000"
 12479      72645F66 
 12479      74656C6C 
 12479      00
 12480              	.LASF14:
 12481 055e 6C6F6E67 		.ascii	"long double\000"
 12481      20646F75 
 12481      626C6500 
 12482              	.LASF54:
 12483 056a 53444361 		.ascii	"SDCard_ferror\000"
 12483      72645F66 
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 299


 12483      6572726F 
 12483      7200
 12484              	.LASF120:
 12485 0578 53444361 		.ascii	"SDCard_ReadDirSect\000"
 12485      72645F52 
 12485      65616444 
 12485      69725365 
 12485      637400
 12486              	.LASF26:
 12487 058b 53444361 		.ascii	"SDCard_fgetc\000"
 12487      72645F66 
 12487      67657463 
 12487      00
 12488              	.LASF19:
 12489 0598 53444361 		.ascii	"SDCard_fopen\000"
 12489      72645F66 
 12489      6F70656E 
 12489      00
 12490              	.LASF39:
 12491 05a5 53444361 		.ascii	"SDCard_InitCard\000"
 12491      72645F49 
 12491      6E697443 
 12491      61726400 
 12492              	.LASF129:
 12493 05b5 53444361 		.ascii	"SDCard_CopyDir\000"
 12493      72645F43 
 12493      6F707944 
 12493      697200
 12494              	.LASF100:
 12495 05c4 53444361 		.ascii	"SDCard_LastFat\000"
 12495      72645F4C 
 12495      61737446 
 12495      617400
 12496              	.LASF2:
 12497 05d3 73686F72 		.ascii	"short int\000"
 12497      7420696E 
 12497      7400
 12498              	.LASF64:
 12499 05dd 53444361 		.ascii	"SDCard_Cmd\000"
 12499      72645F43 
 12499      6D6400
 12500              	.LASF22:
 12501 05e8 4D6F6465 		.ascii	"Mode\000"
 12501      00
 12502              	.LASF4:
 12503 05ed 6C6F6E67 		.ascii	"long int\000"
 12503      20696E74 
 12503      00
 12504              	.LASF36:
 12505 05f6 53444361 		.ascii	"SDCard_fputcBuff\000"
 12505      72645F66 
 12505      70757463 
 12505      42756666 
 12505      00
 12506              	.LASF96:
 12507 0607 4661744E 		.ascii	"FatNum\000"
 12507      756D00
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 300


 12508              	.LASF72:
 12509 060e 74656D70 		.ascii	"temp\000"
 12509      00
 12510              	.LASF130:
 12511 0613 46707472 		.ascii	"Fptr1\000"
 12511      3100
 12512              	.LASF63:
 12513 0619 46707472 		.ascii	"Fptr2\000"
 12513      3200
 12514              	.LASF23:
 12515 061f 666C6167 		.ascii	"flag\000"
 12515      00
 12516              	.LASF66:
 12517 0624 50617261 		.ascii	"Param\000"
 12517      6D00
 12518              	.LASF110:
 12519 062a 53444361 		.ascii	"SDCard_ReadSect\000"
 12519      72645F52 
 12519      65616453 
 12519      65637400 
 12520              	.LASF123:
 12521 063a 53444361 		.ascii	"SDCard_WriteFatSect\000"
 12521      72645F57 
 12521      72697465 
 12521      46617453 
 12521      65637400 
 12522              	.LASF142:
 12523 064e 53444361 		.ascii	"SDCard_CardType\000"
 12523      72645F43 
 12523      61726454 
 12523      79706500 
 12524              	.LASF74:
 12525 065e 53444361 		.ascii	"SDCard_Wait\000"
 12525      72645F57 
 12525      61697400 
 12526              	.LASF149:
 12527 066a 53444361 		.ascii	"SDCard_DataStart\000"
 12527      72645F44 
 12527      61746153 
 12527      74617274 
 12527      00
 12528              	.LASF37:
 12529 067b 53444361 		.ascii	"SDCard_GetFilename\000"
 12529      72645F47 
 12529      65744669 
 12529      6C656E61 
 12529      6D6500
 12530              	.LASF152:
 12531 068e 53444361 		.ascii	"SDCard_DirSize\000"
 12531      72645F44 
 12531      69725369 
 12531      7A6500
 12532              	.LASF80:
 12533 069d 53444361 		.ascii	"SDCard_Cmd_13\000"
 12533      72645F43 
 12533      6D645F31 
 12533      3300
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 301


 12534              	.LASF15:
 12535 06ab 73697A65 		.ascii	"sizetype\000"
 12535      74797065 
 12535      00
 12536              	.LASF5:
 12537 06b4 6C6F6E67 		.ascii	"long unsigned int\000"
 12537      20756E73 
 12537      69676E65 
 12537      6420696E 
 12537      7400
 12538              	.LASF99:
 12539 06c6 61646472 		.ascii	"address\000"
 12539      65737300 
 12540              	.LASF147:
 12541 06ce 53444361 		.ascii	"SDCard_Fat2Start\000"
 12541      72645F46 
 12541      61743253 
 12541      74617274 
 12541      00
 12542              	.LASF111:
 12543 06df 53444361 		.ascii	"SDCard_NewFile\000"
 12543      72645F4E 
 12543      65774669 
 12543      6C6500
 12544              	.LASF163:
 12545 06ee 53444361 		.ascii	"SDCard_CmdStr00\000"
 12545      72645F43 
 12545      6D645374 
 12545      72303000 
 12546              	.LASF159:
 12547 06fe 53444361 		.ascii	"SDCard_Address\000"
 12547      72645F41 
 12547      64647265 
 12547      737300
 12548              	.LASF134:
 12549 070d 53444361 		.ascii	"SDCard_CurStart\000"
 12549      72645F43 
 12549      75725374 
 12549      61727400 
 12550              	.LASF59:
 12551 071d 4F6C6446 		.ascii	"OldFilename\000"
 12551      696C656E 
 12551      616D6500 
 12552              	.LASF1:
 12553 0729 756E7369 		.ascii	"unsigned char\000"
 12553      676E6564 
 12553      20636861 
 12553      7200
 12554              	.LASF60:
 12555 0737 4E657746 		.ascii	"NewFilename\000"
 12555      696C656E 
 12555      616D6500 
 12556              	.LASF98:
 12557 0743 4C6F6F70 		.ascii	"Loop\000"
 12557      00
 12558              	.LASF76:
 12559 0748 53444361 		.ascii	"SDCard_Cmd_00\000"
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 302


 12559      72645F43 
 12559      6D645F30 
 12559      3000
 12560              	.LASF77:
 12561 0756 53444361 		.ascii	"SDCard_Cmd_01\000"
 12561      72645F43 
 12561      6D645F30 
 12561      3100
 12562              	.LASF21:
 12563 0764 46696C65 		.ascii	"Filename\000"
 12563      6E616D65 
 12563      00
 12564              	.LASF25:
 12565 076d 7846696C 		.ascii	"xFilename\000"
 12565      656E616D 
 12565      6500
 12566              	.LASF165:
 12567 0777 72627566 		.ascii	"rbuff\000"
 12567      6600
 12568              	.LASF57:
 12569 077d 53444361 		.ascii	"SDCard_Remove\000"
 12569      72645F52 
 12569      656D6F76 
 12569      6500
 12570              	.LASF124:
 12571 078b 53444361 		.ascii	"SDCard_GetFatAddr\000"
 12571      72645F47 
 12571      65744661 
 12571      74416464 
 12571      7200
 12572              	.LASF125:
 12573 079d 53444361 		.ascii	"SDCard_UpdateDir\000"
 12573      72645F55 
 12573      70646174 
 12573      65446972 
 12573      00
 12574              	.LASF158:
 12575 07ae 53444361 		.ascii	"SDCard_FatEnd\000"
 12575      72645F46 
 12575      6174456E 
 12575      6400
 12576              	.LASF126:
 12577 07bc 54656D70 		.ascii	"TempSize\000"
 12577      53697A65 
 12577      00
 12578              	.LASF109:
 12579 07c5 53444361 		.ascii	"SDCard_ReadFileSect\000"
 12579      72645F52 
 12579      65616446 
 12579      696C6553 
 12579      65637400 
 12580              	.LASF155:
 12581 07d9 53444361 		.ascii	"SDCard_BuffLoc\000"
 12581      72645F42 
 12581      7566664C 
 12581      6F6300
 12582              	.LASF41:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 303


 12583 07e8 546D7043 		.ascii	"TmpClkIn\000"
 12583      6C6B496E 
 12583      00
 12584              	.LASF168:
 12585 07f1 433A5C55 		.ascii	"C:\\Users\\Rafael\\Documents\\PSoC Creator\\SD Card"
 12585      73657273 
 12585      5C526166 
 12585      61656C5C 
 12585      446F6375 
 12586 081f 5C534443 		.ascii	"\\SDCard_Demo.cydsn\000"
 12586      6172645F 
 12586      44656D6F 
 12586      2E637964 
 12586      736E00
 12587              	.LASF0:
 12588 0832 7369676E 		.ascii	"signed char\000"
 12588      65642063 
 12588      68617200 
 12589              	.LASF3:
 12590 083e 73686F72 		.ascii	"short unsigned int\000"
 12590      7420756E 
 12590      7369676E 
 12590      65642069 
 12590      6E7400
 12591              	.LASF18:
 12592 0851 53444361 		.ascii	"SDCard_fclose\000"
 12592      72645F66 
 12592      636C6F73 
 12592      6500
 12593              	.LASF75:
 12594 085f 53444361 		.ascii	"SDCard_Wait2\000"
 12594      72645F57 
 12594      61697432 
 12594      00
 12595              	.LASF9:
 12596 086c 75696E74 		.ascii	"uint8\000"
 12596      3800
 12597              	.LASF12:
 12598 0872 646F7562 		.ascii	"double\000"
 12598      6C6500
 12599              	.LASF61:
 12600 0879 44707472 		.ascii	"Dptr\000"
 12600      00
 12601              	.LASF43:
 12602 087e 4F666673 		.ascii	"Offset\000"
 12602      657400
 12603              	.LASF160:
 12604 0885 53444361 		.ascii	"SDCard_Speed\000"
 12604      72645F53 
 12604      70656564 
 12604      00
 12605              	.LASF67:
 12606 0892 53444361 		.ascii	"SDCard_GetR1\000"
 12606      72645F47 
 12606      65745231 
 12606      00
 12607              	.LASF71:
ARM GAS  C:\Users\Rafael\AppData\Local\Temp\ccuA92YE.s 			page 304


 12608 089f 53444361 		.ascii	"SDCard_GetR2\000"
 12608      72645F47 
 12608      65745232 
 12608      00
 12609              	.LASF127:
 12610 08ac 53444361 		.ascii	"SDCard_ParseFilename\000"
 12610      72645F50 
 12610      61727365 
 12610      46696C65 
 12610      6E616D65 
 12611              	.LASF68:
 12612 08c1 74657374 		.ascii	"test1\000"
 12612      3100
 12613              	.LASF69:
 12614 08c7 74657374 		.ascii	"test2\000"
 12614      3200
 12615              	.LASF70:
 12616 08cd 74657374 		.ascii	"test3\000"
 12616      3300
 12617              	.LASF143:
 12618 08d3 53444361 		.ascii	"SDCard_Buffer1\000"
 12618      72645F42 
 12618      75666665 
 12618      723100
 12619              	.LASF144:
 12620 08e2 53444361 		.ascii	"SDCard_Buffer2\000"
 12620      72645F42 
 12620      75666665 
 12620      723200
 12621              	.LASF112:
 12622 08f1 53444361 		.ascii	"SDCard_FileZero\000"
 12622      72645F46 
 12622      696C655A 
 12622      65726F00 
 12623              	.LASF87:
 12624 0901 63686563 		.ascii	"check\000"
 12624      6B00
 12625              	.LASF28:
 12626 0907 44617461 		.ascii	"Data\000"
 12626      00
 12627              	.LASF56:
 12628 090c 706F7369 		.ascii	"position\000"
 12628      74696F6E 
 12628      00
 12629              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
